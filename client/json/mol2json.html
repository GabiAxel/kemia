<!DOCTYPE html>
<!--TODO: License and copyright-->
<html>
<head>
<title>Molblock to JSON with render</title>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<script src="../../closure/goog/base.js"></script>
<script>
	goog.require('goog.dom');
	goog.require('goog.graphics')
	goog.require('goog.events');
    goog.require('goog.events.EventType');; 	
</script>
<script src="../core/core.js"></script>
<script src="../io/io.js"></script>
<script src="../config/config.js"></script>
<script src="../resource/atomic_system.js"></script>
<script src="../ring/ring_finder.js"></script>
<script src="../ring/ring.js"></script>

<script src="../render/render_demo_molsample.js"></script>
<script src="../render/geometry.js"></script>
<script src="../render/render.js"></script>
<script>
function loadMol() {
	molblock = document.getElementById("molblock");
	molblock.value = molsample;
}
function showMol(molblock) {
	var mol = chem.io.Molfile.read(molblock);
	renderMol(mol);
	showJSON(mol);
}
function showJSON(mol) {
	jblock = document.getElementById("jsonblock");
	jblock.value = chem.io.JSONMolecule.write(mol);
}
function renderMol(mol) {

    chem.render.Geometry.translateAllPositive(mol);
	
 	var context={
		widgetType:"editor",
		renderParams:chem.config.RenderParams.get(),
		targetElement:document.getElementById('testGraphics'),
		width:400,
		height:400,
		mol:mol		
	};
	
	var renderer=new chem.render.Renderer(context);
}
	
</script>
</head>
<body onLoad="loadMol()">
<form>
<textarea id="molblock" name="molblock" cols=80>Paste molblock here</textarea>
<input type=button value="render" onClick="showMol(molblock.value)">
<BR>
<textarea id="jsonblock" cols=80>JSON will appear here</textarea>
</form>

	<div id="testGraphics" />
	<p>Simply move your mouse on atoms and bonds</p>
    
</body>
</html>
