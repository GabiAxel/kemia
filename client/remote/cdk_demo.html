<!DOCTYPE html>
<!--TODO: License and copyright-->
<html>
<head>
<title>Simple graphics demo</title>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<script src="../../closure/goog/base.js"></script>
<script>
	goog.require('goog.dom');
	goog.require('goog.graphics')
	goog.require('goog.events');
    goog.require('goog.events.EventType'); 	
</script>
<script src="../core/core.js"></script>
<script src="../io/io.js"></script>
<script src="../config/config.js"></script>
<script src="../resource/atomic_system.js"></script>
<script src="../render/geometry.js"></script>
<script src="../render/render.js"></script>
<script src="cdk.js"></script>
</head>
<body>

<script>
    function onDrawClick(e){
        var smilesInput=document.getElementById('smiles');
        if(!smilesInput.value){
            alert("SMILES is empty");
            return;
        }
        var cdkService=new chem.remote.CDK();
        cdkService.smilesToMolfile({'smiles':smilesInput.value},function(val){
            if(!val.exception){
                var mol = chem.io.Molfile.read(val.molfile);
                chem.render.Geometry.translateAllPositive(mol);
                 var context={
                    widgetType:"editor",
                    renderParams:chem.config.RenderParams.get(),
                    targetElement:document.getElementById('testGraphics'),
                    width:400,
                    height:400,
                    mol:mol
                };
                context.renderParams.zoomFactor=0.5;
                var renderer=new chem.render.Renderer(context);
            }
        },function(e){

        });
    }

	</script>
	<div id="testGraphics"></div>
    <p>SMILES:<input type="text" value="" id="smiles" /> <input type="button" value="Draw" id="draw" onclick="onDrawClick();" /></p>
</body>
</html>
