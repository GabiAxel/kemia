var a,COMPILED=true,goog=goog||{};goog.global=this;goog.DEBUG=true;goog.LOCALE="en";goog.evalWorksForGlobals_=null;goog.provide=function(b){if(!COMPILED){if(goog.getObjectByName(b)&&!goog.implicitNamespaces_[b])throw Error('Namespace "'+b+'" already declared.');for(var c=b;c=c.substring(0,c.lastIndexOf("."));)goog.implicitNamespaces_[c]=true}goog.exportPath_(b)};if(!COMPILED)goog.implicitNamespaces_={};
goog.exportPath_=function(b,c,d){b=b.split(".");d=d||goog.global;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)if(!b.length&&goog.isDef(c))d[e]=c;else d=d[e]?d[e]:(d[e]={})};goog.getObjectByName=function(b,c){b=b.split(".");c=c||goog.global;for(var d;d=b.shift();)if(c[d])c=c[d];else return null;return c};goog.globalize=function(b,c){c=c||goog.global;for(var d in b)c[d]=b[d]};
goog.addDependency=function(b,c,d){if(!COMPILED){var e;b=b.replace(/\\/g,"/");for(var f=goog.dependencies_,g=0;e=c[g];g++){f.nameToPath[e]=b;b in f.pathToNames||(f.pathToNames[b]={});f.pathToNames[b][e]=true}for(e=0;c=d[e];e++){b in f.requires||(f.requires[b]={});f.requires[b][c]=true}}};
goog.require=function(b){if(!COMPILED)if(!goog.getObjectByName(b)){var c=goog.getPathFromDeps_(b);if(c){goog.included_[c]=true;goog.writeScripts_()}else{b="goog.require could not find: "+b;goog.global.console&&goog.global.console.error(b);throw Error(b);}}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(b){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(b){b.getInstance=function(){return b.instance_||(b.instance_=new b)}};
if(!COMPILED){goog.included_={};goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}};goog.inHtmlDocument_=function(){var b=goog.global.document;return typeof b!="undefined"&&"write"in b};goog.findBasePath_=function(){if(goog.inHtmlDocument_()){var b=goog.global.document;if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else{b=b.getElementsByTagName("script");for(var c=b.length-1;c>=0;--c){var d=b[c].src,e=d.length;if(d.substr(e-7)=="base.js"){goog.basePath=
d.substr(0,e-7);return}}}}};goog.writeScriptTag_=function(b){if(goog.inHtmlDocument_()&&!goog.dependencies_.written[b]){goog.dependencies_.written[b]=true;goog.global.document.write('<script type="text/javascript" src="'+b+'"><\/script>')}};goog.writeScripts_=function(){function b(g){if(!(g in e.written)){if(!(g in e.visited)){e.visited[g]=true;if(g in e.requires)for(var h in e.requires[g])if(h in e.nameToPath)b(e.nameToPath[h]);else if(!goog.getObjectByName(h))throw Error("Undefined nameToPath for "+
h);}if(!(g in d)){d[g]=true;c.push(g)}}}var c=[],d={},e=goog.dependencies_;for(var f in goog.included_)e.written[f]||b(f);for(f=0;f<c.length;f++)if(c[f])goog.writeScriptTag_(goog.basePath+c[f]);else throw Error("Undefined script input");};goog.getPathFromDeps_=function(b){return b in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[b]:null};goog.findBasePath_();goog.global.CLOSURE_NO_DEPS||goog.writeScriptTag_(goog.basePath+"deps.js")}
goog.typeOf=function(b){var c=typeof b;if(c=="object")if(b){if(b instanceof Array||!(b instanceof Object)&&Object.prototype.toString.call(b)=="[object Array]"||typeof b.length=="number"&&typeof b.splice!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("splice"))return"array";if(!(b instanceof Object)&&(Object.prototype.toString.call(b)=="[object Function]"||typeof b.call!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof b.call=="undefined")return"object";return c};goog.propertyIsEnumerableCustom_=function(b,c){if(c in b)for(var d in b)if(d==c&&Object.prototype.hasOwnProperty.call(b,c))return true;return false};goog.propertyIsEnumerable_=function(b,c){return b instanceof Object?Object.prototype.propertyIsEnumerable.call(b,c):goog.propertyIsEnumerableCustom_(b,c)};goog.isDef=function(b){return b!==undefined};goog.isNull=function(b){return b===null};
goog.isDefAndNotNull=function(b){return b!=null};goog.isArray=function(b){return goog.typeOf(b)=="array"};goog.isArrayLike=function(b){var c=goog.typeOf(b);return c=="array"||c=="object"&&typeof b.length=="number"};goog.isDateLike=function(b){return goog.isObject(b)&&typeof b.getFullYear=="function"};goog.isString=function(b){return typeof b=="string"};goog.isBoolean=function(b){return typeof b=="boolean"};goog.isNumber=function(b){return typeof b=="number"};
goog.isFunction=function(b){return goog.typeOf(b)=="function"};goog.isObject=function(b){b=goog.typeOf(b);return b=="object"||b=="array"||b=="function"};goog.getUid=function(b){if(b.hasOwnProperty&&b.hasOwnProperty(goog.UID_PROPERTY_))return b[goog.UID_PROPERTY_];b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_);return b[goog.UID_PROPERTY_]};goog.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(c){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var c=goog.typeOf(b);if(c=="object"||c=="array"){if(b.clone)return b.clone.call(b);c=c=="array"?[]:{};for(var d in b)c[d]=goog.cloneObject(b[d]);return c}return b};
goog.bind=function(b,c){var d=c||goog.global;if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return b.apply(d,f)}}else return function(){return b.apply(d,arguments)}};goog.partial=function(b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=Array.prototype.slice.call(arguments);d.unshift.apply(d,c);return b.apply(this,d)}};
goog.mixin=function(b,c){for(var d in c)b[d]=c[d]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _et_ = 1;");if(typeof goog.global._et_!="undefined"){delete goog.global._et_;goog.evalWorksForGlobals_=true}else goog.evalWorksForGlobals_=false}if(goog.evalWorksForGlobals_)goog.global.eval(b);else{var c=goog.global.document,d=c.createElement("script");d.type="text/javascript";d.defer=false;d.appendChild(c.createTextNode(b));
c.body.appendChild(d);c.body.removeChild(d)}}else throw Error("goog.globalEval not available");};goog.typedef=true;goog.getCssName=function(b,c){b=b+(c?"-"+c:"");return goog.cssNameMapping_&&b in goog.cssNameMapping_?goog.cssNameMapping_[b]:b};goog.setCssNameMapping=function(b){goog.cssNameMapping_=b};goog.getMsg=function(b,c){c=c||{};for(var d in c)b=b.replace(new RegExp("\\{\\$"+d+"\\}","gi"),c[d]);return b};goog.exportSymbol=function(b,c,d){goog.exportPath_(b,c,d)};
goog.exportProperty=function(b,c,d){b[c]=d};goog.inherits=function(b,c){function d(){}d.prototype=c.prototype;b.superClass_=c.prototype;b.prototype=new d;b.prototype.constructor=b};
goog.base=function(b,c){var d=arguments.callee.caller;if(d.superClass_)return d.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=false,g=b.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[c]===d)f=true;else if(f)return g.prototype[c].apply(b,e);if(b[c]===d)return b.constructor.prototype[c].apply(b,e);else throw Error("goog.base called from a method of one name to a method of a different name");};goog.Disposable=function(){};a=goog.Disposable.prototype;a.disposed_=false;a.isDisposed=function(){return this.disposed_};a.getDisposed=goog.Disposable.prototype.isDisposed;a.dispose=function(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};a.disposeInternal=function(){};goog.dispose=function(b){b&&typeof b.dispose=="function"&&b.dispose()};goog.array={};goog.array.ArrayLike=goog.typedef;goog.array.peek=function(b){return b[b.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;goog.array.indexOf=goog.array.ARRAY_PROTOTYPE_.indexOf?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.indexOf.call(b,c,d)}:function(b,c,d){d=d==null?0:d<0?Math.max(0,b.length+d):d;if(goog.isString(b)){if(!goog.isString(c)||c.length!=1)return-1;return b.indexOf(c,d)}for(d=d;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
goog.array.lastIndexOf=goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(b,c,d==null?b.length-1:d)}:function(b,c,d){d=d==null?b.length-1:d;if(d<0)d=Math.max(0,b.length+d);if(goog.isString(b)){if(!goog.isString(c)||c.length!=1)return-1;return b.lastIndexOf(c,d)}for(d=d;d>=0;d--)if(d in b&&b[d]===c)return d;return-1};
goog.array.forEach=goog.array.ARRAY_PROTOTYPE_.forEach?function(b,c,d){goog.array.ARRAY_PROTOTYPE_.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)g in f&&c.call(d,f[g],g,b)};goog.array.forEachRight=function(b,c,d){var e=b.length,f=goog.isString(b)?b.split(""):b;for(e=e-1;e>=0;--e)e in f&&c.call(d,f[e],e,b)};
goog.array.filter=goog.array.ARRAY_PROTOTYPE_.filter?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=[],g=0,h=goog.isString(b)?b.split(""):b,i=0;i<e;i++)if(i in h){var j=h[i];if(c.call(d,j,i,b))f[g++]=j}return f};
goog.array.map=goog.array.ARRAY_PROTOTYPE_.map?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=new Array(e),g=goog.isString(b)?b.split(""):b,h=0;h<e;h++)if(h in g)f[h]=c.call(d,g[h],h,b);return f};goog.array.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(goog.bind(c,e),d):b.reduce(c,d);var f=d;goog.array.forEach(b,function(g,h){f=c.call(e,f,g,h,b)});return f};
goog.array.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(goog.bind(c,e),d):b.reduceRight(c,d);var f=d;goog.array.forEachRight(b,function(g,h){f=c.call(e,f,g,h,b)});return f};goog.array.some=goog.array.ARRAY_PROTOTYPE_.some?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&c.call(d,f[g],g,b))return true;return false};
goog.array.every=goog.array.ARRAY_PROTOTYPE_.every?function(b,c,d){return goog.array.ARRAY_PROTOTYPE_.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&!c.call(d,f[g],g,b))return false;return true};goog.array.find=function(b,c,d){c=goog.array.findIndex(b,c,d);return c<0?null:goog.isString(b)?b.charAt(c):b[c]};
goog.array.findIndex=function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&c.call(d,f[g],g,b))return g;return-1};goog.array.findRight=function(b,c,d){c=goog.array.findIndexRight(b,c,d);return c<0?null:goog.isString(b)?b.charAt(c):b[c]};goog.array.findIndexRight=function(b,c,d){var e=b.length,f=goog.isString(b)?b.split(""):b;for(e=e-1;e>=0;e--)if(e in f&&c.call(d,f[e],e,b))return e;return-1};goog.array.contains=function(b,c){return goog.array.indexOf(b,c)>=0};
goog.array.isEmpty=function(b){return b.length==0};goog.array.clear=function(b){if(!goog.isArray(b))for(var c=b.length-1;c>=0;c--)delete b[c];b.length=0};goog.array.insert=function(b,c){goog.array.contains(b,c)||b.push(c)};goog.array.insertAt=function(b,c,d){goog.array.splice(b,d,0,c)};goog.array.insertArrayAt=function(b,c,d){goog.partial(goog.array.splice,b,d,0).apply(null,c)};
goog.array.insertBefore=function(b,c,d){var e;arguments.length==2||(e=goog.array.indexOf(b,d))<0?b.push(c):goog.array.insertAt(b,c,e)};goog.array.remove=function(b,c){c=goog.array.indexOf(b,c);var d;if(d=c>=0)goog.array.removeAt(b,c);return d};goog.array.removeAt=function(b,c){return goog.array.ARRAY_PROTOTYPE_.splice.call(b,c,1).length==1};goog.array.removeIf=function(b,c,d){c=goog.array.findIndex(b,c,d);if(c>=0){goog.array.removeAt(b,c);return true}return false};
goog.array.concat=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.clone=function(b){if(goog.isArray(b))return goog.array.concat(b);else{for(var c=[],d=0,e=b.length;d<e;d++)c[d]=b[d];return c}};goog.array.toArray=function(b){if(goog.isArray(b))return goog.array.concat(b);return goog.array.clone(b)};
goog.array.extend=function(b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(goog.isArray(d)||(e=goog.isArrayLike(d))&&d.hasOwnProperty("callee"))b.push.apply(b,d);else if(e)for(var f=b.length,g=d.length,h=0;h<g;h++)b[f+h]=d[h];else b.push(d)}};goog.array.splice=function(b){return goog.array.ARRAY_PROTOTYPE_.splice.apply(b,goog.array.slice(arguments,1))};
goog.array.slice=function(b,c,d){return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(b,c):goog.array.ARRAY_PROTOTYPE_.slice.call(b,c,d)};goog.array.removeDuplicates=function(b,c){c=c||b;for(var d={},e=0,f=0;f<b.length;){var g=b[f++],h=goog.isObject(g)?goog.getUid(g):g;if(!Object.prototype.hasOwnProperty.call(d,h)){d[h]=true;c[e++]=g}}c.length=e};goog.array.binarySearch=function(b,c,d){return goog.array.binarySelect(b,goog.partial(d||goog.array.defaultCompare,c))};
goog.array.binarySelect=function(b,c,d){for(var e=0,f=b.length-1;e<=f;){var g=e+f>>1,h=c.call(d,b[g],g,b);if(h>0)e=g+1;else if(h<0)f=g-1;else return g}return-(e+1)};goog.array.sort=function(b,c){goog.array.ARRAY_PROTOTYPE_.sort.call(b,c||goog.array.defaultCompare)};goog.array.stableSort=function(b,c){function d(g,h){return f(g.value,h.value)||g.index-h.index}for(var e=0;e<b.length;e++)b[e]={index:e,value:b[e]};var f=c||goog.array.defaultCompare;goog.array.sort(b,d);for(e=0;e<b.length;e++)b[e]=b[e].value};
goog.array.sortObjectsByKey=function(b,c,d){var e=d||goog.array.defaultCompare;goog.array.sort(b,function(f,g){return e(f[c],g[c])})};goog.array.equals=function(b,c,d){if(!goog.isArrayLike(b)||!goog.isArrayLike(c)||b.length!=c.length)return false;var e=b.length;d=d||goog.array.defaultCompareEquality;for(var f=0;f<e;f++)if(!d(b[f],c[f]))return false;return true};goog.array.compare=function(b,c,d){return goog.array.equals(b,c,d)};goog.array.defaultCompare=function(b,c){return b>c?1:b<c?-1:0};
goog.array.defaultCompareEquality=function(b,c){return b===c};goog.array.binaryInsert=function(b,c,d){d=goog.array.binarySearch(b,c,d);if(d<0){goog.array.insertAt(b,c,-(d+1));return true}return false};goog.array.binaryRemove=function(b,c,d){c=goog.array.binarySearch(b,c,d);return c>=0?goog.array.removeAt(b,c):false};goog.array.bucket=function(b,c){for(var d={},e=0;e<b.length;e++){var f=b[e],g=c(f,e,b);if(goog.isDef(g))(d[g]||(d[g]=[])).push(f)}return d};
goog.array.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};goog.array.flatten=function(){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];goog.isArray(d)?b.push.apply(b,goog.array.flatten.apply(null,d)):b.push(d)}return b};goog.array.rotate=function(b,c){if(b.length){c%=b.length;if(c>0)goog.array.ARRAY_PROTOTYPE_.unshift.apply(b,b.splice(-c,c));else c<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(b,b.splice(0,-c))}return b};goog.debug={};goog.debug.errorHandlerWeakDep={protectEntryPoint:function(b){return b}};goog.events={};goog.events.Event=function(b,c){goog.Disposable.call(this);this.type=b;this.currentTarget=this.target=c};goog.inherits(goog.events.Event,goog.Disposable);a=goog.events.Event.prototype;a.disposeInternal=function(){delete this.type;delete this.target;delete this.currentTarget};a.propagationStopped_=false;a.returnValue_=true;a.stopPropagation=function(){this.propagationStopped_=true};a.preventDefault=function(){this.returnValue_=false};goog.events.Event.stopPropagation=function(b){b.stopPropagation()};
goog.events.Event.preventDefault=function(b){b.preventDefault()};goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(b,c){return b.lastIndexOf(c,0)==0};goog.string.endsWith=function(b,c){var d=b.length-c.length;return d>=0&&b.indexOf(c,d)==d};goog.string.caseInsensitiveStartsWith=function(b,c){return goog.string.caseInsensitiveCompare(c,b.substr(0,c.length))==0};goog.string.caseInsensitiveEndsWith=function(b,c){return goog.string.caseInsensitiveCompare(c,b.substr(b.length-c.length,c.length))==0};
goog.string.subs=function(b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");b=b.replace(/\%s/,d)}return b};goog.string.collapseWhitespace=function(b){return b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(b){return/^[\s\xa0]*$/.test(b)};goog.string.isEmptySafe=function(b){return goog.string.isEmpty(goog.string.makeSafe(b))};goog.string.isBreakingWhitespace=function(b){return!/[^\t\n\r ]/.test(b)};goog.string.isAlpha=function(b){return!/[^a-zA-Z]/.test(b)};
goog.string.isNumeric=function(b){return!/[^0-9]/.test(b)};goog.string.isAlphaNumeric=function(b){return!/[^a-zA-Z0-9]/.test(b)};goog.string.isSpace=function(b){return b==" "};goog.string.isUnicodeChar=function(b){return b.length==1&&b>=" "&&b<="~"||b>="\u0080"&&b<="\ufffd"};goog.string.stripNewlines=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(b){return b.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(b){return b.replace(/\xa0|[ \t]+/g," ")};goog.string.trim=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(b){return b.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(b){return b.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(b,c){b=String(b).toLowerCase();c=String(c).toLowerCase();return b<c?-1:b==c?0:1};
goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;goog.string.numerateCompare=function(b,c){if(b==c)return 0;if(!b)return-1;if(!c)return 1;for(var d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),e=c.toLowerCase().match(goog.string.numerateCompareRegExp_),f=Math.min(d.length,e.length),g=0;g<f;g++){var h=d[g],i=e[g];if(h!=i){b=parseInt(h,10);if(!isNaN(b)){c=parseInt(i,10);if(!isNaN(c)&&b-c)return b-c}return h<i?-1:1}}if(d.length!=e.length)return d.length-e.length;return b<c?-1:1};
goog.string.encodeUriRegExp_=/^[a-zA-Z0-9\-_.!~*'()]*$/;goog.string.urlEncode=function(b){b=String(b);if(!goog.string.encodeUriRegExp_.test(b))return encodeURIComponent(b);return b};goog.string.urlDecode=function(b){return decodeURIComponent(b.replace(/\+/g," "))};goog.string.newLineToBr=function(b,c){return b.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>")};
goog.string.htmlEscape=function(b,c){if(c)return b.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");else{if(!goog.string.allRe_.test(b))return b;if(b.indexOf("&")!=-1)b=b.replace(goog.string.amperRe_,"&amp;");if(b.indexOf("<")!=-1)b=b.replace(goog.string.ltRe_,"&lt;");if(b.indexOf(">")!=-1)b=b.replace(goog.string.gtRe_,"&gt;");if(b.indexOf('"')!=-1)b=b.replace(goog.string.quotRe_,"&quot;");return b}};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(b){if(goog.string.contains(b,"&"))return"document"in goog.global&&!goog.string.contains(b,"<")?goog.string.unescapeEntitiesUsingDom_(b):goog.string.unescapePureXmlEntities_(b);return b};
goog.string.unescapeEntitiesUsingDom_=function(b){var c=goog.global.document.createElement("a");c.innerHTML=b;c[goog.string.NORMALIZE_FN_]&&c[goog.string.NORMALIZE_FN_]();b=c.firstChild.nodeValue;c.innerHTML="";return b};goog.string.unescapePureXmlEntities_=function(b){return b.replace(/&([^;]+);/g,function(c,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(d.charAt(0)=="#"){d=Number("0"+d.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return c}})};
goog.string.NORMALIZE_FN_="normalize";goog.string.whitespaceEscape=function(b,c){return goog.string.newLineToBr(b.replace(/  /g," &#160;"),c)};goog.string.stripQuotes=function(b,c){for(var d=c.length,e=0;e<d;e++){var f=d==1?c:c.charAt(e);if(b.charAt(0)==f&&b.charAt(b.length-1)==f)return b.substring(1,b.length-1)}return b};goog.string.truncate=function(b,c,d){if(d)b=goog.string.unescapeEntities(b);if(b.length>c)b=b.substring(0,c-3)+"...";if(d)b=goog.string.htmlEscape(b);return b};
goog.string.truncateMiddle=function(b,c,d){if(d)b=goog.string.unescapeEntities(b);if(b.length>c){var e=Math.floor(c/2),f=b.length-e;e+=c%2;b=b.substring(0,e)+"..."+b.substring(f)}if(d)b=goog.string.htmlEscape(b);return b};goog.string.jsEscapeCache_={"\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"'":"\\'","\\":"\\\\"};
goog.string.quote=function(b){b=String(b);if(b.quote)return b.quote();else{for(var c=['"'],d=0;d<b.length;d++)c[d+1]=goog.string.escapeChar(b.charAt(d));c.push('"');return c.join("")}};goog.string.escapeChar=function(b){if(b in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[b];var c=b,d=b.charCodeAt(0);if(d>31&&d<127)c=b;else{if(d<256){c="\\x";if(d<16||d>256)c+="0"}else{c="\\u";if(d<4096)c+="0"}c+=d.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[b]=c};
goog.string.toMap=function(b){for(var c={},d=0;d<b.length;d++)c[b.charAt(d)]=true;return c};goog.string.contains=function(b,c){return b.indexOf(c)!=-1};goog.string.removeAt=function(b,c,d){var e=b;if(c>=0&&c<b.length&&d>0)e=b.substr(0,c)+b.substr(c+d,b.length-c-d);return e};goog.string.remove=function(b,c){c=new RegExp(goog.string.regExpEscape(c),"");return b.replace(c,"")};goog.string.removeAll=function(b,c){c=new RegExp(goog.string.regExpEscape(c),"g");return b.replace(c,"")};
goog.string.regExpEscape=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(b,c){return(new Array(c+1)).join(b)};goog.string.padNumber=function(b,c,d){b=goog.isDef(d)?b.toFixed(d):String(b);d=b.indexOf(".");if(d==-1)d=b.length;return goog.string.repeat("0",Math.max(0,c-d))+b};goog.string.makeSafe=function(b){return b==null?"":String(b)};goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(Math.random()*2147483648).toString(36)+(Math.floor(Math.random()*2147483648)^goog.now()).toString(36)};
goog.string.compareVersions=function(b,c){var d=0;b=goog.string.trim(String(b)).split(".");c=goog.string.trim(String(c)).split(".");for(var e=Math.max(b.length,c.length),f=0;d==0&&f<e;f++){var g=b[f]||"",h=c[f]||"",i=new RegExp("(\\d*)(\\D*)","g"),j=new RegExp("(\\d*)(\\D*)","g");do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(k[0].length==0&&l[0].length==0)break;d=k[1].length==0?0:parseInt(k[1],10);var m=l[1].length==0?0:parseInt(l[1],10);d=goog.string.compareElements_(d,m)||goog.string.compareElements_(k[2].length==
0,l[2].length==0)||goog.string.compareElements_(k[2],l[2])}while(d==0)}return d};goog.string.compareElements_=function(b,c){if(b<c)return-1;else if(b>c)return 1;return 0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(b){for(var c=0,d=0;d<b.length;++d){c=31*c+b.charCodeAt(d);c%=goog.string.HASHCODE_MAX_}return c};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(b){var c=Number(b);if(c==0&&goog.string.isEmpty(b))return NaN;return c};goog.userAgent={};goog.userAgent.ASSUME_IE=false;goog.userAgent.ASSUME_GECKO=false;goog.userAgent.ASSUME_WEBKIT=false;goog.userAgent.ASSUME_MOBILE_WEBKIT=false;goog.userAgent.ASSUME_OPERA=false;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null};
goog.userAgent.getNavigator=function(){return goog.global.navigator};
goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=false;goog.userAgent.detectedIe_=false;goog.userAgent.detectedWebkit_=false;goog.userAgent.detectedMobile_=false;goog.userAgent.detectedGecko_=false;var b;if(!goog.userAgent.BROWSER_KNOWN_&&(b=goog.userAgent.getUserAgentString())){var c=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=b.indexOf("Opera")==0;goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&b.indexOf("MSIE")!=-1;goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&
b.indexOf("WebKit")!=-1;goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&b.indexOf("Mobile")!=-1;goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&c.product=="Gecko"}};goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_();goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_;goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_;
goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_;goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_;goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_;goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var b=goog.userAgent.getNavigator();return b&&b.platform||""};
goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=false;goog.userAgent.ASSUME_WINDOWS=false;goog.userAgent.ASSUME_LINUX=false;goog.userAgent.ASSUME_X11=false;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11;
goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac");goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win");goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux");goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")};goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_();
goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_;goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_;goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_;goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_;
goog.userAgent.determineVersion_=function(){var b="",c;if(goog.userAgent.OPERA&&goog.global.opera){b=goog.global.opera.version;b=typeof b=="function"?b():b}else{if(goog.userAgent.GECKO)c=/rv\:([^\);]+)(\)|;)/;else if(goog.userAgent.IE)c=/MSIE\s+([^\);]+)(\)|;)/;else if(goog.userAgent.WEBKIT)c=/WebKit\/(\S+)/;if(c)b=(b=c.exec(goog.userAgent.getUserAgentString()))?b[1]:""}return b};goog.userAgent.VERSION=goog.userAgent.determineVersion_();
goog.userAgent.compare=function(b,c){return goog.string.compareVersions(b,c)};goog.userAgent.isVersionCache_={};goog.userAgent.isVersion=function(b){return goog.userAgent.isVersionCache_[b]||(goog.userAgent.isVersionCache_[b]=goog.string.compareVersions(goog.userAgent.VERSION,b)>=0)};goog.events.BrowserEvent=function(b,c){b&&this.init(b,c)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.IEButtonMap_=[1,4,2];a=goog.events.BrowserEvent.prototype;a.target=null;a.relatedTarget=null;a.offsetX=0;a.offsetY=0;a.clientX=0;a.clientY=0;a.screenX=0;a.screenY=0;a.button=0;a.keyCode=0;a.charCode=0;a.ctrlKey=false;a.altKey=false;a.shiftKey=false;a.metaKey=false;a.platformModifierKey=false;
a.event_=null;
a.init=function(b,c){var d=this.type=b.type;this.target=b.target||b.srcElement;this.currentTarget=c;if(c=b.relatedTarget){if(goog.userAgent.GECKO)try{c=c.nodeName&&c}catch(e){c=null}}else if(d=="mouseover")c=b.fromElement;else if(d=="mouseout")c=b.toElement;this.relatedTarget=c;this.offsetX=b.offsetX!==undefined?b.offsetX:b.layerX;this.offsetY=b.offsetY!==undefined?b.offsetY:b.layerY;this.clientX=b.clientX!==undefined?b.clientX:b.pageX;this.clientY=b.clientY!==undefined?b.clientY:b.pageY;this.screenX=
b.screenX||0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||(d=="keypress"?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.platformModifierKey=goog.userAgent.MAC?b.metaKey:b.ctrlKey;this.event_=b;delete this.returnValue_;delete this.propagationStopped_};
a.isButton=function(b){return goog.userAgent.IE?this.type=="click"?b==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap_[b]):this.event_.button==b};a.stopPropagation=function(){this.propagationStopped_=true;if(this.event_.stopPropagation)this.event_.stopPropagation();else this.event_.cancelBubble=true};goog.events.BrowserEvent.IE7_SET_KEY_CODE_TO_PREVENT_DEFAULT_=goog.userAgent.IE&&!goog.userAgent.isVersion("8");
goog.events.BrowserEvent.prototype.preventDefault=function(){this.returnValue_=false;var b=this.event_;if(b.preventDefault)b.preventDefault();else{b.returnValue=false;if(goog.events.BrowserEvent.IE7_SET_KEY_CODE_TO_PREVENT_DEFAULT_)try{if(b.ctrlKey||b.keyCode>=112&&b.keyCode<=123)b.keyCode=-1}catch(c){}}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};
goog.events.BrowserEvent.prototype.disposeInternal=function(){goog.events.BrowserEvent.superClass_.disposeInternal.call(this);this.relatedTarget=this.currentTarget=this.target=this.event_=null};goog.events.EventWrapper=function(){};goog.events.EventWrapper.prototype.listen=function(){};goog.events.EventWrapper.prototype.unlisten=function(){};goog.events.Listener=function(){};goog.events.Listener.counter_=0;a=goog.events.Listener.prototype;a.key=0;a.removed=false;a.callOnce=false;
a.init=function(b,c,d,e,f,g){if(goog.isFunction(b))this.isFunctionListener_=true;else if(b&&b.handleEvent&&goog.isFunction(b.handleEvent))this.isFunctionListener_=false;else throw Error("Invalid listener argument");this.listener=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!f;this.handler=g;this.callOnce=false;this.key=++goog.events.Listener.counter_;this.removed=false};
a.handleEvent=function(b){if(this.isFunctionListener_)return this.listener.call(this.handler||this.src,b);return this.listener.handleEvent.call(this.listener,b)};goog.structs={};goog.structs.SimplePool=function(b,c){goog.Disposable.call(this);this.maxCount_=c;this.freeQueue_=[];this.createInitial_(b)};goog.inherits(goog.structs.SimplePool,goog.Disposable);a=goog.structs.SimplePool.prototype;a.createObjectFn_=null;a.disposeObjectFn_=null;a.setCreateObjectFn=function(b){this.createObjectFn_=b};a.setDisposeObjectFn=function(b){this.disposeObjectFn_=b};a.getObject=function(){if(this.freeQueue_.length)return this.freeQueue_.pop();return this.createObject()};
a.releaseObject=function(b){this.freeQueue_.length<this.maxCount_?this.freeQueue_.push(b):this.disposeObject(b)};a.createInitial_=function(b){if(b>this.maxCount_)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<b;c++)this.freeQueue_.push(this.createObject())};a.createObject=function(){return this.createObjectFn_?this.createObjectFn_():{}};
a.disposeObject=function(b){if(this.disposeObjectFn_)this.disposeObjectFn_(b);else if(goog.isFunction(b.dispose))b.dispose();else for(var c in b)delete b[c]};a.disposeInternal=function(){goog.structs.SimplePool.superClass_.disposeInternal.call(this);for(var b=this.freeQueue_;b.length;)this.disposeObject(b.pop());delete this.freeQueue_};goog.userAgent.jscript={};goog.userAgent.jscript.ASSUME_NO_JSCRIPT=false;goog.userAgent.jscript.init_=function(){goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_="ScriptEngine"in goog.global&&goog.global.ScriptEngine()=="JScript";goog.userAgent.jscript.DETECTED_VERSION_=goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_?goog.global.ScriptEngineMajorVersion()+"."+goog.global.ScriptEngineMinorVersion()+"."+goog.global.ScriptEngineBuildVersion():"0"};goog.userAgent.jscript.ASSUME_NO_JSCRIPT||goog.userAgent.jscript.init_();
goog.userAgent.jscript.HAS_JSCRIPT=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?false:goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_;goog.userAgent.jscript.VERSION=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?"0":goog.userAgent.jscript.DETECTED_VERSION_;goog.userAgent.jscript.isVersion=function(b){return goog.string.compareVersions(goog.userAgent.jscript.VERSION,b)>=0};goog.events.pools={};
(function(){function b(){return{count_:0,remaining_:0}}function c(){return[]}function d(){var n=function(o){return h.call(n.src,n.key,o)};return n}function e(){return new goog.events.Listener}function f(){return new goog.events.BrowserEvent}var g=goog.userAgent.jscript.HAS_JSCRIPT&&!goog.userAgent.jscript.isVersion("5.7"),h;goog.events.pools.setProxyCallbackFunction=function(n){h=n};if(g){goog.events.pools.getObject=function(){return i.getObject()};goog.events.pools.releaseObject=function(n){i.releaseObject(n)};
goog.events.pools.getArray=function(){return j.getObject()};goog.events.pools.releaseArray=function(n){j.releaseObject(n)};goog.events.pools.getProxy=function(){return k.getObject()};goog.events.pools.releaseProxy=function(){k.releaseObject(d())};goog.events.pools.getListener=function(){return l.getObject()};goog.events.pools.releaseListener=function(n){l.releaseObject(n)};goog.events.pools.getEvent=function(){return m.getObject()};goog.events.pools.releaseEvent=function(n){m.releaseObject(n)};var i=
new goog.structs.SimplePool(0,600);i.setCreateObjectFn(b);var j=new goog.structs.SimplePool(0,600);j.setCreateObjectFn(c);var k=new goog.structs.SimplePool(0,600);k.setCreateObjectFn(d);var l=new goog.structs.SimplePool(0,600);l.setCreateObjectFn(e);var m=new goog.structs.SimplePool(0,600);m.setCreateObjectFn(f)}else{goog.events.pools.getObject=b;goog.events.pools.releaseObject=goog.nullFunction;goog.events.pools.getArray=c;goog.events.pools.releaseArray=goog.nullFunction;goog.events.pools.getProxy=
d;goog.events.pools.releaseProxy=goog.nullFunction;goog.events.pools.getListener=e;goog.events.pools.releaseListener=goog.nullFunction;goog.events.pools.getEvent=f;goog.events.pools.releaseEvent=goog.nullFunction}})();goog.object={};goog.object.forEach=function(b,c,d){for(var e in b)c.call(d,b[e],e,b)};goog.object.filter=function(b,c,d){var e={};for(var f in b)if(c.call(d,b[f],f,b))e[f]=b[f];return e};goog.object.map=function(b,c,d){var e={};for(var f in b)e[f]=c.call(d,b[f],f,b);return e};goog.object.some=function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return true;return false};goog.object.every=function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return false;return true};
goog.object.getCount=function(b){var c=0;for(var d in b)c++;return c};goog.object.getAnyKey=function(b){for(var c in b)return c};goog.object.getAnyValue=function(b){for(var c in b)return b[c]};goog.object.contains=function(b,c){return goog.object.containsValue(b,c)};goog.object.getValues=function(b){var c=[],d=0;for(var e in b)c[d++]=b[e];return c};goog.object.getKeys=function(b){var c=[],d=0;for(var e in b)c[d++]=e;return c};goog.object.containsKey=function(b,c){return c in b};
goog.object.containsValue=function(b,c){for(var d in b)if(b[d]==c)return true;return false};goog.object.findKey=function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e};goog.object.findValue=function(b,c,d){return(c=goog.object.findKey(b,c,d))&&b[c]};goog.object.isEmpty=function(b){for(var c in b)return false;return true};goog.object.clear=function(b){for(var c=goog.object.getKeys(b),d=c.length-1;d>=0;d--)goog.object.remove(b,c[d])};
goog.object.remove=function(b,c){var d;if(d=c in b)delete b[c];return d};goog.object.add=function(b,c,d){if(c in b)throw Error('The object already contains the key "'+c+'"');goog.object.set(b,c,d)};goog.object.get=function(b,c,d){if(c in b)return b[c];return d};goog.object.set=function(b,c,d){b[c]=d};goog.object.setIfUndefined=function(b,c,d){return c in b?b[c]:(b[c]=d)};goog.object.clone=function(b){var c={};for(var d in b)c[d]=b[d];return c};
goog.object.transpose=function(b){var c={};for(var d in b)c[b[d]]=d;return c};goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.object.extend=function(b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)b[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++){c=goog.object.PROTOTYPE_FIELDS_[f];if(Object.prototype.hasOwnProperty.call(d,c))b[c]=d[c]}}};
goog.object.create=function(){var b=arguments.length;if(b==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(){var b=arguments.length;if(b==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=true;return c};goog.events.listeners_={};goog.events.listenerTree_={};goog.events.sources_={};goog.events.onString_="on";goog.events.onStringMap_={};goog.events.keySeparator_="_";
goog.events.listen=function(b,c,d,e,f){if(c)if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.listen(b,c[g],d,e,f);return null}else{e=!!e;var h=goog.events.listenerTree_;c in h||(h[c]=goog.events.pools.getObject());h=h[c];if(!(e in h)){h[e]=goog.events.pools.getObject();h.count_++}h=h[e];var i=goog.getUid(b),j;h.remaining_++;if(h[i]){j=h[i];for(g=0;g<j.length;g++){h=j[g];if(h.listener==d&&h.handler==f){if(h.removed)break;return j[g].key}}}else{j=h[i]=goog.events.pools.getArray();h.count_++}g=
goog.events.pools.getProxy();g.src=b;h=goog.events.pools.getListener();h.init(d,g,b,c,e,f);d=h.key;g.key=d;j.push(h);goog.events.listeners_[d]=h;goog.events.sources_[i]||(goog.events.sources_[i]=goog.events.pools.getArray());goog.events.sources_[i].push(h);if(b.addEventListener){if(b==goog.global||!b.customEvent_)b.addEventListener(c,g,e)}else b.attachEvent(goog.events.getOnString_(c),g);return d}else throw Error("Invalid event type");};
goog.events.listenOnce=function(b,c,d,e,f){if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.listenOnce(b,c[g],d,e,f);return null}b=goog.events.listen(b,c,d,e,f);goog.events.listeners_[b].callOnce=true;return b};goog.events.listenWithWrapper=function(b,c,d,e,f){c.listen(b,d,e,f)};
goog.events.unlisten=function(b,c,d,e,f){if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.unlisten(b,c[g],d,e,f);return null}e=!!e;b=goog.events.getListeners_(b,c,e);if(!b)return false;for(g=0;g<b.length;g++)if(b[g].listener==d&&b[g].capture==e&&b[g].handler==f)return goog.events.unlistenByKey(b[g].key);return false};
goog.events.unlistenByKey=function(b){if(!goog.events.listeners_[b])return false;var c=goog.events.listeners_[b];if(c.removed)return false;var d=c.src,e=c.type,f=c.proxy,g=c.capture;if(d.removeEventListener){if(d==goog.global||!d.customEvent_)d.removeEventListener(e,f,g)}else d.detachEvent&&d.detachEvent(goog.events.getOnString_(e),f);d=goog.getUid(d);f=goog.events.listenerTree_[e][g][d];if(goog.events.sources_[d]){var h=goog.events.sources_[d];goog.array.remove(h,c);h.length==0&&delete goog.events.sources_[d]}c.removed=
true;f.needsCleanup_=true;goog.events.cleanUp_(e,g,d,f);delete goog.events.listeners_[b];return true};goog.events.unlistenWithWrapper=function(b,c,d,e,f){c.unlisten(b,d,e,f)};
goog.events.cleanUp_=function(b,c,d,e){if(!e.locked_)if(e.needsCleanup_){for(var f=0,g=0;f<e.length;f++)if(e[f].removed){var h=e[f].proxy;h.src=null;goog.events.pools.releaseProxy(h);goog.events.pools.releaseListener(e[f])}else{if(f!=g)e[g]=e[f];g++}e.length=g;e.needsCleanup_=false;if(g==0){goog.events.pools.releaseArray(e);delete goog.events.listenerTree_[b][c][d];goog.events.listenerTree_[b][c].count_--;if(goog.events.listenerTree_[b][c].count_==0){goog.events.pools.releaseObject(goog.events.listenerTree_[b][c]);
delete goog.events.listenerTree_[b][c];goog.events.listenerTree_[b].count_--}if(goog.events.listenerTree_[b].count_==0){goog.events.pools.releaseObject(goog.events.listenerTree_[b]);delete goog.events.listenerTree_[b]}}}};
goog.events.removeAll=function(b,c,d){var e=0,f=b==null,g=c==null,h=d==null;d=!!d;if(f)goog.object.forEach(goog.events.sources_,function(j){for(var k=j.length-1;k>=0;k--){var l=j[k];if((g||c==l.type)&&(h||d==l.capture)){goog.events.unlistenByKey(l.key);e++}}});else{b=goog.getUid(b);if(goog.events.sources_[b]){b=goog.events.sources_[b];for(f=b.length-1;f>=0;f--){var i=b[f];if((g||c==i.type)&&(h||d==i.capture)){goog.events.unlistenByKey(i.key);e++}}}}return e};
goog.events.getListeners=function(b,c,d){return goog.events.getListeners_(b,c,d)||[]};goog.events.getListeners_=function(b,c,d){var e=goog.events.listenerTree_;if(c in e){e=e[c];if(d in e){e=e[d];b=goog.getUid(b);if(e[b])return e[b]}}return null};goog.events.getListener=function(b,c,d,e,f){e=!!e;if(b=goog.events.getListeners_(b,c,e))for(c=0;c<b.length;c++)if(b[c].listener==d&&b[c].capture==e&&b[c].handler==f)return b[c];return null};
goog.events.hasListener=function(b,c,d){b=goog.getUid(b);var e=goog.events.sources_[b];if(e){var f=goog.isDef(c),g=goog.isDef(d);if(f&&g){e=goog.events.listenerTree_[c];return!!e&&!!e[d]&&b in e[d]}else return f||g?goog.array.some(e,function(h){return f&&h.type==c||g&&h.capture==d}):true}return false};goog.events.expose=function(b){var c=[];for(var d in b)b[d]&&b[d].id?c.push(d+" = "+b[d]+" ("+b[d].id+")"):c.push(d+" = "+b[d]);return c.join("\n")};
goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",CONTEXTMENU:"contextmenu",DRAGSTART:"dragstart",ERROR:"error",HASHCHANGE:"hashchange",
HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload"};goog.events.getOnString_=function(b){if(b in goog.events.onStringMap_)return goog.events.onStringMap_[b];return goog.events.onStringMap_[b]=goog.events.onString_+b};goog.events.fireListeners=function(b,c,d,e){var f=goog.events.listenerTree_;if(c in f){f=f[c];if(d in f)return goog.events.fireListeners_(f[d],b,c,d,e)}return true};
goog.events.fireListeners_=function(b,c,d,e,f){var g=1;c=goog.getUid(c);if(b[c]){b.remaining_--;b=b[c];if(b.locked_)b.locked_++;else b.locked_=1;try{for(var h=b.length,i=0;i<h;i++){var j=b[i];if(j&&!j.removed)g&=goog.events.fireListener(j,f)!==false}}finally{b.locked_--;goog.events.cleanUp_(d,e,c,b)}}return Boolean(g)};goog.events.fireListener=function(b,c){c=b.handleEvent(c);b.callOnce&&goog.events.unlistenByKey(b.key);return c};goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)};
goog.events.dispatchEvent=function(b,c){if(goog.isString(c))c=new goog.events.Event(c,b);else if(c instanceof goog.events.Event)c.target=c.target||b;else{var d=c;c=new goog.events.Event(c.type,b);goog.object.extend(c,d)}d=1;var e,f=c.type,g=goog.events.listenerTree_;if(!(f in g))return true;g=g[f];f=true in g;var h;if(f){e=[];for(h=b;h;h=h.getParentEventTarget())e.push(h);h=g[true];h.remaining_=h.count_;for(var i=e.length-1;!c.propagationStopped_&&i>=0&&h.remaining_;i--){c.currentTarget=e[i];d&=goog.events.fireListeners_(h,
e[i],c.type,true,c)&&c.returnValue_!=false}}if(false in g){h=g[false];h.remaining_=h.count_;if(f)for(i=0;!c.propagationStopped_&&i<e.length&&h.remaining_;i++){c.currentTarget=e[i];d&=goog.events.fireListeners_(h,e[i],c.type,false,c)&&c.returnValue_!=false}else for(b=b;!c.propagationStopped_&&b&&h.remaining_;b=b.getParentEventTarget()){c.currentTarget=b;d&=goog.events.fireListeners_(h,b,c.type,false,c)&&c.returnValue_!=false}}return Boolean(d)};
goog.events.protectBrowserEventEntryPoint=function(b,c){goog.events.handleBrowserEvent_=b.protectEntryPoint(goog.events.handleBrowserEvent_,c);goog.events.pools.setProxyCallbackFunction(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(b,c){if(!goog.events.listeners_[b])return true;b=goog.events.listeners_[b];var d=b.type,e=goog.events.listenerTree_;if(!(d in e))return true;e=e[d];var f,g;if(goog.userAgent.IE){f=c||goog.getObjectByName("window.event");c=true in e;var h=false in e;if(c){if(goog.events.isMarkedIeEvent_(f))return true;goog.events.markIeEvent_(f)}var i=goog.events.pools.getEvent();i.init(f,this);f=true;try{if(c){for(var j=goog.events.pools.getArray(),k=i.currentTarget;k;k=k.parentNode)j.push(k);
g=e[true];g.remaining_=g.count_;for(var l=j.length-1;!i.propagationStopped_&&l>=0&&g.remaining_;l--){i.currentTarget=j[l];f&=goog.events.fireListeners_(g,j[l],d,true,i)}if(h){g=e[false];g.remaining_=g.count_;for(l=0;!i.propagationStopped_&&l<j.length&&g.remaining_;l++){i.currentTarget=j[l];f&=goog.events.fireListeners_(g,j[l],d,false,i)}}}else f=goog.events.fireListener(b,i)}finally{if(j){j.length=0;goog.events.pools.releaseArray(j)}i.dispose();goog.events.pools.releaseEvent(i)}return f}g=new goog.events.BrowserEvent(c,
this);try{f=goog.events.fireListener(b,g)}finally{g.dispose()}return f};goog.events.pools.setProxyCallbackFunction(goog.events.handleBrowserEvent_);goog.events.markIeEvent_=function(b){var c=false;if(b.keyCode==0)try{b.keyCode=-1;return}catch(d){c=true}if(c||b.returnValue==undefined)b.returnValue=true};goog.events.isMarkedIeEvent_=function(b){return b.keyCode<0||b.returnValue!=undefined};goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(b){return b+"_"+goog.events.uniqueIdCounter_++};goog.events.EventTarget=function(){goog.Disposable.call(this)};goog.inherits(goog.events.EventTarget,goog.Disposable);a=goog.events.EventTarget.prototype;a.customEvent_=true;a.parentEventTarget_=null;a.getParentEventTarget=function(){return this.parentEventTarget_};a.setParentEventTarget=function(b){this.parentEventTarget_=b};a.addEventListener=function(b,c,d,e){goog.events.listen(this,b,c,d,e)};a.removeEventListener=function(b,c,d,e){goog.events.unlisten(this,b,c,d,e)};
a.dispatchEvent=function(b){return goog.events.dispatchEvent(this,b)};a.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);goog.events.removeAll(this);this.parentEventTarget_=null};var jchemhub={};jchemhub.controller={};jchemhub.controller.ReactionController=function(b){goog.events.EventTarget.call(this);this.setParentEventTarget(b)};goog.inherits(jchemhub.controller.ReactionController,goog.events.EventTarget);jchemhub.controller.ReactionController.prototype.handleMouseOver=function(b){console.log(b.symbol);this.dispatchEvent(jchemhub.controller.ReactionController.EventType.MOUSEOVER)};jchemhub.controller.ReactionController.prototype.handleMouseOut=function(){this.dispatchEvent(jchemhub.controller.ReactionController.EventType.MOUSEOUT)};
jchemhub.controller.ReactionController.EventType={MOUSEOVER:"reaction_mouseover",MOUSEOUT:"reaction_mouseout"};goog.iter={};goog.iter.Iterable=goog.typedef;goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration");goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(){return this};
goog.iter.toIterator=function(b){if(b instanceof goog.iter.Iterator)return b;if(typeof b.__iterator__=="function")return b.__iterator__(false);if(goog.isArrayLike(b)){var c=0,d=new goog.iter.Iterator;d.next=function(){for(;;){if(c>=b.length)throw goog.iter.StopIteration;if(c in b)return b[c++];else c++}};return d}throw Error("Not implemented");};
goog.iter.forEach=function(b,c,d){if(goog.isArrayLike(b))try{goog.array.forEach(b,c,d)}catch(e){if(e!==goog.iter.StopIteration)throw e;}else{b=goog.iter.toIterator(b);try{for(;;)c.call(d,b.next(),undefined,b)}catch(f){if(f!==goog.iter.StopIteration)throw f;}}};goog.iter.filter=function(b,c,d){b=goog.iter.toIterator(b);var e=new goog.iter.Iterator;e.next=function(){for(;;){var f=b.next();if(c.call(d,f,undefined,b))return f}};return e};
goog.iter.range=function(b,c,d){var e=0,f=b,g=d||1;if(arguments.length>1){e=b;f=c}if(g==0)throw Error("Range step argument must not be zero");var h=new goog.iter.Iterator;h.next=function(){if(g>0&&e>=f||g<0&&e<=f)throw goog.iter.StopIteration;var i=e;e+=g;return i};return h};goog.iter.join=function(b,c){return goog.iter.toArray(b).join(c)};
goog.iter.map=function(b,c,d){b=goog.iter.toIterator(b);var e=new goog.iter.Iterator;e.next=function(){for(;;){var f=b.next();return c.call(d,f,undefined,b)}};return e};goog.iter.reduce=function(b,c,d,e){var f=d;goog.iter.forEach(b,function(g){f=c.call(e,f,g)});return f};goog.iter.some=function(b,c,d){b=goog.iter.toIterator(b);try{for(;;)if(c.call(d,b.next(),undefined,b))return true}catch(e){if(e!==goog.iter.StopIteration)throw e;}return false};
goog.iter.every=function(b,c,d){b=goog.iter.toIterator(b);try{for(;;)if(!c.call(d,b.next(),undefined,b))return false}catch(e){if(e!==goog.iter.StopIteration)throw e;}return true};goog.iter.chain=function(){var b=arguments,c=b.length,d=0,e=new goog.iter.Iterator;e.next=function(){try{if(d>=c)throw goog.iter.StopIteration;return goog.iter.toIterator(b[d]).next()}catch(f){if(f!==goog.iter.StopIteration||d>=c)throw f;else{d++;return this.next()}}};return e};
goog.iter.dropWhile=function(b,c,d){b=goog.iter.toIterator(b);var e=new goog.iter.Iterator,f=true;e.next=function(){for(;;){var g=b.next();if(!(f&&c.call(d,g,undefined,b))){f=false;return g}}};return e};goog.iter.takeWhile=function(b,c,d){b=goog.iter.toIterator(b);var e=new goog.iter.Iterator,f=true;e.next=function(){for(;;)if(f){var g=b.next();if(c.call(d,g,undefined,b))return g;else f=false}else throw goog.iter.StopIteration;};return e};
goog.iter.toArray=function(b){if(goog.isArrayLike(b))return goog.array.toArray(b);b=goog.iter.toIterator(b);var c=[];goog.iter.forEach(b,function(d){c.push(d)});return c};
goog.iter.equals=function(b,c){b=goog.iter.toIterator(b);c=goog.iter.toIterator(c);var d,e;try{for(;;){d=e=false;var f=b.next();d=true;var g=c.next();e=true;if(f!=g)return false}}catch(h){if(h!==goog.iter.StopIteration)throw h;else{if(d&&!e)return false;if(!e)try{c.next();return false}catch(i){if(i!==goog.iter.StopIteration)throw i;return true}}}return false};goog.iter.nextOrValue=function(b,c){try{return goog.iter.toIterator(b).next()}catch(d){if(d!=goog.iter.StopIteration)throw d;return c}};goog.structs.getCount=function(b){if(typeof b.getCount=="function")return b.getCount();if(goog.isArrayLike(b)||goog.isString(b))return b.length;return goog.object.getCount(b)};goog.structs.getValues=function(b){if(typeof b.getValues=="function")return b.getValues();if(goog.isString(b))return b.split("");if(goog.isArrayLike(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return goog.object.getValues(b)};
goog.structs.getKeys=function(b){if(typeof b.getKeys=="function")return b.getKeys();if(typeof b.getValues!="function"){if(goog.isArrayLike(b)||goog.isString(b)){var c=[];b=b.length;for(var d=0;d<b;d++)c.push(d);return c}return goog.object.getKeys(b)}};
goog.structs.contains=function(b,c){if(typeof b.contains=="function")return b.contains(c);if(typeof b.containsValue=="function")return b.containsValue(c);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.contains(b,c);return goog.object.containsValue(b,c)};goog.structs.isEmpty=function(b){if(typeof b.isEmpty=="function")return b.isEmpty();if(goog.isArrayLike(b)||goog.isString(b))return goog.array.isEmpty(b);return goog.object.isEmpty(b)};
goog.structs.clear=function(b){if(typeof b.clear=="function")b.clear();else goog.isArrayLike(b)?goog.array.clear(b):goog.object.clear(b)};goog.structs.forEach=function(b,c,d){if(typeof b.forEach=="function")b.forEach(c,d);else if(goog.isArrayLike(b)||goog.isString(b))goog.array.forEach(b,c,d);else for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)c.call(d,f[h],e&&e[h],b)};
goog.structs.filter=function(b,c,d){if(typeof b.filter=="function")return b.filter(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.filter(b,c,d);var e,f=goog.structs.getKeys(b),g=goog.structs.getValues(b),h=g.length;if(f){e={};for(var i=0;i<h;i++)if(c.call(d,g[i],f[i],b))e[f[i]]=g[i]}else{e=[];for(i=0;i<h;i++)c.call(d,g[i],undefined,b)&&e.push(g[i])}return e};
goog.structs.map=function(b,c,d){if(typeof b.map=="function")return b.map(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.map(b,c,d);var e,f=goog.structs.getKeys(b),g=goog.structs.getValues(b),h=g.length;if(f){e={};for(var i=0;i<h;i++)e[f[i]]=c.call(d,g[i],f[i],b)}else{e=[];for(i=0;i<h;i++)e[i]=c.call(d,g[i],undefined,b)}return e};
goog.structs.some=function(b,c,d){if(typeof b.some=="function")return b.some(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.some(b,c,d);for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)if(c.call(d,f[h],e&&e[h],b))return true;return false};
goog.structs.every=function(b,c,d){if(typeof b.every=="function")return b.every(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.every(b,c,d);for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)if(!c.call(d,f[h],e&&e[h],b))return false;return true};goog.structs.Map=function(b){this.map_={};this.keys_=[];var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else b&&this.addAll(b)};a=goog.structs.Map.prototype;a.count_=0;a.version_=0;a.getCount=function(){return this.count_};a.getValues=function(){this.cleanupKeysArray_();for(var b=[],c=0;c<this.keys_.length;c++)b.push(this.map_[this.keys_[c]]);return b};a.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
a.containsKey=function(b){return goog.structs.Map.hasKey_(this.map_,b)};a.containsValue=function(b){for(var c=0;c<this.keys_.length;c++){var d=this.keys_[c];if(goog.structs.Map.hasKey_(this.map_,d)&&this.map_[d]==b)return true}return false};a.equals=function(b,c){if(this===b)return true;if(this.count_!=b.getCount())return false;c=c||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var d,e=0;d=this.keys_[e];e++)if(!c(this.get(d),b.get(d)))return false;return true};
goog.structs.Map.defaultEquals=function(b,c){return b===c};a=goog.structs.Map.prototype;a.isEmpty=function(){return this.count_==0};a.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};a.remove=function(b){if(goog.structs.Map.hasKey_(this.map_,b)){delete this.map_[b];this.count_--;this.version_++;this.keys_.length>2*this.count_&&this.cleanupKeysArray_();return true}return false};
a.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var b=0,c=0;b<this.keys_.length;){var d=this.keys_[b];if(goog.structs.Map.hasKey_(this.map_,d))this.keys_[c++]=d;b++}this.keys_.length=c}if(this.count_!=this.keys_.length){var e={};for(c=b=0;b<this.keys_.length;){d=this.keys_[b];if(!goog.structs.Map.hasKey_(e,d)){this.keys_[c++]=d;e[d]=1}b++}this.keys_.length=c}};a.get=function(b,c){if(goog.structs.Map.hasKey_(this.map_,b))return this.map_[b];return c};
a.set=function(b,c){if(!goog.structs.Map.hasKey_(this.map_,b)){this.count_++;this.keys_.push(b);this.version_++}this.map_[b]=c};a.addAll=function(b){var c;if(b instanceof goog.structs.Map){c=b.getKeys();b=b.getValues()}else{c=goog.object.getKeys(b);b=goog.object.getValues(b)}for(var d=0;d<c.length;d++)this.set(c[d],b[d])};a.clone=function(){return new goog.structs.Map(this)};a.transpose=function(){for(var b=new goog.structs.Map,c=0;c<this.keys_.length;c++){var d=this.keys_[c];b.set(this.map_[d],d)}return b};
a.getKeyIterator=function(){return this.__iterator__(true)};a.getValueIterator=function(){return this.__iterator__(false)};a.__iterator__=function(b){this.cleanupKeysArray_();var c=0,d=this.keys_,e=this.map_,f=this.version_,g=this,h=new goog.iter.Iterator;h.next=function(){for(;;){if(f!=g.version_)throw Error("The map has changed since the iterator was created");if(c>=d.length)throw goog.iter.StopIteration;var i=d[c++];return b?i:e[i]}};return h};
goog.structs.Map.hasKey_=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};jchemhub.view={};jchemhub.view.Renderer=function(b,c,d,e){this.controller=b;this.graphics=c;this.config=new goog.structs.Map(e);d&&this.config.addAll(d)};jchemhub.controller.MoleculeController=function(b){goog.events.EventTarget.call(this);this.setParentEventTarget(b)};goog.inherits(jchemhub.controller.MoleculeController,goog.events.EventTarget);jchemhub.controller.MoleculeController.prototype.handleMouseOver=function(b){console.log(b.symbol);this.dispatchEvent(jchemhub.controller.MoleculeController.EventType.MOUSEOVER)};jchemhub.controller.MoleculeController.prototype.handleMouseOut=function(){this.dispatchEvent(jchemhub.controller.MoleculeController.EventType.MOUSEOUT)};
jchemhub.controller.MoleculeController.EventType={MOUSEOVER:"molecule_mouseover",MOUSEOUT:"molecule_mouseout"};jchemhub.controller.BondController=function(b){goog.events.EventTarget.call(this);this.setParentEventTarget(b)};goog.inherits(jchemhub.controller.BondController,goog.events.EventTarget);jchemhub.controller.BondController.prototype.handleMouseOver=function(b){this.dispatchEvent(new jchemhub.controller.BondController.BondEvent(this,b,jchemhub.controller.BondController.EventType.MOUSEOVER))};jchemhub.controller.BondController.prototype.handleMouseOut=function(){this.dispatchEvent(jchemhub.controller.BondController.EventType.MOUSEOUT)};
jchemhub.controller.BondController.prototype.handleMouseDown=function(b){this.dispatchEvent(new jchemhub.controller.BondController.BondEvent(this,b,jchemhub.controller.BondController.EventType.MOUSEDOWN))};jchemhub.controller.BondController.EventType={MOUSEOVER:"bond_mouseover",MOUSEOUT:"bond_mouseout",MOUSEDOWN:"bond_mousedown"};jchemhub.controller.BondController.BondEvent=function(b,c,d){goog.events.Event.call(this,d,b);this.bond=c};goog.inherits(jchemhub.controller.BondController.BondEvent,goog.events.Event);goog.math={};goog.math.Coordinate=function(b,c){this.x=goog.isDef(b)?b:0;this.y=goog.isDef(c)?c:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};if(goog.DEBUG)goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"};goog.math.Coordinate.equals=function(b,c){if(b==c)return true;if(!b||!c)return false;return b.x==c.x&&b.y==c.y};goog.math.Coordinate.distance=function(b,c){var d=b.x-c.x;b=b.y-c.y;return Math.sqrt(d*d+b*b)};
goog.math.Coordinate.squaredDistance=function(b,c){var d=b.x-c.x;b=b.y-c.y;return d*d+b*b};goog.math.Coordinate.difference=function(b,c){return new goog.math.Coordinate(b.x-c.x,b.y-c.y)};goog.math.Coordinate.sum=function(b,c){return new goog.math.Coordinate(b.x+c.x,b.y+c.y)};goog.math.Box=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};goog.math.Box.boundingBox=function(){for(var b=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments.length;c++){var d=arguments[c];b.top=Math.min(b.top,d.y);b.right=Math.max(b.right,d.x);b.bottom=Math.max(b.bottom,d.y);b.left=Math.min(b.left,d.x)}return b};goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)};
if(goog.DEBUG)goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};goog.math.Box.prototype.contains=function(b){return goog.math.Box.contains(this,b)};goog.math.Box.prototype.expand=function(b,c,d,e){if(goog.isObject(b)){this.top-=b.top;this.right+=b.right;this.bottom+=b.bottom;this.left-=b.left}else{this.top-=b;this.right+=c;this.bottom+=d;this.left-=e}return this};
goog.math.Box.prototype.expandToInclude=function(b){this.left=Math.min(this.left,b.left);this.top=Math.min(this.top,b.top);this.right=Math.max(this.right,b.right);this.bottom=Math.max(this.bottom,b.bottom)};goog.math.Box.equals=function(b,c){if(b==c)return true;if(!b||!c)return false;return b.top==c.top&&b.right==c.right&&b.bottom==c.bottom&&b.left==c.left};
goog.math.Box.contains=function(b,c){if(!b||!c)return false;if(c instanceof goog.math.Box)return c.left>=b.left&&c.right<=b.right&&c.top>=b.top&&c.bottom<=b.bottom;return c.x>=b.left&&c.x<=b.right&&c.y>=b.top&&c.y<=b.bottom};
goog.math.Box.distance=function(b,c){if(c.x>=b.left&&c.x<=b.right){if(c.y>=b.top&&c.y<=b.bottom)return 0;return c.y<b.top?b.top-c.y:c.y-b.bottom}if(c.y>=b.top&&c.y<=b.bottom)return c.x<b.left?b.left-c.x:c.x-b.right;return goog.math.Coordinate.distance(c,new goog.math.Coordinate(c.x<b.left?b.left:b.right,c.y<b.top?b.top:b.bottom))};goog.math.Box.intersects=function(b,c){return b.left<=c.right&&c.left<=b.right&&b.top<=c.bottom&&c.top<=b.bottom};goog.math.Range=function(b,c){b=Number(b);c=Number(c);this.start=b<c?b:c;this.end=b<c?c:b};goog.math.Range.prototype.clone=function(){return new goog.math.Range(this.start,this.end)};if(goog.DEBUG)goog.math.Range.prototype.toString=function(){return"["+this.start+", "+this.end+"]"};goog.math.Range.equals=function(b,c){if(b==c)return true;if(!b||!c)return false;return b.start==c.start&&b.end==c.end};
goog.math.Range.intersection=function(b,c){var d=Math.max(b.start,c.start);b=Math.min(b.end,c.end);return d<=b?new goog.math.Range(d,b):null};goog.math.Range.hasIntersection=function(b,c){return Math.max(b.start,c.start)<=Math.min(b.end,c.end)};goog.math.Range.boundingRange=function(b,c){return new goog.math.Range(Math.min(b.start,c.start),Math.max(b.end,c.end))};goog.math.Range.contains=function(b,c){return b.start<=c.start&&b.end>=c.end};
goog.math.Range.containsPoint=function(b,c){return b.start<=c&&b.end>=c};goog.math.Size=function(b,c){this.width=b;this.height=c};goog.math.Size.equals=function(b,c){if(b==c)return true;if(!b||!c)return false;return b.width==c.width&&b.height==c.height};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};if(goog.DEBUG)goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};a=goog.math.Size.prototype;a.getLongest=function(){return Math.max(this.width,this.height)};
a.getShortest=function(){return Math.min(this.width,this.height)};a.area=function(){return this.width*this.height};a.aspectRatio=function(){return this.width/this.height};a.isEmpty=function(){return!this.area()};a.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};a.fitsInside=function(b){return this.width<=b.width&&this.height<=b.height};a.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
a.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.scale=function(b){this.width*=b;this.height*=b;return this};a.scaleToFit=function(b){return this.scale(this.aspectRatio()>b.aspectRatio()?b.width/this.width:b.height/this.height)};goog.math.Rect=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)};goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)};goog.math.Rect.createFromBox=function(b){return new goog.math.Rect(b.left,b.top,b.right-b.left,b.bottom-b.top)};
if(goog.DEBUG)goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};goog.math.Rect.equals=function(b,c){if(b==c)return true;if(!b||!c)return false;return b.left==c.left&&b.width==c.width&&b.top==c.top&&b.height==c.height};
goog.math.Rect.prototype.intersection=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top);b=Math.min(this.top+this.height,b.top+b.height);if(e<=b){this.left=c;this.top=e;this.width=d-c;this.height=b-e;return true}}return false};
goog.math.Rect.intersection=function(b,c){var d=Math.max(b.left,c.left),e=Math.min(b.left+b.width,c.left+c.width);if(d<=e){var f=Math.max(b.top,c.top);b=Math.min(b.top+b.height,c.top+c.height);if(f<=b)return new goog.math.Rect(d,f,e-d,b-f)}return null};goog.math.Rect.intersects=function(b,c){return b.left<=c.left+c.width&&c.left<=b.left+b.width&&b.top<=c.top+c.height&&c.top<=b.top+b.height};goog.math.Rect.prototype.intersects=function(b){return goog.math.Rect.intersects(this,b)};
goog.math.Rect.difference=function(b,c){var d=goog.math.Rect.intersection(b,c);if(!d||!d.height||!d.width)return[b.clone()];d=[];var e=b.top,f=b.height,g=b.left+b.width,h=b.top+b.height,i=c.left+c.width,j=c.top+c.height;if(c.top>b.top){d.push(new goog.math.Rect(b.left,b.top,b.width,c.top-b.top));e=c.top;f-=c.top-b.top}if(j<h){d.push(new goog.math.Rect(b.left,j,b.width,h-j));f=j-e}c.left>b.left&&d.push(new goog.math.Rect(b.left,e,c.left-b.left,f));i<g&&d.push(new goog.math.Rect(i,e,g-i,f));return d};
goog.math.Rect.prototype.difference=function(b){return goog.math.Rect.difference(this,b)};goog.math.Rect.prototype.boundingRect=function(b){var c=Math.max(this.left+this.width,b.left+b.width),d=Math.max(this.top+this.height,b.top+b.height);this.left=Math.min(this.left,b.left);this.top=Math.min(this.top,b.top);this.width=c-this.left;this.height=d-this.top};goog.math.Rect.boundingRect=function(b,c){if(!b||!c)return null;b=b.clone();b.boundingRect(c);return b};
goog.math.Rect.prototype.contains=function(b){return b instanceof goog.math.Rect?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)};goog.math.randomInt=function(b){return Math.floor(Math.random()*b)};goog.math.uniformRandom=function(b,c){return b+Math.random()*(c-b)};goog.math.clamp=function(b,c,d){return Math.min(Math.max(b,c),d)};goog.math.modulo=function(b,c){b=b%c;return b*c<0?b+c:b};goog.math.lerp=function(b,c,d){return b+d*(c-b)};goog.math.nearlyEquals=function(b,c,d){return Math.abs(b-c)<=(d||1.0E-6)};goog.math.standardAngle=function(b){return goog.math.modulo(b,360)};goog.math.toRadians=function(b){return b*Math.PI/180};
goog.math.toDegrees=function(b){return b*180/Math.PI};goog.math.angleDx=function(b,c){return c*Math.cos(goog.math.toRadians(b))};goog.math.angleDy=function(b,c){return c*Math.sin(goog.math.toRadians(b))};goog.math.angle=function(b,c,d,e){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(e-c,d-b)))};goog.math.angleDifference=function(b,c){b=goog.math.standardAngle(c)-goog.math.standardAngle(b);if(b>180)b-=360;else if(b<=-180)b=360+b;return b};
goog.math.sign=function(b){return b==0?0:b<0?-1:1};goog.math.longestCommonSubsequence=function(b,c,d,e){d=d||function(l,m){return l==m};e=e||function(l){return b[l]};for(var f=b.length,g=c.length,h=[],i=0;i<f+1;i++){h[i]=[];h[i][0]=0}for(var j=0;j<g+1;j++)h[0][j]=0;for(i=1;i<=f;i++)for(j=1;j<=f;j++)h[i][j]=d(b[i-1],c[j-1])?h[i-1][j-1]+1:Math.max(h[i-1][j],h[i][j-1]);var k=[];i=f;for(j=g;i>0&&j>0;)if(d(b[i-1],c[j-1])){k.unshift(e(i-1,j-1));i--;j--}else if(h[i-1][j]>h[i][j-1])i--;else j--;return k};
goog.math.sum=function(){return goog.array.reduce(arguments,function(b,c){return b+c},0)};goog.math.average=function(){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.standardDeviation=function(){var b=arguments.length;if(b<2)return 0;var c=goog.math.average.apply(null,arguments);b=goog.math.sum.apply(null,goog.array.map(arguments,function(d){return Math.pow(d-c,2)}))/(b-1);return Math.sqrt(b)};goog.math.isInt=function(b){return isFinite(b)&&b%1==0};
goog.math.isFiniteNumber=function(b){return isFinite(b)&&!isNaN(b)};goog.math.Line=function(b,c,d,e){this.x0=b;this.y0=c;this.x1=d;this.y1=e};a=goog.math.Line.prototype;a.clone=function(){return new goog.math.Line(this.x0,this.y0,this.x1,this.y1)};a.equals=function(b){return this.x0==b.x0&&this.y0==b.y0&&this.x1==b.x1&&this.y1==b.y1};a.getSegmentLengthSquared=function(){var b=this.x1-this.x0,c=this.y1-this.y0;return b*b+c*c};a.getSegmentLength=function(){return Math.sqrt(this.getSegmentLengthSquared())};
a.getClosestLinearInterpolation_=function(b,c){if(b instanceof goog.math.Coordinate){c=b.y;b=b.x}else c=c;var d=this.x0,e=this.y0;return((b-d)*(this.x1-d)+(c-e)*(this.y1-e))/this.getSegmentLengthSquared()};a.getInterpolatedPoint=function(b){return new goog.math.Coordinate(goog.math.lerp(this.x0,this.x1,b),goog.math.lerp(this.y0,this.y1,b))};a.getClosestPoint=function(b,c){return this.getInterpolatedPoint(this.getClosestLinearInterpolation_(b,c))};
a.getClosestSegmentPoint=function(b,c){return this.getInterpolatedPoint(goog.math.clamp(this.getClosestLinearInterpolation_(b,c),0,1))};jchemhub.math={};jchemhub.math.Line=function(b,c){goog.math.Line.call(this,b.x,b.y,c.x,c.y)};goog.inherits(jchemhub.math.Line,goog.math.Line);jchemhub.math.Line.prototype.getTheta=function(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)};jchemhub.math.Line.prototype.getStart=function(){return new goog.math.Coordinate(this.x0,this.y0)};jchemhub.math.Line.prototype.getEnd=function(){return new goog.math.Coordinate(this.x1,this.y1)};jchemhub.view.BondRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d,jchemhub.view.BondRenderer.defaultConfig)};goog.inherits(jchemhub.view.BondRenderer,jchemhub.view.Renderer);
jchemhub.view.BondRenderer.prototype.render=function(b,c){this.transform=c;var d=new goog.graphics.SolidFill("red",0.0010),e=this.config.get("highlight").radius,f=jchemhub.view.BondRenderer.getTheta(b),g=f+Math.PI/2;f=f-Math.PI/2;g=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*e,Math.sin(g)*e);e=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(f)*e,Math.sin(f)*e);g=g.transformCoords([b.source.coord,b.target.coord]);e=e.transformCoords([b.source.coord,b.target.coord]);c=c.transformCoords([g[0],
g[1],e[0],e[1]]);bondBoxPath=new goog.graphics.Path;bondBoxPath.moveTo(c[0].x,c[0].y);bondBoxPath.lineTo(c[2].x,c[2].y);bondBoxPath.lineTo(c[3].x,c[3].y);bondBoxPath.lineTo(c[1].x,c[1].y);bondBoxPath.close();c=this.graphics.createGroup();this.graphics.drawPath(bondBoxPath,null,d,c);c.addEventListener(goog.events.EventType.MOUSEOVER,goog.bind(this.controller.handleMouseOver,this.controller,b));c.addEventListener(goog.events.EventType.MOUSEOUT,goog.bind(this.controller.handleMouseOut,this.controller,
b));c.addEventListener(goog.events.EventType.MOUSEDOWN,goog.bind(this.controller.handleMouseDown,this.controller,b));return c};
jchemhub.view.BondRenderer.prototype.highlightOn=function(b,c){var d=this.config.get("bond").stroke.width*2;d=new goog.graphics.Stroke(d,this.config.get("highlight").color);var e=this.config.get("highlight").radius*this.transform.getScaleX(),f=-jchemhub.view.BondRenderer.getTheta(b)*180/Math.PI,g=f+90;f=f<=0?b.source.coord.y<=b.target.coord.y?180:-180:b.source.coord.y>b.target.coord.y?180:-180;b=this.transform.transformCoords([b.source.coord,b.target.coord]);var h=new goog.graphics.Path;h.arc(b[0].x,
b[0].y,e,e,g,f);h.arc(b[1].x,b[1].y,e,e,g,-f);c||(c=this.graphics.createGroup());this.graphics.drawPath(h,d,null,c);return c};jchemhub.view.BondRenderer.getTheta=function(b){return(new jchemhub.math.Line(b.source.coord,b.target.coord)).getTheta()};jchemhub.view.BondRenderer.defaultConfig={bond:{stroke:{width:2,color:"black"},fill:{color:"black"}},highlight:{radius:0.3,color:"blue"}};jchemhub.view.SingleBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.SingleBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.SingleBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.SingleBondRenderer.prototype.render=function(b,c,d){jchemhub.view.SingleBondRenderer.superClass_.render.call(this,b,c,d);var e=new goog.graphics.Path,f=new goog.graphics.Stroke(this.config.get("bond").stroke.width,this.config.get("bond").stroke.color);b=c.transformCoords([b.source.coord,b.target.coord]);e.moveTo(b[0].x,b[0].y);e.lineTo(b[1].x,b[1].y);this.graphics.drawPath(e,f,null,d)};jchemhub.view.DoubleBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.DoubleBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.DoubleBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.DoubleBondRenderer.prototype.render=function(b,c,d){jchemhub.view.DoubleBondRenderer.superClass_.render.call(this,b,c,d);var e=this.config.get("bond").stroke.width;e=new goog.graphics.Stroke(e,this.config.get("bond").stroke.color);var f=jchemhub.view.DoubleBondRenderer.getFirstRing(b);if(f){var g=f.ringCenter;f=goog.math.Coordinate.difference(g,b.source.coord);f=goog.math.Coordinate.sum(new goog.math.Coordinate(f.x/5,f.y/5),b.source.coord);g=goog.math.Coordinate.difference(g,b.target.coord);
g=goog.math.Coordinate.sum(new goog.math.Coordinate(g.x/5,g.y/5),b.target.coord);c=c.transformCoords([b.source.coord,b.target.coord,f,g]);b=new goog.graphics.Path}else{g=jchemhub.view.BondRenderer.getTheta(b);f=g+Math.PI/2;g=g-Math.PI/2;var h=goog.math.Coordinate.distance(b.source.coord,b.target.coord)/12;f=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(f)*h,Math.sin(f)*h);g=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*h,Math.sin(g)*h);f=f.transformCoords([b.source.coord,b.target.coord]);
b=g.transformCoords([b.source.coord,b.target.coord]);c=c.transformCoords([f[0],f[1],b[0],b[1]]);b=new goog.graphics.Path}b.moveTo(c[0].x,c[0].y);b.lineTo(c[1].x,c[1].y);b.moveTo(c[2].x,c[2].y);b.lineTo(c[3].x,c[3].y);this.graphics.drawPath(b,e,null,d)};jchemhub.view.DoubleBondRenderer.getFirstRing=function(b){return goog.array.find(b.molecule.getRings(),function(c){return goog.array.contains(c.bonds,this)},b)};jchemhub.view.TripleBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.TripleBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.TripleBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.TripleBondRenderer.prototype.render=function(b,c,d){jchemhub.view.TripleBondRenderer.superClass_.render.call(this,b,c,d);var e=this.config.get("bond").stroke.width;e=new goog.graphics.Stroke(e,this.config.get("bond").stroke.color);var f=jchemhub.view.BondRenderer.getTheta(b),g=f+Math.PI/2;f=f-Math.PI/2;var h=goog.math.Coordinate.distance(b.source.coord,b.target.coord)/6;g=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*h,Math.sin(g)*h);f=new jchemhub.graphics.AffineTransform(1,
0,0,1,Math.cos(f)*h,Math.sin(f)*h);g=g.transformCoords([b.source.coord,b.target.coord]);f=f.transformCoords([b.source.coord,b.target.coord]);b=c.transformCoords([b.source.coord,b.target.coord,g[0],g[1],f[0],f[1]]);c=new goog.graphics.Path;c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.moveTo(b[2].x,b[2].y);c.lineTo(b[3].x,b[3].y);c.moveTo(b[4].x,b[4].y);c.lineTo(b[5].x,b[5].y);this.graphics.drawPath(c,e,null,d)};jchemhub.view.QuadrupleBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.QuadrupleBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.QuadrupleBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.QuadrupleBondRenderer.prototype.render=function(b,c,d){jchemhub.view.QuadrupleBondRenderer.superClass_.render.call(this,b,c,d);var e=this.config.get("bond").stroke.width;e=new goog.graphics.Stroke(e,this.config.get("bond").stroke.color);var f=jchemhub.view.BondRenderer.getTheta(b),g=f+Math.PI/2,h=f-Math.PI/2,i=goog.math.Coordinate.distance(b.source.coord,b.target.coord)/6,j=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*i/3,Math.sin(g)*i/3);f=new jchemhub.graphics.AffineTransform(1,
0,0,1,Math.cos(h)*i/3,Math.sin(h)*i/3);g=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*i,Math.sin(g)*i);h=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(h)*i,Math.sin(h)*i);j=j.transformCoords([b.source.coord,b.target.coord]);f=f.transformCoords([b.source.coord,b.target.coord]);g=g.transformCoords([b.source.coord,b.target.coord]);b=h.transformCoords([b.source.coord,b.target.coord]);c=c.transformCoords([j[0],j[1],f[0],f[1],g[0],g[1],b[0],b[1]]);b=new goog.graphics.Path;b.moveTo(c[0].x,
c[0].y);b.lineTo(c[1].x,c[1].y);b.moveTo(c[2].x,c[2].y);b.lineTo(c[3].x,c[3].y);b.moveTo(c[4].x,c[4].y);b.lineTo(c[5].x,c[5].y);b.moveTo(c[6].x,c[6].y);b.lineTo(c[7].x,c[7].y);this.graphics.drawPath(b,e,null,d)};jchemhub.view.SingleUpBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.SingleUpBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.SingleUpBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.SingleUpBondRenderer.prototype.render=function(b,c,d){jchemhub.view.SingleUpBondRenderer.superClass_.render.call(this,b,c,d);var e=new goog.graphics.Path,f=this.config.get("bond").stroke.width/10,g=new goog.graphics.Stroke(f,this.config.get("bond").stroke.color),h=new goog.graphics.SolidFill(this.config.get("bond").fill.color),i=jchemhub.view.BondRenderer.getTheta(b),j=i+Math.PI/2;i=i-Math.PI/2;j=(new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(j)*f,Math.sin(j)*f)).transformCoords([b.target.coord])[0];
f=(new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(i)*f,Math.sin(i)*f)).transformCoords([b.target.coord])[0];b=c.transformCoords([b.source.coord,j,f]);e.moveTo(b[0].x,b[0].y);e.lineTo(b[1].x,b[1].y);e.lineTo(b[2].x,b[2].y);this.graphics.drawPath(e,g,h,d)};jchemhub.view.SingleDownBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.SingleDownBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.SingleDownBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.SingleDownBondRenderer.prototype.render=function(b,c,d){jchemhub.view.SingleDownBondRenderer.superClass_.render.call(this,b,c,d);var e=new goog.graphics.Path,f=this.config.get("bond").stroke.width/10,g=jchemhub.view.BondRenderer.getTheta(b),h=g+Math.PI/2;g=g-Math.PI/2;h=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(h)*f,Math.sin(h)*f);f=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*f,Math.sin(g)*f);h=h.transformCoords([b.source.coord,b.target.coord]);b=f.transformCoords([b.source.coord,
b.target.coord]);c=c.transformCoords([h[0],h[1],b[0],b[1]]);b=new goog.graphics.Stroke(this.config.get("bond").stroke.width,this.config.get("bond").stroke.color);for(f=1;f<6;f++){e.moveTo(c[0].x+(c[1].x-c[0].x)*f/6,c[0].y+(c[1].y-c[0].y)*f/6);e.lineTo(c[2].x+(c[3].x-c[2].x)*f/6,c[2].y+(c[3].y-c[2].y)*f/6)}this.graphics.drawPath(e,b,null,d)};jchemhub.view.SingleUpOrDownBondRenderer=function(b,c,d){jchemhub.view.BondRenderer.call(this,b,c,d,jchemhub.view.SingleUpOrDownBondRenderer.defaultConfig)};goog.inherits(jchemhub.view.SingleUpOrDownBondRenderer,jchemhub.view.BondRenderer);
jchemhub.view.SingleUpOrDownBondRenderer.prototype.render=function(b,c,d){jchemhub.view.SingleUpOrDownBondRenderer.superClass_.render.call(this,b,c,d);var e=new goog.graphics.Path,f=this.config.get("bond").stroke.width/10,g=jchemhub.view.BondRenderer.getTheta(b),h=g+Math.PI/2;g=g-Math.PI/2;h=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(h)*f,Math.sin(h)*f);f=new jchemhub.graphics.AffineTransform(1,0,0,1,Math.cos(g)*f,Math.sin(g)*f);h=h.transformCoords([b.source.coord,b.target.coord]);b=f.transformCoords([b.source.coord,
b.target.coord]);c=c.transformCoords([h[0],h[1],b[0],b[1]]);b=new goog.graphics.Stroke(this.config.get("bond").stroke.width,this.config.get("bond").stroke.color);e.moveTo(c[0].x,c[0].y);for(f=1;f<10;f++)f%2?e.lineTo(c[0].x+(c[1].x-c[0].x)*f/10,c[0].y+(c[1].y-c[0].y)*f/10):e.lineTo(c[2].x+(c[3].x-c[2].x)*f/10,c[2].y+(c[3].y-c[2].y)*f/10);this.graphics.drawPath(e,b,null,d)};jchemhub.view.BondRendererFactory=function(b,c,d){this.controller=b;this.graphics=c;this.config=new goog.structs.Map;d&&this.config.addAll(d)};
jchemhub.view.BondRendererFactory.prototype.get=function(b){if(b instanceof jchemhub.model.SingleBondUp){if(!this.singleUpBondRenderer)this.singleUpBondRenderer=new jchemhub.view.SingleUpBondRenderer(this.controller,this.graphics,this.config);return this.singleUpBondRenderer}if(b instanceof jchemhub.model.SingleBondDown){if(!this.singleDownBondRenderer)this.singleDownBondRenderer=new jchemhub.view.SingleDownBondRenderer(this.controller,this.graphics,this.config);return this.singleDownBondRenderer}if(b instanceof
jchemhub.model.SingleBondUpOrDown){if(!this.singleUpOrDownBondRenderer)this.singleUpOrDownBondRenderer=new jchemhub.view.SingleUpOrDownBondRenderer(this.controller,this.graphics,this.config);return this.singleUpOrDownBondRenderer}if(b instanceof jchemhub.model.SingleBond){if(!this.singleBondRenderer)this.singleBondRenderer=new jchemhub.view.SingleBondRenderer(this.controller,this.graphics,this.config);return this.singleBondRenderer}if(b instanceof jchemhub.model.DoubleBond){if(!this.doubleBondRenderer)this.doubleBondRenderer=
new jchemhub.view.DoubleBondRenderer(this.controller,this.graphics,this.config);return this.doubleBondRenderer}if(b instanceof jchemhub.model.TripleBond){if(!this.tripleBondRenderer)this.tripleBondRenderer=new jchemhub.view.TripleBondRenderer(this.controller,this.graphics,this.config);return this.tripleBondRenderer}if(b instanceof jchemhub.model.QuadrupleBond){if(!this.quadrupleBondRenderer)this.quadrupleBondRenderer=new jchemhub.view.QuadrupleBondRenderer(this.controller,this.graphics,this.config);
return this.quadrupleBondRenderer}};goog.structs.Set=function(b){this.map_=new goog.structs.Map;b&&this.addAll(b)};goog.structs.Set.getKey_=function(b){var c=typeof b;return c=="object"&&b||c=="function"?"o"+goog.getUid(b):c.substr(0,1)+b};a=goog.structs.Set.prototype;a.getCount=function(){return this.map_.getCount()};a.add=function(b){this.map_.set(goog.structs.Set.getKey_(b),b)};a.addAll=function(b){b=goog.structs.getValues(b);for(var c=b.length,d=0;d<c;d++)this.add(b[d])};
a.removeAll=function(b){b=goog.structs.getValues(b);for(var c=b.length,d=0;d<c;d++)this.remove(b[d])};a.remove=function(b){return this.map_.remove(goog.structs.Set.getKey_(b))};a.clear=function(){this.map_.clear()};a.isEmpty=function(){return this.map_.isEmpty()};a.contains=function(b){return this.map_.containsKey(goog.structs.Set.getKey_(b))};a.containsAll=function(b){return goog.structs.every(b,this.contains,this)};
a.intersection=function(b){var c=new goog.structs.Set;b=goog.structs.getValues(b);for(var d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};a.getValues=function(){return this.map_.getValues()};a.clone=function(){return new goog.structs.Set(this)};a.equals=function(b){return this.getCount()==goog.structs.getCount(b)&&this.isSubsetOf(b)};
a.isSubsetOf=function(b){var c=goog.structs.getCount(b);if(this.getCount()>c)return false;if(!(b instanceof goog.structs.Set)&&c>5)b=new goog.structs.Set(b);return goog.structs.every(this,function(d){return goog.structs.contains(b,d)})};a.__iterator__=function(){return this.map_.__iterator__(false)};goog.debug.catchErrors=function(b,c,d){d=d||goog.global;var e=d.onerror;d.onerror=function(f,g,h){e&&e(f,g,h);g=String(g).split(/[\/\\]/).pop();b({message:f,fileName:g,line:h});return Boolean(c)}};goog.debug.expose=function(b,c){if(typeof b=="undefined")return"undefined";if(b==null)return"NULL";var d=[];for(var e in b)if(!(!c&&goog.isFunction(b[e]))){var f=e+" = ";try{f+=b[e]}catch(g){f+="*** "+g+" ***"}d.push(f)}return d.join("\n")};
goog.debug.deepExpose=function(b,c){var d=new goog.structs.Set,e=[],f=function(g,h){var i=h+"  ",j=function(m){return m.replace(/\n/g,"\n"+h)};try{if(goog.isDef(g))if(goog.isNull(g))e.push("NULL");else if(goog.isString(g))e.push('"'+j(g)+'"');else if(goog.isFunction(g))e.push(j(String(g)));else if(goog.isObject(g))if(d.contains(g))e.push("*** reference loop detected ***");else{d.add(g);e.push("{");for(var k in g)if(!(!c&&goog.isFunction(g[k]))){e.push("\n");e.push(i);e.push(k+" = ");f(g[k],i)}e.push("\n"+
h+"}")}else e.push(g);else e.push("undefined")}catch(l){e.push("*** "+l+" ***")}};f(b,"");return e.join("")};goog.debug.exposeArray=function(b){for(var c=[],d=0;d<b.length;d++)goog.isArray(b[d])?c.push(goog.debug.exposeArray(b[d])):c.push(b[d]);return"[ "+c.join(", ")+" ]"};
goog.debug.exposeException=function(b,c){try{var d=goog.debug.normalizeErrorObject(b);return"Message: "+goog.string.htmlEscape(d.message)+'\nUrl: <a href="view-source:'+d.fileName+'" target="_new">'+d.fileName+"</a>\nLine: "+d.lineNumber+"\n\nBrowser stack:\n"+goog.string.htmlEscape(d.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+goog.string.htmlEscape(goog.debug.getStacktrace(c)+"-> ")}catch(e){return"Exception trying to expose exception! You win, we lose. "+e}};
goog.debug.normalizeErrorObject=function(b){var c=goog.getObjectByName("window.location.href");return typeof b=="string"?{message:b,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"}:!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:b.lineNumber||b.line||"Not available",fileName:b.fileName||b.filename||b.sourceURL||c,stack:b.stack||"Not available"}:b};
goog.debug.enhanceError=function(b,c){var d=typeof b=="string"?Error(b):b;if(!d.stack)d.stack=goog.debug.getStacktrace(arguments.callee.caller);if(c){for(var e=0;d["message"+e];)++e;d["message"+e]=String(c)}return d};
goog.debug.getStacktraceSimple=function(b){for(var c=[],d=arguments.callee.caller,e=0;d&&(!b||e<b);){c.push(goog.debug.getFunctionName(d));c.push("()\n");try{d=d.caller}catch(f){c.push("[exception trying to get caller]\n");break}e++;if(e>=goog.debug.MAX_STACK_DEPTH){c.push("[...long stack...]");break}}b&&e>=b?c.push("[...reached max depth limit...]"):c.push("[end]");return c.join("")};goog.debug.MAX_STACK_DEPTH=50;
goog.debug.getStacktrace=function(b){return goog.debug.getStacktraceHelper_(b||arguments.callee.caller,[])};
goog.debug.getStacktraceHelper_=function(b,c){var d=[];if(goog.array.contains(c,b))d.push("[...circular reference...]");else if(b&&c.length<goog.debug.MAX_STACK_DEPTH){d.push(goog.debug.getFunctionName(b)+"(");for(var e=b.arguments,f=0;f<e.length;f++){f>0&&d.push(", ");var g;g=e[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":g=g;break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=goog.debug.getFunctionName(g))?g:"[fn]";break;
case "undefined":default:g=typeof g;break}if(g.length>40)g=g.substr(0,40)+"...";d.push(g)}c.push(b);d.push(")\n");try{d.push(goog.debug.getStacktraceHelper_(b.caller,c))}catch(h){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")};goog.debug.getFunctionName=function(b){b=String(b);if(!goog.debug.fnNameCache_[b]){var c=/function ([^\(]+)/.exec(b);goog.debug.fnNameCache_[b]=c?c[1]:"[Anonymous]"}return goog.debug.fnNameCache_[b]};
goog.debug.makeWhitespaceVisible=function(b){return b.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.fnNameCache_={};goog.debug.LogRecord=function(b,c,d,e,f){this.sequenceNumber_=typeof f=="number"?f:goog.debug.LogRecord.nextSequenceNumber_++;this.time_=e||goog.now();this.level_=b;this.msg_=c;this.loggerName_=d};goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.prototype.exceptionText_=null;goog.debug.LogRecord.nextSequenceNumber_=0;a=goog.debug.LogRecord.prototype;a.getLoggerName=function(){return this.loggerName_};a.getException=function(){return this.exception_};
a.setException=function(b){this.exception_=b};a.getExceptionText=function(){return this.exceptionText_};a.setExceptionText=function(b){this.exceptionText_=b};a.setLoggerName=function(b){this.loggerName_=b};a.getLevel=function(){return this.level_};a.setLevel=function(b){this.level_=b};a.getMessage=function(){return this.msg_};a.setMessage=function(b){this.msg_=b};a.getMillis=function(){return this.time_};a.setMillis=function(b){this.time_=b};a.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.Logger=function(b){this.name_=b};goog.debug.Logger.prototype.parent_=null;goog.debug.Logger.prototype.level_=null;goog.debug.Logger.prototype.children_=null;goog.debug.Logger.prototype.handlers_=null;goog.debug.Logger.Level=function(b,c){this.name=b;this.value=c};goog.debug.Logger.Level.prototype.toString=function(){return this.name};goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);
goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);
goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];goog.debug.Logger.Level.predefinedLevelsCache_=null;
goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var b=0,c;c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];b++){goog.debug.Logger.Level.predefinedLevelsCache_[c.value]=c;goog.debug.Logger.Level.predefinedLevelsCache_[c.name]=c}};
goog.debug.Logger.Level.getPredefinedLevel=function(b){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[b]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(b){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(b in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[b];for(var c=0;c<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++c){var d=goog.debug.Logger.Level.PREDEFINED_LEVELS[c];if(d.value<=b)return d}return null};goog.debug.Logger.getLogger=function(b){return goog.debug.LogManager.getLogger(b)};
a=goog.debug.Logger.prototype;a.getName=function(){return this.name_};a.addHandler=function(b){if(!this.handlers_)this.handlers_=[];this.handlers_.push(b)};a.removeHandler=function(b){return!!this.handlers_&&goog.array.remove(this.handlers_,b)};a.getParent=function(){return this.parent_};a.getChildren=function(){if(!this.children_)this.children_={};return this.children_};a.setLevel=function(b){this.level_=b};a.getLevel=function(){return this.level_};
a.getEffectiveLevel=function(){if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();return null};a.isLoggable=function(b){if(this.level_)return b.value>=this.level_.value;if(this.parent_)return this.parent_.isLoggable(b);return false};a.log=function(b,c,d){this.isLoggable(b)&&this.doLogRecord_(this.getLogRecord(b,c,d))};
a.getLogRecord=function(b,c,d){var e=new goog.debug.LogRecord(b,String(c),this.name_);if(d){e.setException(d);e.setExceptionText(goog.debug.exposeException(d,arguments.callee.caller))}return e};a.shout=function(b,c){this.log(goog.debug.Logger.Level.SHOUT,b,c)};a.severe=function(b,c){this.log(goog.debug.Logger.Level.SEVERE,b,c)};a.warning=function(b,c){this.log(goog.debug.Logger.Level.WARNING,b,c)};a.info=function(b,c){this.log(goog.debug.Logger.Level.INFO,b,c)};
a.config=function(b,c){this.log(goog.debug.Logger.Level.CONFIG,b,c)};a.fine=function(b,c){this.log(goog.debug.Logger.Level.FINE,b,c)};a.finer=function(b,c){this.log(goog.debug.Logger.Level.FINER,b,c)};a.finest=function(b,c){this.log(goog.debug.Logger.Level.FINEST,b,c)};a.logRecord=function(b){this.isLoggable(b.getLevel())&&this.doLogRecord_(b)};a.doLogRecord_=function(b){for(var c=this;c;){c.callPublish_(b);c=c.getParent()}};a.callPublish_=function(b){if(this.handlers_)for(var c=0,d;d=this.handlers_[c];c++)d(b)};
a.setParent_=function(b){this.parent_=b};a.addChild_=function(b,c){this.getChildren()[b]=c};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;goog.debug.LogManager.initialize=function(){if(!goog.debug.LogManager.rootLogger_){goog.debug.LogManager.rootLogger_=new goog.debug.Logger("");goog.debug.LogManager.loggers_[""]=goog.debug.LogManager.rootLogger_;goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG)}};
goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(b){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[b]||goog.debug.LogManager.createLogger_(b)};
goog.debug.LogManager.createFunctionForCatchErrors=function(b){return function(c){(b||goog.debug.LogManager.getRoot()).severe("Error: "+c.message+" ("+c.fileName+" @ Line: "+c.line+")")}};goog.debug.LogManager.createLogger_=function(b){var c=new goog.debug.Logger(b),d=b.lastIndexOf("."),e=b.substr(0,d);d=b.substr(d+1);e=goog.debug.LogManager.getLogger(e);e.addChild_(d,c);c.setParent_(e);return goog.debug.LogManager.loggers_[b]=c};jchemhub.view.AtomRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d,jchemhub.view.AtomRenderer.defaultConfig)};goog.inherits(jchemhub.view.AtomRenderer,jchemhub.view.Renderer);
jchemhub.view.AtomRenderer.prototype.render=function(b,c){this.transform=c;var d=this.config.get("atom"),e=this.config.get(b.symbol)?this.config.get(b.symbol).color:d.color,f=c.getScaleX();f=new goog.graphics.Font(f/1.8,d.fontName);d=new goog.graphics.Stroke(d.stroke.width,e);e=new goog.graphics.SolidFill(e);c=c.transformCoords([b.coord])[0];var g=this.compoundSymbol(b),h=this.graphics,i=g.text.length*0.55*f.size,j=f.size,k=h.createGroup();if(g.text){k.atomLabelBackground=h.drawEllipse(c.x,c.y,j*
0.7,j*0.7,new goog.graphics.Stroke(1,this.config.get("background").color),new goog.graphics.SolidFill(this.config.get("background").color),k);h.drawText(g.text,c.x-i/2,c.y-j/2,i,j,g.justification,null,f,d,e,k);if(g.justification=="left"){if(g.subscript||g.superscript){var l=this.config.get("subscriptSize");g.subscript&&h.drawText(g.subscript,c.x+i*0.9,c.y,l,l,"center",null,f,d,e,k);g.superscript&&h.drawText(g.superscript,c.x+i,c.y-j*0.8,l,l,"center",null,f,d,e,k)}}else if(g.justification=="right")if(g.subscript||
g.superscript){l=this.config.get("subscriptSize");if(g.subscript){h.drawText("H",c.x-i*3,c.y-j/2,i,j,"center",null,f,d,e,k);h.drawText(g.subscript,c.x-i*1.8,c.y,l,l,"center",null,f,d,e,k)}g.superscript&&h.drawText(g.superscript,c.x+i,c.y-j*0.8,l,l,"center",null,f,d,e,k)}}k.addEventListener(goog.events.EventType.MOUSEOVER,goog.bind(this.controller.handleMouseOver,this.controller,b));k.addEventListener(goog.events.EventType.MOUSEOUT,goog.bind(this.controller.handleMouseOut,this.controller,b));return k};
jchemhub.view.AtomRenderer.prototype.compoundSymbol=function(b){var c={text:"",justification:"center",superscript:"",subscript:""};if(b.symbol!="C"||b.countBonds()==1){var d=b.hydrogenCount();if(d==0)c.text=b.symbol;else{bond_direction=jchemhub.view.AtomRenderer.bondDirection(b);var e="center";if(bond_direction=="SW"||bond_direction=="W"||bond_direction=="NW"){e="right";if(d==1)c.text="H";c.text+=b.symbol}else{e="left";c.text=b.symbol+"H"}if(d>1)c.subscript=String(d)}if(b.charge)if(b.charge>1)c.superscript+=
"+"+b.charge;else if(b.charge<-1)c.superscript+=b.charge;else if(b.charge==-1)c.superscript="-";else if(b.charge==1)c.superscript="+"}else c.text="";c.justification=e;return c};jchemhub.view.AtomRenderer.bondOrientation=function(b,c){c=b.bonds.getValues()[c];var d=c.target.coord,e=c.source.coord,f=d.y-e.y;d=d.x-e.x;if(b==c.source){d=-d;f=-f}b=Math.atan2(f,d)*180/Math.PI;if(b<0)b=360+b;return b};
jchemhub.view.AtomRenderer.bondDirection=function(b){var c=b.bonds.getCount(),d=jchemhub.view.AtomRenderer.bondOrientation(b,0);if(c>1){for(var e=1;e<c;++e)d+=jchemhub.view.AtomRenderer.bondOrientation(b,e);d=d/c%360}return d>350||d<=10?"E":d>10&&d<=80?"SE":d>80&&d<=100?"S":d>100&&d<=170?"SW":d>170&&d<=190?"W":d>190&&d<=260?"NW":d>260&&d<=280?"N":"NE"};jchemhub.view.AtomRenderer.prototype.logger=goog.debug.Logger.getLogger("jchemhub.view.AtomRenderer");
jchemhub.view.AtomRenderer.defaultConfig={atom:{color:"#FF9999",diameter:0.05,stroke:{width:1},fontName:"Arial"},background:{color:"#F0FFF0"},margin:20,subscriptSize:5,N:{color:"blue"},O:{color:"red"},S:{color:"yellow"},P:{color:"orange"},Cl:{color:"green"},F:{color:"green"},Br:{color:"DarkRed"},I:{color:"purple"},C:{color:"black"},H:{color:"white"}};jchemhub.controller.AtomController=function(b){goog.events.EventTarget.call(this);this.setParentEventTarget(b)};goog.inherits(jchemhub.controller.AtomController,goog.events.EventTarget);jchemhub.controller.AtomController.prototype.handleMouseOver=function(){this.dispatchEvent(jchemhub.controller.AtomController.EventType.MOUSEOVER)};jchemhub.controller.AtomController.prototype.handleMouseOut=function(){this.dispatchEvent(jchemhub.controller.AtomController.EventType.MOUSEOUT)};
jchemhub.controller.AtomController.EventType={MOUSEOVER:"atom_mouseover",MOUSEOUT:"atom_mouseout"};jchemhub.view.MoleculeRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d,jchemhub.view.MoleculeRenderer.defaultConfig);this.bondController=new jchemhub.controller.BondController(b);this.bondRendererFactory=new jchemhub.view.BondRendererFactory(this.bondController,c);this.atomController=new jchemhub.controller.AtomController(b);this.atomRenderer=new jchemhub.view.AtomRenderer(this.atomController,c)};goog.inherits(jchemhub.view.MoleculeRenderer,jchemhub.view.Renderer);
jchemhub.view.MoleculeRenderer.prototype.render=function(b,c,d){this.transform=c;goog.array.forEach(b.bonds,function(e){this.bondRendererFactory.get(e).render(e,c,d)},this);goog.array.forEach(b.atoms,function(e){this.atomRenderer.render(e,c,this.atomController)},this)};jchemhub.view.ArrowRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d,jchemhub.view.ArrowRenderer.defaultConfig)};goog.inherits(jchemhub.view.ArrowRenderer,jchemhub.view.Renderer);
jchemhub.view.ArrowRenderer.prototype.render=function(b,c){var d=this.config.get("arrow").width,e=this.config.get("arrow").height;b=new goog.math.Coordinate(b.x-d/2,b.y);d=new goog.math.Coordinate(b.x+d,b.y);var f=new goog.math.Coordinate(d.x-e,d.y+e/2),g=new goog.math.Coordinate(d.x-e,d.y-e/2);e=new goog.graphics.Path;var h=new goog.graphics.Stroke(this.config.get("arrow").stroke.width,this.config.get("arrow").stroke.color);c=c.transformCoords([b,d,f,g]);e.moveTo(c[0].x,c[0].y);e.lineTo(c[1].x,c[1].y);
e.lineTo(c[2].x,c[2].y);e.moveTo(c[1].x,c[1].y);e.lineTo(c[3].x,c[3].y);this.graphics.drawPath(e,h,null)};jchemhub.view.ArrowRenderer.defaultConfig={arrow:{width:1,height:0.25,stroke:{width:2,color:"black"}}};jchemhub.view.PlusRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d,jchemhub.view.PlusRenderer.defaultConfig)};goog.inherits(jchemhub.view.PlusRenderer,jchemhub.view.Renderer);
jchemhub.view.PlusRenderer.prototype.render=function(b,c){var d=this.config.get("plus").size;h0=new goog.math.Coordinate(b.x,b.y-d);h1=new goog.math.Coordinate(b.x,b.y+d);v0=new goog.math.Coordinate(b.x-d,b.y);v1=new goog.math.Coordinate(b.x+d,b.y);b=new goog.graphics.Path;d=new goog.graphics.Stroke(this.config.get("plus").stroke.width,this.config.get("plus").stroke.color);c=c.transformCoords([h0,h1,v0,v1]);b.moveTo(c[0].x,c[0].y);b.lineTo(c[1].x,c[1].y);b.moveTo(c[2].x,c[2].y);b.lineTo(c[3].x,c[3].y);
this.graphics.drawPath(b,d,null)};jchemhub.view.PlusRenderer.defaultConfig={plus:{size:0.125,stroke:{width:2,color:"black"}}};goog.graphics={};goog.graphics.AffineTransform=function(b,c,d,e,f,g){if(arguments.length==6)this.setTransform(b,c,d,e,f,g);else if(arguments.length!=0)throw Error("Insufficient matrix parameters");else{this.m00_=this.m11_=1;this.m10_=this.m01_=this.m02_=this.m12_=0}};a=goog.graphics.AffineTransform.prototype;a.isIdentity=function(){return this.m00_==1&&this.m10_==0&&this.m01_==0&&this.m11_==1&&this.m02_==0&&this.m12_==0};
a.clone=function(){return new goog.graphics.AffineTransform(this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_)};a.setTransform=function(b,c,d,e,f,g){if(!goog.isNumber(b)||!goog.isNumber(c)||!goog.isNumber(d)||!goog.isNumber(e)||!goog.isNumber(f)||!goog.isNumber(g))throw Error("Invalid transform parameters");this.m00_=b;this.m10_=c;this.m01_=d;this.m11_=e;this.m02_=f;this.m12_=g;return this};
a.copyFrom=function(b){this.m00_=b.m00_;this.m10_=b.m10_;this.m01_=b.m01_;this.m11_=b.m11_;this.m02_=b.m02_;this.m12_=b.m12_;return this};a.scale=function(b,c){this.m00_*=b;this.m10_*=b;this.m01_*=c;this.m11_*=c;return this};a.translate=function(b,c){this.m02_+=b*this.m00_+c*this.m01_;this.m12_+=b*this.m10_+c*this.m11_;return this};a.rotate=function(b,c,d){return this.concatenate(goog.graphics.AffineTransform.getRotateInstance(b,c,d))};
a.shear=function(b,c){var d=this.m00_,e=this.m10_;this.m00_+=c*this.m01_;this.m10_+=c*this.m11_;this.m01_+=b*d;this.m11_+=b*e;return this};a.toString=function(){return"matrix("+[this.m00_,this.m10_,this.m01_,this.m11_,this.m02_,this.m12_].join(",")+")"};a.getScaleX=function(){return this.m00_};a.getScaleY=function(){return this.m11_};a.getTranslateX=function(){return this.m02_};a.getTranslateY=function(){return this.m12_};a.getShearX=function(){return this.m01_};a.getShearY=function(){return this.m10_};
a.concatenate=function(b){var c=this.m00_,d=this.m01_;this.m00_=b.m00_*c+b.m10_*d;this.m01_=b.m01_*c+b.m11_*d;this.m02_+=b.m02_*c+b.m12_*d;c=this.m10_;d=this.m11_;this.m10_=b.m00_*c+b.m10_*d;this.m11_=b.m01_*c+b.m11_*d;this.m12_+=b.m02_*c+b.m12_*d;return this};
a.preConcatenate=function(b){var c=this.m00_,d=this.m10_;this.m00_=b.m00_*c+b.m01_*d;this.m10_=b.m10_*c+b.m11_*d;c=this.m01_;d=this.m11_;this.m01_=b.m00_*c+b.m01_*d;this.m11_=b.m10_*c+b.m11_*d;c=this.m02_;d=this.m12_;this.m02_=b.m00_*c+b.m01_*d+b.m02_;this.m12_=b.m10_*c+b.m11_*d+b.m12_;return this};a.transform=function(b,c,d,e,f){var g=c;e=e;for(c=c+2*f;g<c;){f=b[g++];var h=b[g++];d[e++]=f*this.m00_+h*this.m01_+this.m02_;d[e++]=f*this.m10_+h*this.m11_+this.m12_}};
a.getDeterminant=function(){return this.m00_*this.m11_-this.m01_*this.m10_};a.isInvertible=function(){var b=this.getDeterminant();return goog.math.isFiniteNumber(b)&&goog.math.isFiniteNumber(this.m02_)&&goog.math.isFiniteNumber(this.m12_)&&b!=0};a.createInverse=function(){var b=this.getDeterminant();return new goog.graphics.AffineTransform(this.m11_/b,-this.m10_/b,-this.m01_/b,this.m00_/b,(this.m01_*this.m12_-this.m11_*this.m02_)/b,(this.m10_*this.m02_-this.m00_*this.m12_)/b)};
goog.graphics.AffineTransform.getScaleInstance=function(b,c){return(new goog.graphics.AffineTransform).setToScale(b,c)};goog.graphics.AffineTransform.getTranslateInstance=function(b,c){return(new goog.graphics.AffineTransform).setToTranslation(b,c)};goog.graphics.AffineTransform.getShearInstance=function(b,c){return(new goog.graphics.AffineTransform).setToShear(b,c)};goog.graphics.AffineTransform.getRotateInstance=function(b,c,d){return(new goog.graphics.AffineTransform).setToRotation(b,c,d)};a=goog.graphics.AffineTransform.prototype;
a.setToScale=function(b,c){return this.setTransform(b,0,0,c,0,0)};a.setToTranslation=function(b,c){return this.setTransform(1,0,0,1,b,c)};a.setToShear=function(b,c){return this.setTransform(1,c,b,1,0,0)};a.setToRotation=function(b,c,d){var e=Math.cos(b);b=Math.sin(b);return this.setTransform(e,b,-b,e,c-c*e+d*b,d-c*b-d*e)};a.equals=function(b){if(this==b)return true;if(!b)return false;return this.m00_==b.m00_&&this.m01_==b.m01_&&this.m02_==b.m02_&&this.m10_==b.m10_&&this.m11_==b.m11_&&this.m12_==b.m12_};jchemhub.graphics={};jchemhub.graphics.AffineTransform=function(b,c,d,e,f,g){goog.graphics.AffineTransform.call(this);arguments.length==6&&this.setTransform(b,c,d,e,f,g)};goog.inherits(jchemhub.graphics.AffineTransform,goog.graphics.AffineTransform);
jchemhub.graphics.AffineTransform.prototype.transformCoords=function(b){b=goog.array.map(b,function(e){return[e.x,e.y]});var c=goog.array.flatten(b);b=[];this.transform(c,0,b,0,c.length/2);c=[];for(var d=0;d<b.length;d+=2)c.push(new goog.math.Coordinate(b[d],b[d+1]));return c};jchemhub.view.ReactionRenderer=function(b,c,d){jchemhub.view.Renderer.call(this,b,c,d);this.scale_factor=1;this.moleculeController=new jchemhub.controller.MoleculeController(b);this.moleculeRenderer=new jchemhub.view.MoleculeRenderer(this.moleculeController,c,this.config);this.arrowRenderer=new jchemhub.view.ArrowRenderer(b,c,this.config);this.plusRenderer=new jchemhub.view.PlusRenderer(b,c,this.config)};goog.inherits(jchemhub.view.ReactionRenderer,jchemhub.view.Renderer);
jchemhub.view.ReactionRenderer.prototype.render=function(b){var c,d=this.getTransform(b),e=this.graphics.createGroup();goog.array.forEach(b.reactants,function(g){c&&this.plusRenderer.render(jchemhub.view.ReactionRenderer.center([c,g]),d,e);c=g;this.moleculeRenderer.render(g,d,e)},this);this.arrowRenderer.render(jchemhub.view.ReactionRenderer.center(goog.array.concat(b.reactants,b.products)),d,e);var f=null;goog.array.forEach(b.products,function(g){f&&this.plusRenderer.render(jchemhub.view.ReactionRenderer.center([f,
g]),d,e);f=g;this.moleculeRenderer.render(g,d,e)},this);return e};jchemhub.view.ReactionRenderer.center=function(b){b=jchemhub.view.ReactionRenderer.boundingBox(b);return new goog.math.Coordinate((b.left+b.right)/2,(b.top+b.bottom)/2)};jchemhub.view.ReactionRenderer.boundingBox=function(b){b=goog.array.flatten(goog.array.map(b,function(c){return c.atoms}));b=goog.array.map(b,function(c){return c.coord});return goog.math.Box.boundingBox.apply(null,b)};
jchemhub.view.ReactionRenderer.prototype.logger=goog.debug.Logger.getLogger("jchemhub.view.ReactionRenderer");jchemhub.view.ReactionRenderer.boundingRect=function(b){return goog.math.Rect.createFromBox(jchemhub.view.ReactionRenderer.boundingBox(b))};
jchemhub.view.ReactionRenderer.prototype.getTransform=function(b){b=goog.array.concat(b.reactants,b.products);b=jchemhub.view.ReactionRenderer.boundingRect(b);var c=this.scale_factor*b.getSize().scaleToFit(this.graphics.getSize()).width/b.getSize().width;return new jchemhub.graphics.AffineTransform(c,0,0,-c,-b.left*c,-b.top*c)};goog.dom={};
goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",
HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",TABLE:"TABLE",TBODY:"TBODY",
TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR"};goog.dom.classes={};goog.dom.classes.set=function(b,c){b.className=c};goog.dom.classes.get=function(b){return(b=b.className)&&typeof b.split=="function"?b.split(/\s+/):[]};goog.dom.classes.add=function(b){var c=goog.dom.classes.get(b),d=goog.array.slice(arguments,1);d=goog.dom.classes.add_(c,d);b.className=c.join(" ");return d};goog.dom.classes.remove=function(b){var c=goog.dom.classes.get(b),d=goog.array.slice(arguments,1);d=goog.dom.classes.remove_(c,d);b.className=c.join(" ");return d};
goog.dom.classes.add_=function(b,c){for(var d=0,e=0;e<c.length;e++)if(!goog.array.contains(b,c[e])){b.push(c[e]);d++}return d==c.length};goog.dom.classes.remove_=function(b,c){for(var d=0,e=0;e<b.length;e++)if(goog.array.contains(c,b[e])){goog.array.splice(b,e--,1);d++}return d==c.length};goog.dom.classes.swap=function(b,c,d){for(var e=goog.dom.classes.get(b),f=false,g=0;g<e.length;g++)if(e[g]==c){goog.array.splice(e,g--,1);f=true}if(f){e.push(d);b.className=e.join(" ")}return f};
goog.dom.classes.addRemove=function(b,c,d){var e=goog.dom.classes.get(b);if(goog.isString(c))goog.array.remove(e,c);else goog.isArray(c)&&goog.dom.classes.remove_(e,c);if(goog.isString(d)&&!goog.array.contains(e,d))e.push(d);else goog.isArray(d)&&goog.dom.classes.add_(e,d);b.className=e.join(" ")};goog.dom.classes.has=function(b,c){return goog.array.contains(goog.dom.classes.get(b),c)};goog.dom.classes.enable=function(b,c,d){d?goog.dom.classes.add(b,c):goog.dom.classes.remove(b,c)};
goog.dom.classes.toggle=function(b,c){var d=!goog.dom.classes.has(b,c);goog.dom.classes.enable(b,c,d);return d};goog.dom.ASSUME_QUIRKS_MODE=false;goog.dom.ASSUME_STANDARDS_MODE=false;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.dom.getDomHelper=function(b){return b?new goog.dom.DomHelper(goog.dom.getOwnerDocument(b)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};
goog.dom.getDocument=function(){return document};goog.dom.getElement=function(b){return goog.isString(b)?document.getElementById(b):b};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(b,c,d){return goog.dom.getElementsByTagNameAndClass_(document,b,c,d)};
goog.dom.getElementsByTagNameAndClass_=function(b,c,d,e){e=e||b;c=c&&c!="*"?c.toUpperCase():"";if(e.querySelectorAll&&(c||d)&&(!goog.userAgent.WEBKIT||goog.dom.isCss1CompatMode_(b)||goog.userAgent.isVersion("528")))return e.querySelectorAll(c+(d?"."+d:""));if(d&&e.getElementsByClassName){b=e.getElementsByClassName(d);if(c){e={};for(var f=0,g=0,h;h=b[g];g++)if(c==h.nodeName)e[f++]=h;e.length=f;return e}else return b}b=e.getElementsByTagName(c||"*");if(d){e={};for(g=f=0;h=b[g];g++){c=h.className;if(typeof c.split==
"function"&&goog.array.contains(c.split(/\s+/),d))e[f++]=h}e.length=f;return e}else return b};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(b,c){goog.object.forEach(c,function(d,e){if(e=="style")b.style.cssText=d;else if(e=="class")b.className=d;else if(e=="for")b.htmlFor=d;else if(e in goog.dom.DIRECT_ATTRIBUTE_MAP_)b.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[e],d);else b[e]=d})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};goog.dom.getViewportSize=function(b){return goog.dom.getViewportSize_(b||window)};
goog.dom.getViewportSize_=function(b){var c=b.document;if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("500")&&!goog.userAgent.MOBILE){if(typeof b.innerHeight=="undefined")b=window;c=b.innerHeight;var d=b.document.documentElement.scrollHeight;if(b==b.top)if(d<c)c-=15;return new goog.math.Size(b.innerWidth,c)}b=goog.dom.isCss1CompatMode_(c)&&(!goog.userAgent.OPERA||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.50"))?c.documentElement:c.body;return new goog.math.Size(b.clientWidth,b.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeight_=function(b){var c=b.document,d=0;if(c){b=goog.dom.getViewportSize_(b).height;d=c.body;var e=c.documentElement;if(goog.dom.isCss1CompatMode_(c)&&e.scrollHeight)d=e.scrollHeight!=b?e.scrollHeight:e.offsetHeight;else{c=e.scrollHeight;var f=e.offsetHeight;if(e.clientHeight!=f){c=d.scrollHeight;f=d.offsetHeight}d=c>b?c>f?c:f:c<f?c:f}}return d};
goog.dom.getPageScroll=function(b){return goog.dom.getDomHelper((b||goog.global||window).document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(b){b=goog.dom.getDocumentScrollElement_(b);return new goog.math.Coordinate(b.scrollLeft,b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(b){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(b)?b.documentElement:b.body};goog.dom.getWindow=function(b){return b?goog.dom.getWindow_(b):window};goog.dom.getWindow_=function(b){return b.parentWindow||b.defaultView};goog.dom.createDom=function(){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(b,c){var d=c[0],e=c[1];if(goog.userAgent.IE&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',goog.string.htmlEscape(e.name),'"');if(e.type){d.push(' type="',goog.string.htmlEscape(e.type),'"');e=goog.cloneObject(e);delete e.type}d.push(">");d=d.join("")}var f=b.createElement(d);if(e)if(goog.isString(e))f.className=e;else goog.dom.setProperties(f,e);if(c.length>2){e=function(h){if(h)f.appendChild(goog.isString(h)?b.createTextNode(h):h)};for(d=2;d<c.length;d++){var g=
c[d];goog.isArrayLike(g)&&!goog.dom.isNodeLike(g)?goog.array.forEach(goog.dom.isNodeList(g)?goog.array.clone(g):g,e):e(g)}}return f};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(b){return document.createElement(b)};goog.dom.createTextNode=function(b){return document.createTextNode(b)};goog.dom.createTable=function(b,c,d){return goog.dom.createTable_(document,b,c,!!d)};
goog.dom.createTable_=function(b,c,d,e){for(var f=["<tr>"],g=0;g<d;g++)f.push(e?"<td>&nbsp;</td>":"<td></td>");f.push("</tr>");f=f.join("");d=["<table>"];for(g=0;g<c;g++)d.push(f);d.push("</table>");b=b.createElement(goog.dom.TagName.DIV);b.innerHTML=d.join("");return b.removeChild(b.firstChild)};goog.dom.htmlToDocumentFragment=function(b){return goog.dom.htmlToDocumentFragment_(document,b)};
goog.dom.htmlToDocumentFragment_=function(b,c){var d=b.createElement("div");d.innerHTML=c;if(d.childNodes.length==1)return d.removeChild(d.firstChild);else{for(b=b.createDocumentFragment();d.firstChild;)b.appendChild(d.firstChild);return b}};goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};
goog.dom.isCss1CompatMode_=function(b){if(goog.dom.COMPAT_MODE_KNOWN_)return goog.dom.ASSUME_STANDARDS_MODE;return b.compatMode=="CSS1Compat"};goog.dom.canHaveChildren=function(b){if(b.nodeType!=goog.dom.NodeType.ELEMENT)return false;if("canHaveChildren"in b)return b.canHaveChildren;switch(b.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return false}return true};
goog.dom.appendChild=function(b,c){b.appendChild(c)};goog.dom.removeChildren=function(b){for(var c;c=b.firstChild;)b.removeChild(c)};goog.dom.insertSiblingBefore=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)};goog.dom.insertSiblingAfter=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)};goog.dom.removeNode=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):null};goog.dom.replaceNode=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)};
goog.dom.flattenElement=function(b){var c,d=b.parentNode;if(d&&d.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT)if(b.removeNode)return b.removeNode(false);else{for(;c=b.firstChild;)d.insertBefore(c,b);return goog.dom.removeNode(b)}};goog.dom.getFirstElementChild=function(b){return goog.dom.getNextElementNode_(b.firstChild,true)};goog.dom.getLastElementChild=function(b){return goog.dom.getNextElementNode_(b.lastChild,false)};
goog.dom.getNextElementSibling=function(b){return goog.dom.getNextElementNode_(b.nextSibling,true)};goog.dom.getPreviousElementSibling=function(b){return goog.dom.getNextElementNode_(b.previousSibling,false)};goog.dom.getNextElementNode_=function(b,c){for(;b&&b.nodeType!=goog.dom.NodeType.ELEMENT;)b=c?b.nextSibling:b.previousSibling;return b};goog.dom.getNextNode=function(b){if(!b)return null;if(b.firstChild)return b.firstChild;for(;b&&!b.nextSibling;)b=b.parentNode;return b?b.nextSibling:null};
goog.dom.getPreviousNode=function(b){if(!b)return null;if(!b.previousSibling)return b.parentNode;for(b=b.previousSibling;b&&b.lastChild;)b=b.lastChild;return b};goog.dom.isNodeLike=function(b){return goog.isObject(b)&&b.nodeType>0};goog.dom.contains=function(b,c){if(b.contains&&c.nodeType==goog.dom.NodeType.ELEMENT)return b==c||b.contains(c);if(typeof b.compareDocumentPosition!="undefined")return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b};
goog.dom.compareNodeOrder=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=b.nodeType==goog.dom.NodeType.ELEMENT,e=c.nodeType==goog.dom.NodeType.ELEMENT;if(d&&e)return b.sourceIndex-c.sourceIndex;else{var f=b.parentNode,g=c.parentNode;if(f==g)return goog.dom.compareSiblingOrder_(b,c);if(!d&&goog.dom.contains(f,c))return-1*goog.dom.compareParentsDescendantNodeIe_(b,c);if(!e&&
goog.dom.contains(g,b))return goog.dom.compareParentsDescendantNodeIe_(c,b);return(d?b.sourceIndex:f.sourceIndex)-(e?c.sourceIndex:g.sourceIndex)}}e=goog.dom.getOwnerDocument(b);d=e.createRange();d.selectNode(b);d.collapse(true);b=e.createRange();b.selectNode(c);b.collapse(true);return d.compareBoundaryPoints(goog.global.Range.START_TO_END,b)};
goog.dom.compareParentsDescendantNodeIe_=function(b,c){var d=b.parentNode;if(d==c)return-1;for(c=c;c.parentNode!=d;)c=c.parentNode;return goog.dom.compareSiblingOrder_(c,b)};goog.dom.compareSiblingOrder_=function(b,c){for(c=c;c=c.previousSibling;)if(c==b)return-1;return 1};
goog.dom.findCommonAncestor=function(){var b,c=arguments.length;if(c){if(c==1)return arguments[0]}else return null;var d=[],e=Infinity;for(b=0;b<c;b++){for(var f=[],g=arguments[b];g;){f.unshift(g);g=g.parentNode}d.push(f);e=Math.min(e,f.length)}f=null;for(b=0;b<e;b++){g=d[0][b];for(var h=1;h<c;h++)if(g!=d[h][b])return f;f=g}return f};goog.dom.getOwnerDocument=function(b){return b.nodeType==goog.dom.NodeType.DOCUMENT?b:b.ownerDocument||b.document};
goog.dom.getFrameContentDocument=function(b){return goog.userAgent.WEBKIT?b.document||b.contentWindow.document:b.contentDocument||b.contentWindow.document};goog.dom.getFrameContentWindow=function(b){return b.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(b))};
goog.dom.setTextContent=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&b.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=c}else{goog.dom.removeChildren(b);var d=goog.dom.getOwnerDocument(b);b.appendChild(d.createTextNode(c))}};goog.dom.getOuterHtml=function(b){if("outerHTML"in b)return b.outerHTML;else{var c=goog.dom.getOwnerDocument(b).createElement("div");c.appendChild(b.cloneNode(true));return c.innerHTML}};
goog.dom.findNode=function(b,c){var d=[];return goog.dom.findNodes_(b,c,d,true)?d[0]:undefined};goog.dom.findNodes=function(b,c){var d=[];goog.dom.findNodes_(b,c,d,false);return d};goog.dom.findNodes_=function(b,c,d,e){if(b!=null)for(var f=0,g;g=b.childNodes[f];f++){if(c(g)){d.push(g);if(e)return true}if(goog.dom.findNodes_(g,c,d,e))return true}return false};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};
goog.dom.isFocusableTabIndex=function(b){var c=b.getAttributeNode("tabindex");if(c&&c.specified){b=b.tabIndex;return goog.isNumber(b)&&b>=0}return false};goog.dom.setFocusableTabIndex=function(b,c){if(c)b.tabIndex=0;else b.removeAttribute("tabIndex")};
goog.dom.getTextContent=function(b){if(goog.userAgent.IE&&"innerText"in b)b=goog.string.canonicalizeNewlines(b.innerText);else{var c=[];goog.dom.getTextContent_(b,c,true);b=c.join("")}b=b.replace(/\xAD/g,"");b=b.replace(/ +/g," ");if(b!=" ")b=b.replace(/^\s*/,"");return b};goog.dom.getRawTextContent=function(b){var c=[];goog.dom.getTextContent_(b,c,false);return c.join("")};
goog.dom.getTextContent_=function(b,c,d){if(!(b.nodeName in goog.dom.TAGS_TO_IGNORE_))if(b.nodeType==goog.dom.NodeType.TEXT)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)c.push(goog.dom.PREDEFINED_TAG_VALUES_[b.nodeName]);else for(b=b.firstChild;b;){goog.dom.getTextContent_(b,c,d);b=b.nextSibling}};goog.dom.getNodeTextLength=function(b){return goog.dom.getTextContent(b).length};
goog.dom.getNodeTextOffset=function(b,c){c=c||goog.dom.getOwnerDocument(b).body;for(var d=[];b&&b!=c;){for(var e=b;e=e.previousSibling;)d.unshift(goog.dom.getTextContent(e));b=b.parentNode}return goog.string.trimLeft(d.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(b,c,d){b=[b];for(var e=0,f;b.length>0&&e<c;){f=b.pop();if(!(f.nodeName in goog.dom.TAGS_TO_IGNORE_))if(f.nodeType==goog.dom.NodeType.TEXT){var g=f.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");e+=g.length}else if(f.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)e+=goog.dom.PREDEFINED_TAG_VALUES_[f.nodeName].length;else for(g=f.childNodes.length-1;g>=0;g--)b.push(f.childNodes[g])}if(goog.isObject(d)){d.remainder=f?f.nodeValue.length+c-e-1:0;d.node=f}return f};
goog.dom.isNodeList=function(b){if(b&&typeof b.length=="number")if(goog.isObject(b))return typeof b.item=="function"||typeof b.item=="string";else if(goog.isFunction(b))return typeof b.item=="function";return false};goog.dom.getAncestorByTagNameAndClass=function(b,c,d){var e=c?c.toUpperCase():null;return goog.dom.getAncestor(b,function(f){return(!e||f.nodeName==e)&&(!d||goog.dom.classes.has(f,d))},true)};
goog.dom.getAncestor=function(b,c,d,e){if(!d)b=b.parentNode;d=e==null;for(var f=0;b&&(d||f<=e);){if(c(b))return b;b=b.parentNode;f++}return null};goog.dom.DomHelper=function(b){this.document_=b||goog.global.document||document};a=goog.dom.DomHelper.prototype;a.getDomHelper=goog.dom.getDomHelper;a.setDocument=function(b){this.document_=b};a.getDocument=function(){return this.document_};a.getElement=function(b){return goog.isString(b)?this.document_.getElementById(b):b};a.$=goog.dom.DomHelper.prototype.getElement;
a.getElementsByTagNameAndClass=function(b,c,d){return goog.dom.getElementsByTagNameAndClass_(this.document_,b,c,d)};a.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;a.setProperties=goog.dom.setProperties;a.getViewportSize=function(b){return goog.dom.getViewportSize(b||this.getWindow())};a.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};a.createDom=function(){return goog.dom.createDom_(this.document_,arguments)};a.$dom=goog.dom.DomHelper.prototype.createDom;
a.createElement=function(b){return this.document_.createElement(b)};a.createTextNode=function(b){return this.document_.createTextNode(b)};a.createTable=function(b,c,d){return goog.dom.createTable_(this.document_,b,c,!!d)};a.htmlToDocumentFragment=function(b){return goog.dom.htmlToDocumentFragment_(this.document_,b)};a.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"};a.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};a.getWindow=function(){return goog.dom.getWindow_(this.document_)};
a.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};a.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};a.appendChild=goog.dom.appendChild;a.removeChildren=goog.dom.removeChildren;a.insertSiblingBefore=goog.dom.insertSiblingBefore;a.insertSiblingAfter=goog.dom.insertSiblingAfter;a.removeNode=goog.dom.removeNode;a.replaceNode=goog.dom.replaceNode;a.flattenElement=goog.dom.flattenElement;a.getFirstElementChild=goog.dom.getFirstElementChild;
a.getLastElementChild=goog.dom.getLastElementChild;a.getNextElementSibling=goog.dom.getNextElementSibling;a.getPreviousElementSibling=goog.dom.getPreviousElementSibling;a.getNextNode=goog.dom.getNextNode;a.getPreviousNode=goog.dom.getPreviousNode;a.isNodeLike=goog.dom.isNodeLike;a.contains=goog.dom.contains;a.getOwnerDocument=goog.dom.getOwnerDocument;a.getFrameContentDocument=goog.dom.getFrameContentDocument;a.getFrameContentWindow=goog.dom.getFrameContentWindow;a.setTextContent=goog.dom.setTextContent;
a.findNode=goog.dom.findNode;a.findNodes=goog.dom.findNodes;a.getTextContent=goog.dom.getTextContent;a.getNodeTextLength=goog.dom.getNodeTextLength;a.getNodeTextOffset=goog.dom.getNodeTextOffset;a.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;a.getAncestor=goog.dom.getAncestor;goog.graphics.Path=function(){this.segments_=[];this.count_=[];this.arguments_=[]};goog.graphics.Path.prototype.closePoint_=null;goog.graphics.Path.prototype.currentPoint_=null;goog.graphics.Path.prototype.simple_=true;goog.graphics.Path.Segment={MOVETO:0,LINETO:1,CURVETO:2,ARCTO:3,CLOSE:4};
goog.graphics.Path.segmentArgCounts_=function(){var b=[];b[goog.graphics.Path.Segment.MOVETO]=2;b[goog.graphics.Path.Segment.LINETO]=2;b[goog.graphics.Path.Segment.CURVETO]=6;b[goog.graphics.Path.Segment.ARCTO]=6;b[goog.graphics.Path.Segment.CLOSE]=0;return b}();goog.graphics.Path.getSegmentCount=function(b){return goog.graphics.Path.segmentArgCounts_[b]};a=goog.graphics.Path.prototype;
a.appendPath=function(b){if(b.currentPoint_){Array.prototype.push.apply(this.segments_,b.segments_);Array.prototype.push.apply(this.count_,b.count_);Array.prototype.push.apply(this.arguments_,b.arguments_);this.currentPoint_=b.currentPoint_.concat();this.closePoint_=b.closePoint_.concat();this.simple_=this.simple_&&b.simple_}return this};a.clear=function(){this.segments_.length=0;this.count_.length=0;this.arguments_.length=0;delete this.closePoint_;delete this.currentPoint_;delete this.simple_;return this};
a.moveTo=function(b,c){if(goog.array.peek(this.segments_)==goog.graphics.Path.Segment.MOVETO)this.arguments_.length-=2;else{this.segments_.push(goog.graphics.Path.Segment.MOVETO);this.count_.push(1)}this.arguments_.push(b,c);this.currentPoint_=this.closePoint_=[b,c];return this};
a.lineTo=function(){var b=goog.array.peek(this.segments_);if(b==null)throw Error("Path cannot start with lineTo");if(b!=goog.graphics.Path.Segment.LINETO){this.segments_.push(goog.graphics.Path.Segment.LINETO);this.count_.push(0)}for(b=0;b<arguments.length;b+=2){var c=arguments[b],d=arguments[b+1];this.arguments_.push(c,d)}this.count_[this.count_.length-1]+=b/2;this.currentPoint_=[c,d];return this};
a.curveTo=function(){var b=goog.array.peek(this.segments_);if(b==null)throw Error("Path cannot start with curve");if(b!=goog.graphics.Path.Segment.CURVETO){this.segments_.push(goog.graphics.Path.Segment.CURVETO);this.count_.push(0)}for(b=0;b<arguments.length;b+=6){var c=arguments[b+4],d=arguments[b+5];this.arguments_.push(arguments[b],arguments[b+1],arguments[b+2],arguments[b+3],c,d)}this.count_[this.count_.length-1]+=b/6;this.currentPoint_=[c,d];return this};
a.close=function(){var b=goog.array.peek(this.segments_);if(b==null)throw Error("Path cannot start with close");if(b!=goog.graphics.Path.Segment.CLOSE){this.segments_.push(goog.graphics.Path.Segment.CLOSE);this.count_.push(1);this.currentPoint_=this.closePoint_}return this};
a.arc=function(b,c,d,e,f,g,h){b=b+goog.math.angleDx(f,d);c=c+goog.math.angleDy(f,e);if(h){if(!this.currentPoint_||b!=this.currentPoint_[0]||c!=this.currentPoint_[1])this.lineTo(b,c)}else this.moveTo(b,c);return this.arcTo(d,e,f,g)};
a.arcTo=function(b,c,d,e){var f=this.currentPoint_[0]-goog.math.angleDx(d,b),g=this.currentPoint_[1]-goog.math.angleDy(d,c);f=f+goog.math.angleDx(d+e,b);g=g+goog.math.angleDy(d+e,c);this.segments_.push(goog.graphics.Path.Segment.ARCTO);this.count_.push(1);this.arguments_.push(b,c,d,e,f,g);this.simple_=false;this.currentPoint_=[f,g];return this};
a.arcToAsCurves=function(b,c,d,e){var f=this.currentPoint_[0]-goog.math.angleDx(d,b),g=this.currentPoint_[1]-goog.math.angleDy(d,c),h=goog.math.toRadians(e);e=Math.ceil(Math.abs(h)/Math.PI*2);h=h/e;d=goog.math.toRadians(d);for(var i=0;i<e;i++){var j=Math.cos(d),k=Math.sin(d),l=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),m=f+(j-l*k)*b,n=g+(k+l*j)*c;d+=h;j=Math.cos(d);k=Math.sin(d);this.curveTo(m,n,f+(j+l*k)*b,g+(k-l*j)*c,f+j*b,g+k*c)}return this};
a.forEachSegment=function(b){for(var c=this.arguments_,d=0,e=0,f=this.segments_.length;e<f;e++){var g=this.segments_[e],h=goog.graphics.Path.segmentArgCounts_[g]*this.count_[e];b(g,c.slice(d,d+h));d+=h}};a.getCurrentPoint=function(){return this.currentPoint_&&this.currentPoint_.concat()};
a.clone=function(){var b=new this.constructor;b.segments_=this.segments_.concat();b.count_=this.count_.concat();b.arguments_=this.arguments_.concat();b.closePoint_=this.closePoint_&&this.closePoint_.concat();b.currentPoint_=this.currentPoint_&&this.currentPoint_.concat();b.simple_=this.simple_;return b};a.isSimple=function(){return this.simple_};
goog.graphics.Path.simplifySegmentMap_=function(){var b={};b[goog.graphics.Path.Segment.MOVETO]=goog.graphics.Path.prototype.moveTo;b[goog.graphics.Path.Segment.LINETO]=goog.graphics.Path.prototype.lineTo;b[goog.graphics.Path.Segment.CLOSE]=goog.graphics.Path.prototype.close;b[goog.graphics.Path.Segment.CURVETO]=goog.graphics.Path.prototype.curveTo;b[goog.graphics.Path.Segment.ARCTO]=goog.graphics.Path.prototype.arcToAsCurves;return b}();
goog.graphics.Path.createSimplifiedPath=function(b){if(b.isSimple())return b.clone();var c=new goog.graphics.Path;b.forEachSegment(function(d,e){goog.graphics.Path.simplifySegmentMap_[d].apply(c,e)});return c};goog.graphics.Path.prototype.createTransformedPath=function(b){var c=goog.graphics.Path.createSimplifiedPath(this);c.transform(b);return c};
goog.graphics.Path.prototype.transform=function(b){if(!this.isSimple())throw Error("Non-simple path");b.transform(this.arguments_,0,this.arguments_,0,this.arguments_.length/2);this.closePoint_&&b.transform(this.closePoint_,0,this.closePoint_,0,1);this.currentPoint_&&this.closePoint_!=this.currentPoint_&&b.transform(this.currentPoint_,0,this.currentPoint_,0,1);return this};goog.graphics.Path.prototype.isEmpty=function(){return this.segments_.length==0};goog.style={};goog.style.setStyle=function(b,c,d){goog.isString(c)?goog.style.setStyle_(b,d,c):goog.object.forEach(c,goog.partial(goog.style.setStyle_,b))};goog.style.setStyle_=function(b,c,d){b.style[goog.style.toCamelCase(d)]=c};goog.style.getStyle=function(b,c){return b.style[goog.style.toCamelCase(c)]};goog.style.getComputedStyle=function(b,c){var d=goog.dom.getOwnerDocument(b);if(d.defaultView&&d.defaultView.getComputedStyle)if(b=d.defaultView.getComputedStyle(b,""))return b[c];return null};
goog.style.getCascadedStyle=function(b,c){return b.currentStyle?b.currentStyle[c]:null};goog.style.getStyle_=function(b,c){return goog.style.getComputedStyle(b,c)||goog.style.getCascadedStyle(b,c)||b.style[c]};goog.style.getComputedPosition=function(b){return goog.style.getStyle_(b,"position")};goog.style.getBackgroundColor=function(b){return goog.style.getStyle_(b,"backgroundColor")};goog.style.getComputedOverflowX=function(b){return goog.style.getStyle_(b,"overflowX")};
goog.style.getComputedOverflowY=function(b){return goog.style.getStyle_(b,"overflowY")};goog.style.getComputedZIndex=function(b){return goog.style.getStyle_(b,"zIndex")};goog.style.getComputedTextAlign=function(b){return goog.style.getStyle_(b,"textAlign")};goog.style.getComputedCursor=function(b){return goog.style.getStyle_(b,"cursor")};
goog.style.setPosition=function(b,c,d){var e,f=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");if(c instanceof goog.math.Coordinate){e=c.x;c=c.y}else{e=c;c=d}b.style.left=typeof e=="number"?(f?Math.round(e):e)+"px":e;b.style.top=typeof c=="number"?(f?Math.round(c):c)+"px":c};goog.style.getPosition=function(b){return new goog.math.Coordinate(b.offsetLeft,b.offsetTop)};
goog.style.getClientViewportElement=function(b){b=b?b.nodeType==goog.dom.NodeType.DOCUMENT?b:goog.dom.getOwnerDocument(b):goog.dom.getDocument();if(goog.userAgent.IE&&!goog.dom.getDomHelper(b).isCss1CompatMode())return b.body;return b.documentElement};goog.style.getBoundingClientRect_=function(b){var c=b.getBoundingClientRect();if(goog.userAgent.IE){b=b.ownerDocument;c.left-=b.documentElement.clientLeft+b.body.clientLeft;c.top-=b.documentElement.clientTop+b.body.clientTop}return c};
goog.style.getOffsetParent=function(b){if(goog.userAgent.IE)return b.offsetParent;var c=goog.dom.getOwnerDocument(b),d=goog.style.getStyle_(b,"position"),e=d=="fixed"||d=="absolute";for(b=b.parentNode;b&&b!=c;b=b.parentNode){d=goog.style.getStyle_(b,"position");e=e&&d=="static"&&b!=c.documentElement&&b!=c.body;if(!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||d=="fixed"||d=="absolute"))return b}return null};
goog.style.getVisibleRectForElement=function(b){var c=new goog.math.Box(0,Infinity,Infinity,0),d=goog.dom.getDomHelper(b),e=d.getDocument().body,f=d.getDocumentScrollElement(),g;for(b=b;b=goog.style.getOffsetParent(b);)if((!goog.userAgent.IE||b.clientWidth!=0)&&(!goog.userAgent.WEBKIT||b.clientHeight!=0||b!=e)&&(b.scrollWidth!=b.clientWidth||b.scrollHeight!=b.clientHeight)&&goog.style.getStyle_(b,"overflow")!="visible"){var h=goog.style.getPageOffset(b),i=goog.style.getClientLeftTop(b);h.x+=i.x;h.y+=
i.y;c.top=Math.max(c.top,h.y);c.right=Math.min(c.right,h.x+b.clientWidth);c.bottom=Math.min(c.bottom,h.y+b.clientHeight);c.left=Math.max(c.left,h.x);g=g||b!=f}e=f.scrollLeft;f=f.scrollTop;if(goog.userAgent.WEBKIT){c.left+=e;c.top+=f}else{c.left=Math.max(c.left,e);c.top=Math.max(c.top,f)}if(!g||goog.userAgent.WEBKIT){c.right+=e;c.bottom+=f}d=d.getViewportSize();c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,f+d.height);return c.top>=0&&c.left>=0&&c.bottom>c.top&&c.right>c.left?c:null};
goog.style.scrollIntoContainerView=function(b,c,d){var e=goog.style.getPageOffset(b),f=goog.style.getPageOffset(c),g=goog.style.getBorderBox(c),h=e.x-f.x-g.left;e=e.y-f.y-g.top;f=c.clientWidth-b.offsetWidth;b=c.clientHeight-b.offsetHeight;if(d){c.scrollLeft+=h-f/2;c.scrollTop+=e-b/2}else{c.scrollLeft+=Math.min(h,Math.max(h-f,0));c.scrollTop+=Math.min(e,Math.max(e-b,0))}};
goog.style.getClientLeftTop=function(b){if(goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9")){var c=parseFloat(goog.style.getComputedStyle(b,"borderLeftWidth"));if(goog.style.isRightToLeft(b)){var d=b.offsetWidth-b.clientWidth-c-parseFloat(goog.style.getComputedStyle(b,"borderRightWidth"));c+=d}return new goog.math.Coordinate(c,parseFloat(goog.style.getComputedStyle(b,"borderTopWidth")))}return new goog.math.Coordinate(b.clientLeft,b.clientTop)};
goog.style.getPageOffset=function(b){var c,d=goog.dom.getOwnerDocument(b),e=goog.style.getStyle_(b,"position"),f=goog.userAgent.GECKO&&d.getBoxObjectFor&&!b.getBoundingClientRect&&e=="absolute"&&(c=d.getBoxObjectFor(b))&&(c.screenX<0||c.screenY<0),g=new goog.math.Coordinate(0,0),h=goog.style.getClientViewportElement(d);if(b==h)return g;if(b.getBoundingClientRect){c=goog.style.getBoundingClientRect_(b);b=goog.dom.getDomHelper(d).getDocumentScroll();g.x=c.left+b.x;g.y=c.top+b.y}else if(d.getBoxObjectFor&&
!f){c=d.getBoxObjectFor(b);b=d.getBoxObjectFor(h);g.x=c.screenX-b.screenX;g.y=c.screenY-b.screenY}else{c=b;do{g.x+=c.offsetLeft;g.y+=c.offsetTop;if(c!=b){g.x+=c.clientLeft||0;g.y+=c.clientTop||0}if(goog.userAgent.WEBKIT&&goog.style.getComputedPosition(c)=="fixed"){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(goog.userAgent.OPERA||goog.userAgent.WEBKIT&&e=="absolute")g.y-=d.body.offsetTop;for(c=b;(c=goog.style.getOffsetParent(c))&&c!=d.body&&c!=h;){g.x-=c.scrollLeft;
if(!goog.userAgent.OPERA||c.tagName!="TR")g.y-=c.scrollTop}}return g};goog.style.getPageOffsetLeft=function(b){return goog.style.getPageOffset(b).x};goog.style.getPageOffsetTop=function(b){return goog.style.getPageOffset(b).y};
goog.style.getFramedPageOffset=function(b,c){var d=new goog.math.Coordinate(0,0),e=goog.dom.getWindow(goog.dom.getOwnerDocument(b));b=b;do{var f=e==c?goog.style.getPageOffset(b):goog.style.getClientPosition(b);d.x+=f.x;d.y+=f.y}while(e&&e!=c&&(b=e.frameElement)&&(e=e.parent));return d};
goog.style.translateRectForAnotherFrame=function(b,c,d){if(c.getDocument()!=d.getDocument()){var e=c.getDocument().body;d=goog.style.getFramedPageOffset(e,d.getWindow());d=goog.math.Coordinate.difference(d,goog.style.getPageOffset(e));if(goog.userAgent.IE&&!c.isCss1CompatMode())d=goog.math.Coordinate.difference(d,c.getDocumentScroll());b.left+=d.x;b.top+=d.y}};
goog.style.getRelativePosition=function(b,c){b=goog.style.getClientPosition(b);c=goog.style.getClientPosition(c);return new goog.math.Coordinate(b.x-c.x,b.y-c.y)};goog.style.getClientPosition=function(b){var c=new goog.math.Coordinate;if(b.nodeType==goog.dom.NodeType.ELEMENT)if(b.getBoundingClientRect){var d=goog.style.getBoundingClientRect_(b);c.x=d.left;c.y=d.top}else{d=goog.dom.getDomHelper(b).getDocumentScroll();b=goog.style.getPageOffset(b);c.x=b.x-d.x;c.y=b.y-d.y}else{c.x=b.clientX;c.y=b.clientY}return c};
goog.style.setPageOffset=function(b,c,d){var e=goog.style.getPageOffset(b);if(c instanceof goog.math.Coordinate){d=c.y;c=c.x}goog.style.setPosition(b,b.offsetLeft+(c-e.x),b.offsetTop+(d-e.y))};goog.style.setSize=function(b,c,d){if(c instanceof goog.math.Size){d=c.height;c=c.width}else{if(d==undefined)throw Error("missing height argument");d=d}b.style.width=typeof c=="number"?Math.round(c)+"px":c;b.style.height=typeof d=="number"?Math.round(d)+"px":d};
goog.style.getSize=function(b){var c=goog.userAgent.OPERA&&!goog.userAgent.isVersion("10");if(goog.style.getStyle_(b,"display")!="none")return c?new goog.math.Size(b.offsetWidth||b.clientWidth,b.offsetHeight||b.clientHeight):new goog.math.Size(b.offsetWidth,b.offsetHeight);var d=b.style,e=d.display,f=d.visibility,g=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";if(c){c=b.offsetWidth||b.clientWidth;b=b.offsetHeight||b.clientHeight}else{c=b.offsetWidth;b=b.offsetHeight}d.display=
e;d.position=g;d.visibility=f;return new goog.math.Size(c,b)};goog.style.getBounds=function(b){var c=goog.style.getPageOffset(b);b=goog.style.getSize(b);return new goog.math.Rect(c.x,c.y,b.width,b.height)};goog.style.toCamelCaseCache_={};goog.style.toCamelCase=function(b){return goog.style.toCamelCaseCache_[b]||(goog.style.toCamelCaseCache_[b]=String(b).replace(/\-([a-z])/g,function(c,d){return d.toUpperCase()}))};goog.style.toSelectorCaseCache_={};
goog.style.toSelectorCase=function(b){return goog.style.toSelectorCaseCache_[b]||(goog.style.toSelectorCaseCache_[b]=b.replace(/([A-Z])/g,"-$1").toLowerCase())};goog.style.getOpacity=function(b){var c=b.style;b="";if("opacity"in c)b=c.opacity;else if("MozOpacity"in c)b=c.MozOpacity;else if("filter"in c)if(c=c.filter.match(/alpha\(opacity=([\d.]+)\)/))b=String(c[1]/100);return b==""?b:Number(b)};
goog.style.setOpacity=function(b,c){b=b.style;if("opacity"in b)b.opacity=c;else if("MozOpacity"in b)b.MozOpacity=c;else if("filter"in b)b.filter=c===""?"":"alpha(opacity="+c*100+")"};goog.style.setTransparentBackgroundImage=function(b,c){b=b.style;if(goog.userAgent.IE&&!goog.userAgent.isVersion("8"))b.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+c+'", sizingMethod="crop")';else{b.backgroundImage="url("+c+")";b.backgroundPosition="top left";b.backgroundRepeat="no-repeat"}};
goog.style.clearTransparentBackgroundImage=function(b){b=b.style;if("filter"in b)b.filter="";else b.backgroundImage="none"};goog.style.showElement=function(b,c){b.style.display=c?"":"none"};goog.style.isElementShown=function(b){return b.style.display!="none"};
goog.style.installStyles=function(b,c){c=goog.dom.getDomHelper(c);var d=null;if(goog.userAgent.IE){d=c.getDocument().createStyleSheet();goog.style.setStyles(d,b)}else{var e=c.getElementsByTagNameAndClass("head")[0];if(!e){d=c.getElementsByTagNameAndClass("body")[0];e=c.createDom("head");d.parentNode.insertBefore(e,d)}d=c.createDom("style");goog.style.setStyles(d,b);c.appendChild(e,d)}return d};goog.style.uninstallStyles=function(b){goog.dom.removeNode(b.ownerNode||b.owningElement||b)};
goog.style.setStyles=function(b,c){if(goog.userAgent.IE)b.cssText=c;else b[goog.userAgent.WEBKIT?"innerText":"innerHTML"]=c};goog.style.setPreWrap=function(b){b=b.style;if(goog.userAgent.IE&&!goog.userAgent.isVersion("8")){b.whiteSpace="pre";b.wordWrap="break-word"}else b.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":goog.userAgent.OPERA?"-o-pre-wrap":"pre-wrap"};
goog.style.setInlineBlock=function(b){b=b.style;b.position="relative";if(goog.userAgent.IE&&!goog.userAgent.isVersion("8")){b.zoom="1";b.display="inline"}else b.display=goog.userAgent.GECKO?goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box":"inline-block"};goog.style.isRightToLeft=function(b){return"rtl"==goog.style.getStyle_(b,"direction")};goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null;
goog.style.isUnselectable=function(b){if(goog.style.unselectableStyle_)return b.style[goog.style.unselectableStyle_].toLowerCase()=="none";else if(goog.userAgent.IE||goog.userAgent.OPERA)return b.getAttribute("unselectable")=="on";return false};
goog.style.setUnselectable=function(b,c,d){d=!d?b.getElementsByTagName("*"):null;var e=goog.style.unselectableStyle_;if(e){c=c?"none":"";b.style[e]=c;if(d){b=0;for(var f;f=d[b];b++)f.style[e]=c}}else if(goog.userAgent.IE||goog.userAgent.OPERA){c=c?"on":"";b.setAttribute("unselectable",c);if(d)for(b=0;f=d[b];b++)f.setAttribute("unselectable",c)}};goog.style.getBorderBoxSize=function(b){return new goog.math.Size(b.offsetWidth,b.offsetHeight)};
goog.style.setBorderBoxSize=function(b,c){var d=goog.dom.getOwnerDocument(b),e=goog.dom.getDomHelper(d).isCss1CompatMode();if(goog.userAgent.IE&&(!e||!goog.userAgent.isVersion("8"))){d=b.style;if(e){e=goog.style.getPaddingBox(b);b=goog.style.getBorderBox(b);d.pixelWidth=c.width-b.left-e.left-e.right-b.right;d.pixelHeight=c.height-b.top-e.top-e.bottom-b.bottom}else{d.pixelWidth=c.width;d.pixelHeight=c.height}}else goog.style.setBoxSizingSize_(b,c,"border-box")};
goog.style.getContentBoxSize=function(b){var c=goog.dom.getOwnerDocument(b),d=goog.userAgent.IE&&b.currentStyle;if(d&&goog.dom.getDomHelper(c).isCss1CompatMode()&&d.width!="auto"&&d.height!="auto"&&!d.boxSizing){c=goog.style.getIePixelValue_(b,d.width,"width","pixelWidth");b=goog.style.getIePixelValue_(b,d.height,"height","pixelHeight");return new goog.math.Size(c,b)}else{d=goog.style.getBorderBoxSize(b);c=goog.style.getPaddingBox(b);b=goog.style.getBorderBox(b);return new goog.math.Size(d.width-
b.left-c.left-c.right-b.right,d.height-b.top-c.top-c.bottom-b.bottom)}};
goog.style.setContentBoxSize=function(b,c){var d=goog.dom.getOwnerDocument(b),e=goog.dom.getDomHelper(d).isCss1CompatMode();if(goog.userAgent.IE&&(!e||!goog.userAgent.isVersion("8"))){d=b.style;if(e){d.pixelWidth=c.width;d.pixelHeight=c.height}else{e=goog.style.getPaddingBox(b);b=goog.style.getBorderBox(b);d.pixelWidth=c.width+b.left+e.left+e.right+b.right;d.pixelHeight=c.height+b.top+e.top+e.bottom+b.bottom}}else goog.style.setBoxSizingSize_(b,c,"content-box")};
goog.style.setBoxSizingSize_=function(b,c,d){b=b.style;if(goog.userAgent.GECKO)b.MozBoxSizing=d;else if(goog.userAgent.WEBKIT)b.WebkitBoxSizing=d;else if(goog.userAgent.OPERA&&!goog.userAgent.isVersion("9.50"))d?b.setProperty("box-sizing",d):b.removeProperty("box-sizing");else b.boxSizing=d;b.width=c.width+"px";b.height=c.height+"px"};
goog.style.getIePixelValue_=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);else{var f=b.style[d],g=b.runtimeStyle[d];b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=f;b.runtimeStyle[d]=g;return c}};goog.style.getIePixelDistance_=function(b,c){return goog.style.getIePixelValue_(b,goog.style.getCascadedStyle(b,c),"left","pixelLeft")};
goog.style.getBox_=function(b,c){if(goog.userAgent.IE){var d=goog.style.getIePixelDistance_(b,c+"Left"),e=goog.style.getIePixelDistance_(b,c+"Right"),f=goog.style.getIePixelDistance_(b,c+"Top");b=goog.style.getIePixelDistance_(b,c+"Bottom");return new goog.math.Box(f,e,b,d)}else{d=goog.style.getComputedStyle(b,c+"Left");e=goog.style.getComputedStyle(b,c+"Right");f=goog.style.getComputedStyle(b,c+"Top");b=goog.style.getComputedStyle(b,c+"Bottom");return new goog.math.Box(parseFloat(f),parseFloat(e),
parseFloat(b),parseFloat(d))}};goog.style.getPaddingBox=function(b){return goog.style.getBox_(b,"padding")};goog.style.getMarginBox=function(b){return goog.style.getBox_(b,"margin")};goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6};
goog.style.getIePixelBorder_=function(b,c){if(goog.style.getCascadedStyle(b,c+"Style")=="none")return 0;c=goog.style.getCascadedStyle(b,c+"Width");if(c in goog.style.ieBorderWidthKeywords_)return goog.style.ieBorderWidthKeywords_[c];return goog.style.getIePixelValue_(b,c,"left","pixelLeft")};
goog.style.getBorderBox=function(b){if(goog.userAgent.IE){var c=goog.style.getIePixelBorder_(b,"borderLeft"),d=goog.style.getIePixelBorder_(b,"borderRight"),e=goog.style.getIePixelBorder_(b,"borderTop");b=goog.style.getIePixelBorder_(b,"borderBottom");return new goog.math.Box(e,d,b,c)}else{c=goog.style.getComputedStyle(b,"borderLeftWidth");d=goog.style.getComputedStyle(b,"borderRightWidth");e=goog.style.getComputedStyle(b,"borderTopWidth");b=goog.style.getComputedStyle(b,"borderBottomWidth");return new goog.math.Box(parseFloat(e),
parseFloat(d),parseFloat(b),parseFloat(c))}};goog.style.getFontFamily=function(b){var c=goog.dom.getOwnerDocument(b),d="";if(c.createTextRange){d=c.body.createTextRange();d.moveToElementText(b);d=d.queryCommandValue("FontName")}if(!d){d=goog.style.getStyle_(b,"fontFamily");if(goog.userAgent.OPERA&&goog.userAgent.LINUX)d=d.replace(/ \[[^\]]*\]/,"")}b=d.split(",");if(b.length>1)d=b[0];return goog.string.stripQuotes(d,"\"'")};goog.style.lengthUnitRegex_=/[^\d]+$/;
goog.style.getLengthUnits=function(b){return(b=b.match(goog.style.lengthUnitRegex_))&&b[0]||null};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1};
goog.style.getFontSize=function(b){var c=goog.style.getStyle_(b,"fontSize"),d=goog.style.getLengthUnits(c);if(c&&"px"==d)return parseInt(c,10);if(goog.userAgent.IE)if(d in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(b,c,"left","pixelLeft");else if(b.parentNode&&b.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&d in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_){b=b.parentNode;d=goog.style.getStyle_(b,"fontSize");return goog.style.getIePixelValue_(b,c==d?"1em":c,"left","pixelLeft")}d=
goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});goog.dom.appendChild(b,d);c=d.offsetHeight;goog.dom.removeNode(d);return c};goog.style.parseStyleAttribute=function(b){var c={};goog.array.forEach(b.split(/\s*;\s*/),function(d){d=d.split(/\s*:\s*/);if(d.length==2)c[goog.style.toCamelCase(d[0].toLowerCase())]=d[1]});return c};
goog.style.toStyleAttribute=function(b){var c=[];goog.object.forEach(b,function(d,e){c.push(goog.style.toSelectorCase(e),":",d,";")});return c.join("")};goog.style.setFloat=function(b,c){b.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=c};goog.style.getFloat=function(b){return b.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""};
goog.style.getScrollbarWidth=function(){var b=goog.dom.createElement("div");b.style.cssText="visibility:hidden;overflow:scroll;position:absolute;top:0;width:100px;height:100px";goog.dom.appendChild(goog.dom.getDocument().body,b);var c=b.offsetWidth-b.clientWidth;goog.dom.removeNode(b);return c};goog.events.EventHandler=function(b){this.handler_=b};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.KEY_POOL_INITIAL_COUNT=0;goog.events.EventHandler.KEY_POOL_MAX_COUNT=100;goog.events.EventHandler.keyPool_=new goog.structs.SimplePool(goog.events.EventHandler.KEY_POOL_INITIAL_COUNT,goog.events.EventHandler.KEY_POOL_MAX_COUNT);goog.events.EventHandler.keys_=null;goog.events.EventHandler.key_=null;a=goog.events.EventHandler.prototype;
a.listen=function(b,c,d,e,f){if(goog.isArray(c))for(var g=0;g<c.length;g++)this.listen(b,c[g],d,e,f);else this.recordListenerKey_(goog.events.listen(b,c,d||this,e||false,f||this.handler_||this));return this};a.listenOnce=function(b,c,d,e,f){if(goog.isArray(c))for(var g=0;g<c.length;g++)this.listenOnce(b,c[g],d,e,f);else this.recordListenerKey_(goog.events.listenOnce(b,c,d||this,e||false,f||this.handler_||this));return this};
a.listenWithWrapper=function(b,c,d,e,f){c.listen(b,d,e,f||this.handler_,this);return this};a.recordListenerKey_=function(b){if(this.keys_)this.keys_[b]=true;else if(this.key_){this.keys_=goog.events.EventHandler.keyPool_.getObject();this.keys_[this.key_]=true;this.key_=null;this.keys_[b]=true}else this.key_=b};
a.unlisten=function(b,c,d,e,f){if(this.key_||this.keys_)if(goog.isArray(c))for(var g=0;g<c.length;g++)this.unlisten(b,c[g],d,e,f);else if(b=goog.events.getListener(b,c,d||this,e||false,f||this.handler_||this)){b=b.key;goog.events.unlistenByKey(b);if(this.keys_)goog.object.remove(this.keys_,b);else if(this.key_==b)this.key_=null}return this};a.unlistenWithWrapper=function(b,c,d,e,f){c.unlisten(b,d,e,f||this.handler_,this);return this};
a.removeAll=function(){if(this.keys_){for(var b in this.keys_){goog.events.unlistenByKey(b);delete this.keys_[b]}goog.events.EventHandler.keyPool_.releaseObject(this.keys_);this.keys_=null}else this.key_&&goog.events.unlistenByKey(this.key_)};a.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};a.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};goog.ui={};goog.ui.IdGenerator=function(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=0;goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)};goog.ui.IdGenerator.instance=goog.ui.IdGenerator.getInstance();goog.ui.Component=function(b){goog.events.EventTarget.call(this);this.dom_=b||goog.dom.getDomHelper();this.rightToLeft_=goog.ui.Component.defaultRightToLeft_};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();goog.ui.Component.defaultRightToLeft_=null;
goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};
goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};
goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};
goog.ui.Component.getStateTransitionEvent=function(b,c){switch(b){case goog.ui.Component.State.DISABLED:return c?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return c?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return c?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return c?goog.ui.Component.EventType.SELECT:
goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return c?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return c?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return c?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE;default:}throw Error(goog.ui.Component.Error.STATE_INVALID);};
goog.ui.Component.setDefaultRightToLeft=function(b){goog.ui.Component.defaultRightToLeft_=b};a=goog.ui.Component.prototype;a.id_=null;a.dom_=null;a.inDocument_=false;a.element_=null;a.rightToLeft_=null;a.model_=null;a.parent_=null;a.children_=null;a.childIndex_=null;a.wasDecorated_=false;a.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};
a.setId=function(b){if(this.parent_&&this.parent_.childIndex_){goog.object.remove(this.parent_.childIndex_,this.id_);goog.object.add(this.parent_.childIndex_,b,this)}this.id_=b};a.getElement=function(){return this.element_};a.setElementInternal=function(b){this.element_=b};a.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this))};
a.setParent=function(b){if(this==b)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(b&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=b)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=b;goog.ui.Component.superClass_.setParentEventTarget.call(this,b)};a.getParent=function(){return this.parent_};
a.setParentEventTarget=function(b){if(this.parent_&&this.parent_!=b)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,b)};a.getDomHelper=function(){return this.dom_};a.isInDocument=function(){return this.inDocument_};a.createDom=function(){this.element_=this.dom_.createElement("div")};a.render=function(b){this.render_(b)};a.renderBefore=function(b){this.render_(b.parentNode,b)};
a.render_=function(b,c){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();b?b.insertBefore(this.element_,c||null):this.dom_.getDocument().body.appendChild(this.element_);if(!this.parent_||this.parent_.isInDocument())this.enterDocument()};
a.decorate=function(b){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);else if(b&&this.canDecorate(b)){this.wasDecorated_=true;if(!this.dom_||this.dom_.getDocument()!=goog.dom.getOwnerDocument(b))this.dom_=goog.dom.getDomHelper(b);this.decorateInternal(b);this.enterDocument()}else throw Error(goog.ui.Component.Error.DECORATE_INVALID);};a.canDecorate=function(){return true};a.wasDecorated=function(){return this.wasDecorated_};a.decorateInternal=function(b){this.element_=b};
a.enterDocument=function(){this.inDocument_=true;this.forEachChild(function(b){!b.isInDocument()&&b.getElement()&&b.enterDocument()})};a.exitDocument=function(){this.forEachChild(function(b){b.isInDocument()&&b.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=false};
a.disposeInternal=function(){goog.ui.Component.superClass_.disposeInternal.call(this);this.inDocument_&&this.exitDocument();if(this.googUiComponentHandler_){this.googUiComponentHandler_.dispose();delete this.googUiComponentHandler_}this.forEachChild(function(b){b.dispose()});!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null};a.makeId=function(b){return this.getId()+"."+b};a.getModel=function(){return this.model_};
a.setModel=function(b){this.model_=b};a.getFragmentFromId=function(b){return b.substring(this.getId().length+1)};a.getElementByFragment=function(b){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(b))};a.addChild=function(b,c){this.addChildAt(b,this.getChildCount(),c)};
a.addChildAt=function(b,c,d){if(b.inDocument_&&(d||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(c<0||c>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(!this.childIndex_||!this.children_){this.childIndex_={};this.children_=[]}if(b.getParent()==this){goog.object.set(this.childIndex_,b.getId(),b);goog.array.remove(this.children_,b)}else goog.object.add(this.childIndex_,b.getId(),b);b.setParent(this);goog.array.insertAt(this.children_,
b,c);if(b.inDocument_&&this.inDocument_&&b.getParent()==this){d=this.getContentElement();d.insertBefore(b.getElement(),d.childNodes[c]||null)}else if(d){this.element_||this.createDom();c=this.getChildAt(c+1);b.render_(this.getContentElement(),c?c.element_:null)}else this.inDocument_&&!b.inDocument_&&b.element_&&b.enterDocument()};a.getContentElement=function(){return this.element_};
a.isRightToLeft=function(){if(this.rightToLeft_==null)this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body);return this.rightToLeft_};a.setRightToLeft=function(b){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=b};a.hasChildren=function(){return!!this.children_&&this.children_.length!=0};a.getChildCount=function(){return this.children_?this.children_.length:0};
a.getChildIds=function(){var b=[];this.forEachChild(function(c){b.push(c.getId())});return b};a.getChild=function(b){return this.childIndex_&&b?goog.object.get(this.childIndex_,b)||null:null};a.getChildAt=function(b){return this.children_?this.children_[b]||null:null};a.forEachChild=function(b,c){this.children_&&goog.array.forEach(this.children_,b,c)};a.indexOfChild=function(b){return this.children_&&b?goog.array.indexOf(this.children_,b):-1};
a.removeChild=function(b,c){if(b){var d=goog.isString(b)?b:b.getId();b=this.getChild(d);if(d&&b){goog.object.remove(this.childIndex_,d);goog.array.remove(this.children_,b);if(c){b.exitDocument();b.element_&&goog.dom.removeNode(b.element_)}b.setParent(null)}}if(!b)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return b};a.removeChildAt=function(b,c){return this.removeChild(this.getChildAt(b),c)};a.removeChildren=function(b){for(;this.hasChildren();)this.removeChildAt(0,b)};goog.graphics.AbstractGraphics=function(b,c,d,e,f){goog.ui.Component.call(this,f);this.width=b;this.height=c;this.coordWidth=d||null;this.coordHeight=e||null};goog.inherits(goog.graphics.AbstractGraphics,goog.ui.Component);a=goog.graphics.AbstractGraphics.prototype;a.canvasElement=null;a.coordLeft=0;a.coordTop=0;a.getCanvasElement=function(){return this.canvasElement};a.setCoordSize=function(b,c){this.coordWidth=b;this.coordHeight=c};
a.getCoordSize=function(){return this.coordWidth?new goog.math.Size(this.coordWidth,this.coordHeight):this.getPixelSize()};a.getCoordOrigin=function(){return new goog.math.Coordinate(this.coordLeft,this.coordTop)};a.getSize=function(){return this.getPixelSize()};a.getPixelSize=function(){if(this.isInDocument())return goog.style.getSize(this.getElement());if(goog.isNumber(this.width)&&goog.isNumber(this.height))return new goog.math.Size(this.width,this.height);return null};
a.getPixelScaleX=function(){var b=this.getPixelSize();return b?b.width/this.getCoordSize().width:0};a.getPixelScaleY=function(){var b=this.getPixelSize();return b?b.height/this.getCoordSize().height:0};a.removeElement=function(b){goog.dom.removeNode(b.getElement())};a.drawCircle=function(b,c,d,e,f,g){return this.drawEllipse(b,c,d,d,e,f,g)};a.drawText=function(b,c,d,e,f,g,h,i,j,k,l){var m=i.size/2;d=h=="bottom"?d+f-m:h=="center"?d+f/2:d+m;return this.drawTextOnLine(b,c,d,c+e,d,g,i,j,k,l)};
a.createPath=function(){return new goog.graphics.Path};a.isDomClonable=function(){return false};a.suspend=function(){};a.resume=function(){};goog.graphics.Element=function(b,c){goog.events.EventTarget.call(this);this.element_=b;this.graphics_=c;this.customEvent_=false};goog.inherits(goog.graphics.Element,goog.events.EventTarget);a=goog.graphics.Element.prototype;a.graphics_=null;a.element_=null;a.transform_=null;a.getElement=function(){return this.element_};a.getGraphics=function(){return this.graphics_};
a.setTransformation=function(b,c,d,e,f){this.transform_=goog.graphics.AffineTransform.getRotateInstance(goog.math.toRadians(d),e,f).translate(b,c);this.getGraphics().setElementTransform(this,b,c,d,e,f)};a.getTransform=function(){return this.transform_?this.transform_.clone():new goog.graphics.AffineTransform};a.addEventListener=function(b,c,d,e){goog.events.listen(this.element_,b,c,d,e)};a.removeEventListener=function(b,c,d,e){goog.events.unlisten(this.element_,b,c,d,e)};
a.disposeInternal=function(){goog.graphics.Element.superClass_.disposeInternal.call(this);goog.events.removeAll(this.element_)};goog.graphics.StrokeAndFillElement=function(b,c,d,e){goog.graphics.Element.call(this,b,c);this.setStroke(d);this.setFill(e)};goog.inherits(goog.graphics.StrokeAndFillElement,goog.graphics.Element);a=goog.graphics.StrokeAndFillElement.prototype;a.fill_=null;a.stroke_=null;a.setFill=function(b){this.fill_=b;this.getGraphics().setElementFill(this,b)};a.getFill=function(){return this.fill_};a.setStroke=function(b){this.stroke_=b;this.getGraphics().setElementStroke(this,b)};a.getStroke=function(){return this.stroke_};
a.reapplyStroke=function(){this.stroke_&&this.setStroke(this.stroke_)};goog.graphics.EllipseElement=function(b,c,d,e){goog.graphics.StrokeAndFillElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.EllipseElement,goog.graphics.StrokeAndFillElement);goog.graphics.GroupElement=function(b,c){goog.graphics.Element.call(this,b,c)};goog.inherits(goog.graphics.GroupElement,goog.graphics.Element);goog.graphics.ImageElement=function(b,c){goog.graphics.Element.call(this,b,c)};goog.inherits(goog.graphics.ImageElement,goog.graphics.Element);goog.graphics.PathElement=function(b,c,d,e){goog.graphics.StrokeAndFillElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.PathElement,goog.graphics.StrokeAndFillElement);goog.graphics.RectElement=function(b,c,d,e){goog.graphics.StrokeAndFillElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.RectElement,goog.graphics.StrokeAndFillElement);goog.graphics.TextElement=function(b,c,d,e){goog.graphics.StrokeAndFillElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.TextElement,goog.graphics.StrokeAndFillElement);goog.graphics.CanvasGroupElement=function(b){goog.graphics.GroupElement.call(this,null,b);this.children_=[]};goog.inherits(goog.graphics.CanvasGroupElement,goog.graphics.GroupElement);goog.graphics.CanvasGroupElement.prototype.clear=function(){if(this.children_.length){this.children_.length=0;this.getGraphics().redraw()}};goog.graphics.CanvasGroupElement.prototype.setSize=function(){};goog.graphics.CanvasGroupElement.prototype.appendChild=function(b){this.children_.push(b)};
goog.graphics.CanvasGroupElement.prototype.draw=function(){for(var b=0,c=this.children_.length;b<c;b++)this.getGraphics().drawElement(this.children_[b])};goog.graphics.CanvasEllipseElement=function(b,c,d,e,f,g,h,i){goog.graphics.EllipseElement.call(this,b,c,h,i);this.cx_=d;this.cy_=e;this.rx_=f;this.ry_=g;this.path_=new goog.graphics.Path;this.setUpPath_();this.pathElement_=new goog.graphics.CanvasPathElement(null,c,this.path_,h,i)};goog.inherits(goog.graphics.CanvasEllipseElement,goog.graphics.EllipseElement);
goog.graphics.CanvasEllipseElement.prototype.setUpPath_=function(){this.path_.clear();this.path_.arc(this.cx_,this.cy_,this.rx_,this.ry_,0,360,false);this.path_.close()};goog.graphics.CanvasEllipseElement.prototype.setCenter=function(b,c){this.cx_=b;this.cy_=c;this.setUpPath_();this.pathElement_.setPath(this.path_)};goog.graphics.CanvasEllipseElement.prototype.setRadius=function(b,c){this.rx_=b;this.ry_=c;this.setUpPath_();this.pathElement_.setPath(this.path_)};
goog.graphics.CanvasEllipseElement.prototype.draw=function(b){this.pathElement_.draw(b)};goog.graphics.CanvasRectElement=function(b,c,d,e,f,g,h,i){goog.graphics.RectElement.call(this,b,c,h,i);this.x_=d;this.y_=e;this.w_=f;this.h_=g};goog.inherits(goog.graphics.CanvasRectElement,goog.graphics.RectElement);goog.graphics.CanvasRectElement.prototype.setPosition=function(b,c){this.x_=b;this.y_=c;this.drawn_&&this.getGraphics().redraw()};goog.graphics.CanvasRectElement.prototype.drawn_=false;
goog.graphics.CanvasRectElement.prototype.setSize=function(b,c){this.w_=b;this.h_=c;this.drawn_&&this.getGraphics().redraw()};goog.graphics.CanvasRectElement.prototype.draw=function(b){this.drawn_=true;b.beginPath();b.moveTo(this.x_,this.y_);b.lineTo(this.x_,this.y_+this.h_);b.lineTo(this.x_+this.w_,this.y_+this.h_);b.lineTo(this.x_+this.w_,this.y_);b.closePath()};goog.graphics.CanvasPathElement=function(b,c,d,e,f){goog.graphics.PathElement.call(this,b,c,e,f);this.setPath(d)};
goog.inherits(goog.graphics.CanvasPathElement,goog.graphics.PathElement);goog.graphics.CanvasPathElement.prototype.drawn_=false;goog.graphics.CanvasPathElement.prototype.setPath=function(b){this.path_=b.isSimple()?b:goog.graphics.Path.createSimplifiedPath(b);this.drawn_&&this.getGraphics().redraw()};
goog.graphics.CanvasPathElement.prototype.draw=function(b){this.drawn_=true;b.beginPath();this.path_.forEachSegment(function(c,d){switch(c){case goog.graphics.Path.Segment.MOVETO:b.moveTo(d[0],d[1]);break;case goog.graphics.Path.Segment.LINETO:for(c=0;c<d.length;c+=2)b.lineTo(d[c],d[c+1]);break;case goog.graphics.Path.Segment.CURVETO:for(c=0;c<d.length;c+=6)b.bezierCurveTo(d[c],d[c+1],d[c+2],d[c+3],d[c+4],d[c+5]);break;case goog.graphics.Path.Segment.ARCTO:throw Error("Canvas paths cannot contain arcs");
case goog.graphics.Path.Segment.CLOSE:b.closePath();break}})};
goog.graphics.CanvasTextElement=function(b,c,d,e,f,g,h,i,j,k){goog.graphics.TextElement.call(this,null,b,j,k);this.text_=c;this.x1_=d;this.y1_=e;this.x2_=f;this.y2_=g;this.align_=h||"left";this.font_=i;this.element_=goog.dom.createDom("DIV",{style:"display:table;position:absolute;padding:0;margin:0;border:0"});this.innerElement_=goog.dom.createDom("DIV",{style:"display:table-cell;padding: 0;margin: 0;border: 0"});this.updateStyle_();this.updateText_();b.getElement().appendChild(this.element_);this.element_.appendChild(this.innerElement_)};
goog.inherits(goog.graphics.CanvasTextElement,goog.graphics.TextElement);a=goog.graphics.CanvasTextElement.prototype;a.setText=function(b){this.text_=b;this.updateText_()};a.setFill=function(b){this.fill_=b;if(this.element_)this.element_.style.color=b.getColor()||b.getColor1()};a.setStroke=function(){};a.draw=function(){};
a.updateStyle_=function(){var b=this.x1_,c=this.x2_,d=this.y1_,e=this.y2_,f=this.align_,g=this.font_,h=this.element_.style,i=this.getGraphics().getPixelScaleX(),j=this.getGraphics().getPixelScaleY();if(b==c){h.lineHeight="90%";this.innerElement_.style.verticalAlign=f=="center"?"middle":f=="left"?d<e?"top":"bottom":d<e?"bottom":"top";h.textAlign="center";c=g.size*i;h.top=Math.round(Math.min(d,e)*j)+"px";h.left=Math.round((b-c/2)*i)+"px";h.width=Math.round(c)+"px";h.height=Math.abs(d-e)*j+"px";h.fontSize=
g.size*0.6*j+"pt"}else{h.lineHeight="100%";this.innerElement_.style.verticalAlign="top";h.textAlign=f;h.top=Math.round(((d+e)/2-g.size*2/3)*j)+"px";h.left=Math.round(b*i)+"px";h.width=Math.round(Math.abs(c-b)*i)+"px";h.height="auto";h.fontSize=g.size*j+"pt"}h.fontWeight=g.bold?"bold":"normal";h.fontStyle=g.italic?"italic":"normal";h.fontFamily=g.family;b=this.getFill();h.color=b.getColor()||b.getColor1()};
a.updateText_=function(){this.innerElement_.innerHTML=this.x1_==this.x2_?goog.array.map(this.text_.split(""),goog.string.htmlEscape).join("<br>"):goog.string.htmlEscape(this.text_)};goog.graphics.CanvasImageElement=function(b,c,d,e,f,g,h){goog.graphics.ImageElement.call(this,b,c);this.x_=d;this.y_=e;this.w_=f;this.h_=g;this.src_=h};goog.inherits(goog.graphics.CanvasImageElement,goog.graphics.ImageElement);a=goog.graphics.CanvasImageElement.prototype;a.drawn_=false;
a.setPosition=function(b,c){this.x_=b;this.y_=c;this.drawn_&&this.getGraphics().redraw()};a.setSize=function(b,c){this.w_=b;this.h_=c;this.drawn_&&this.getGraphics().redraw()};a.setSource=function(b){this.src_=b;this.drawn_&&this.getGraphics().redraw()};a.draw=function(b){if(this.img_){this.w_&&this.h_&&b.drawImage(this.img_,this.x_,this.y_,this.w_,this.h_);this.drawn_=true}else{b=new Image;b.onload=goog.bind(this.handleImageLoad_,this,b);b.src=this.src_}};
a.handleImageLoad_=function(b){this.img_=b;this.getGraphics().redraw()};goog.graphics.Font=function(b,c){this.size=b;this.family=c};goog.graphics.Font.prototype.bold=false;goog.graphics.Font.prototype.italic=false;goog.graphics.Fill=function(){};goog.graphics.LinearGradient=function(b,c,d,e,f,g){this.x1_=b;this.y1_=c;this.x2_=d;this.y2_=e;this.color1_=f;this.color2_=g};goog.inherits(goog.graphics.LinearGradient,goog.graphics.Fill);a=goog.graphics.LinearGradient.prototype;a.getX1=function(){return this.x1_};a.getY1=function(){return this.y1_};a.getX2=function(){return this.x2_};a.getY2=function(){return this.y2_};a.getColor1=function(){return this.color1_};a.getColor2=function(){return this.color2_};goog.graphics.SolidFill=function(b,c){this.color_=b;this.opacity_=c||1};goog.inherits(goog.graphics.SolidFill,goog.graphics.Fill);goog.graphics.SolidFill.prototype.getColor=function(){return this.color_};goog.graphics.SolidFill.prototype.getOpacity=function(){return this.opacity_};goog.graphics.Stroke=function(b,c){this.width_=b;this.color_=c};goog.graphics.Stroke.prototype.getWidth=function(){return this.width_};goog.graphics.Stroke.prototype.getColor=function(){return this.color_};goog.graphics.CanvasGraphics=function(b,c,d,e,f){goog.graphics.AbstractGraphics.call(this,b,c,d,e,f)};goog.inherits(goog.graphics.CanvasGraphics,goog.graphics.AbstractGraphics);a=goog.graphics.CanvasGraphics.prototype;a.setElementFill=function(){this.redraw()};a.setElementStroke=function(){this.redraw()};a.setElementTransform=function(){this.redraw()};
a.pushElementTransform=function(b){var c=this.getContext();c.save();b=b.getTransform();var d=b.getTranslateX(),e=b.getTranslateY();if(d||e)c.translate(d,e);(b=b.getShearY())&&c.rotate(Math.asin(b))};a.popElementTransform=function(){this.getContext().restore()};
a.createDom=function(){var b=this.dom_.createDom("div",{style:"position:relative;overflow:hidden"});this.setElementInternal(b);this.canvas_=this.dom_.createDom("canvas");b.appendChild(this.canvas_);this.lastGroup_=this.canvasElement=new goog.graphics.CanvasGroupElement(this);this.redrawTimeout_=0;this.updateSize()};a.clearContext_=function(){this.context_=null};a.getContext=function(){this.getElement()||this.createDom();if(!this.context_){this.context_=this.canvas_.getContext("2d");this.context_.save()}return this.context_};
a.setCoordOrigin=function(b,c){this.coordLeft=b;this.coordTop=c;this.redraw()};a.setCoordSize=function(){goog.graphics.CanvasGraphics.superClass_.setCoordSize.apply(this,arguments);this.redraw()};a.setSize=function(b,c){this.width=b;this.height=c;this.updateSize();this.redraw()};
a.getPixelSize=function(){var b=this.width,c=this.height,d=goog.isString(b)&&b.indexOf("%")!=-1,e=goog.isString(c)&&c.indexOf("%")!=-1;if(!this.isInDocument()&&(d||e))return null;var f,g;if(d){f=this.getElement().parentNode;g=goog.style.getSize(f);b=parseFloat(b)*g.width/100}if(e){f=f||this.getElement().parentNode;g=g||goog.style.getSize(f);c=parseFloat(c)*g.height/100}return new goog.math.Size(b,c)};
a.updateSize=function(){goog.style.setSize(this.getElement(),this.width,this.height);var b=this.getPixelSize();if(b){goog.style.setSize(this.canvas_,b.width,b.height);this.canvas_.width=b.width;this.canvas_.height=b.height;this.clearContext_()}};a.reset=function(){var b=this.getContext();b.restore();var c=this.getPixelSize();c.width&&c.height&&b.clearRect(0,0,c.width,c.height);b.save()};a.clear=function(){this.reset();this.canvasElement.clear();for(var b=this.getElement();b.childNodes.length>1;)b.removeChild(b.lastChild)};
a.redraw=function(){if(this.preventRedraw_)this.needsRedraw_=true;else if(this.isInDocument()){this.reset();if(this.coordWidth){var b=this.getPixelSize();this.getContext().scale(b.width/this.coordWidth,b.height/this.coordHeight)}if(this.coordLeft||this.coordTop)this.getContext().translate(-this.coordLeft,-this.coordTop);this.pushElementTransform(this.canvasElement);this.canvasElement.draw(this.context_);this.popElementTransform()}};
a.drawElement=function(b){if(!(b instanceof goog.graphics.CanvasTextElement)){var c=this.getContext();this.pushElementTransform(b);if(!b.getFill||!b.getStroke)b.draw(c);else{var d=b.getFill();if(d)if(d instanceof goog.graphics.SolidFill){if(d.getOpacity()!=0){c.globalAlpha=d.getOpacity();c.fillStyle=d.getColor();b.draw(c);c.fill();c.globalAlpha=1}}else{var e=c.createLinearGradient(d.getX1(),d.getY1(),d.getX2(),d.getY2());e.addColorStop(0,d.getColor1());e.addColorStop(1,d.getColor2());c.fillStyle=
e;b.draw(c);c.fill()}if(d=b.getStroke()){b.draw(c);c.strokeStyle=d.getColor();b=d.getWidth();if(goog.isString(b)&&b.indexOf("px")!=-1)b=parseFloat(b)/this.getPixelScaleX();c.lineWidth=b;c.stroke()}}this.popElementTransform()}};a.append_=function(b,c){c=c||this.canvasElement;c.appendChild(b);this.isDrawable(c)&&this.drawElement(b)};a.drawEllipse=function(b,c,d,e,f,g,h){b=new goog.graphics.CanvasEllipseElement(null,this,b,c,d,e,f,g);this.append_(b,h);return b};
a.drawRect=function(b,c,d,e,f,g,h){b=new goog.graphics.CanvasRectElement(null,this,b,c,d,e,f,g);this.append_(b,h);return b};a.drawImage=function(b,c,d,e,f,g){b=new goog.graphics.CanvasImageElement(null,this,b,c,d,e,f);this.append_(b,g);return b};a.drawTextOnLine=function(b,c,d,e,f,g,h,i,j,k){b=new goog.graphics.CanvasTextElement(this,b,c,d,e,f,g,h,i,j);this.append_(b,k);return b};a.drawPath=function(b,c,d,e){b=new goog.graphics.CanvasPathElement(null,this,b,c,d);this.append_(b,e);return b};
a.isDrawable=function(b){return this.isInDocument()&&!this.redrawTimeout_&&!this.isRedrawRequired(b)};a.isRedrawRequired=function(b){return b!=this.canvasElement&&b!=this.lastGroup_};a.createGroup=function(b){var c=new goog.graphics.CanvasGroupElement(this);b=b||this.canvasElement;if(b==this.canvasElement||b==this.lastGroup_)this.lastGroup_=c;this.append_(c,b);return c};a.disposeInternal=function(){this.context_=null;goog.graphics.CanvasGraphics.superClass_.disposeInternal.call(this)};
a.enterDocument=function(){var b=this.getPixelSize();goog.graphics.CanvasGraphics.superClass_.enterDocument.call(this);if(!b){this.updateSize();this.dispatchEvent(goog.events.EventType.RESIZE)}this.redraw()};a.suspend=function(){this.preventRedraw_=true};a.resume=function(){this.preventRedraw_=false;if(this.needsRedraw_){this.redraw();this.needsRedraw_=false}};goog.Timer=function(b,c){goog.events.EventTarget.call(this);this.interval_=b||1;this.timerObject_=c||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.prototype.enabled=false;goog.Timer.defaultTimerObject=goog.global.window;goog.Timer.intervalScale=0.8;a=goog.Timer.prototype;a.timer_=null;a.getInterval=function(){return this.interval_};
a.setInterval=function(b){this.interval_=b;if(this.timer_&&this.enabled){this.stop();this.start()}else this.timer_&&this.stop()};a.tick_=function(){if(this.enabled){var b=goog.now()-this.last_;if(b>0&&b<this.interval_*goog.Timer.intervalScale)this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-b);else{this.dispatchTick();if(this.enabled){this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_);this.last_=goog.now()}}}};a.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};
a.start=function(){this.enabled=true;if(!this.timer_){this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_);this.last_=goog.now()}};a.stop=function(){this.enabled=false;if(this.timer_){this.timerObject_.clearTimeout(this.timer_);this.timer_=null}};a.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};goog.Timer.TICK="tick";
goog.Timer.callOnce=function(b,c,d){if(goog.isFunction(b)){if(d)b=goog.bind(b,d)}else if(b&&typeof b.handleEvent=="function")b=goog.bind(b.handleEvent,b);else throw Error("Invalid listener argument");return c>goog.Timer.MAX_TIMEOUT_?-1:goog.Timer.defaultTimerObject.setTimeout(b,c||0)};goog.Timer.clear=function(b){goog.Timer.defaultTimerObject.clearTimeout(b)};goog.graphics.SvgGroupElement=function(b,c){goog.graphics.GroupElement.call(this,b,c)};goog.inherits(goog.graphics.SvgGroupElement,goog.graphics.GroupElement);goog.graphics.SvgGroupElement.prototype.clear=function(){goog.dom.removeChildren(this.getElement())};goog.graphics.SvgGroupElement.prototype.setSize=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{width:b,height:c})};goog.graphics.SvgEllipseElement=function(b,c,d,e){goog.graphics.EllipseElement.call(this,b,c,d,e)};
goog.inherits(goog.graphics.SvgEllipseElement,goog.graphics.EllipseElement);goog.graphics.SvgEllipseElement.prototype.setCenter=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{cx:b,cy:c})};goog.graphics.SvgEllipseElement.prototype.setRadius=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{rx:b,ry:c})};goog.graphics.SvgRectElement=function(b,c,d,e){goog.graphics.RectElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.SvgRectElement,goog.graphics.RectElement);
goog.graphics.SvgRectElement.prototype.setPosition=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{x:b,y:c})};goog.graphics.SvgRectElement.prototype.setSize=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{width:b,height:c})};goog.graphics.SvgPathElement=function(b,c,d,e){goog.graphics.PathElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.SvgPathElement,goog.graphics.PathElement);
goog.graphics.SvgPathElement.prototype.setPath=function(b){this.getGraphics().setElementAttributes(this.getElement(),{d:goog.graphics.SvgGraphics.getSvgPath(b)})};goog.graphics.SvgTextElement=function(b,c,d,e){goog.graphics.TextElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.SvgTextElement,goog.graphics.TextElement);goog.graphics.SvgTextElement.prototype.setText=function(b){this.getElement().firstChild.data=b};
goog.graphics.SvgImageElement=function(b,c){goog.graphics.ImageElement.call(this,b,c)};goog.inherits(goog.graphics.SvgImageElement,goog.graphics.ImageElement);goog.graphics.SvgImageElement.prototype.setPosition=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{x:b,y:c})};goog.graphics.SvgImageElement.prototype.setSize=function(b,c){this.getGraphics().setElementAttributes(this.getElement(),{width:b,height:c})};
goog.graphics.SvgImageElement.prototype.setSource=function(b){this.getGraphics().setElementAttributes(this.getElement(),{"xlink:href":b})};goog.graphics.SvgGraphics=function(b,c,d,e,f){goog.graphics.AbstractGraphics.call(this,b,c,d,e,f);this.defs_={};this.useManualViewbox_=goog.userAgent.WEBKIT&&!goog.userAgent.isVersion(526);this.handler_=new goog.events.EventHandler(this)};goog.inherits(goog.graphics.SvgGraphics,goog.graphics.AbstractGraphics);goog.graphics.SvgGraphics.SVG_NS_="http://www.w3.org/2000/svg";goog.graphics.SvgGraphics.DEF_ID_PREFIX_="_svgdef_";goog.graphics.SvgGraphics.nextDefId_=0;a=goog.graphics.SvgGraphics.prototype;
a.createSvgElement_=function(b,c){b=this.dom_.getDocument().createElementNS(goog.graphics.SvgGraphics.SVG_NS_,b);c&&this.setElementAttributes(b,c);return b};a.setElementAttributes=function(b,c){for(var d in c)b.setAttribute(d,c[d])};a.append_=function(b,c){(c||this.canvasElement).getElement().appendChild(b.getElement())};
a.setElementFill=function(b,c){b=b.getElement();if(c instanceof goog.graphics.SolidFill){b.setAttribute("fill",c.getColor());b.setAttribute("fill-opacity",c.getOpacity())}else if(c instanceof goog.graphics.LinearGradient){var d="lg-"+c.getX1()+"-"+c.getY1()+"-"+c.getX2()+"-"+c.getY2()+"-"+c.getColor1()+"-"+c.getColor2(),e=this.getDef_(d);if(!e){e=this.createSvgElement_("linearGradient",{x1:c.getX1(),y1:c.getY1(),x2:c.getX2(),y2:c.getY2(),gradientUnits:"userSpaceOnUse"});var f=this.createSvgElement_("stop",
{offset:"0%",style:"stop-color:"+c.getColor1()});e.appendChild(f);c=this.createSvgElement_("stop",{offset:"100%",style:"stop-color:"+c.getColor2()});e.appendChild(c);e=this.addDef_(d,e)}b.setAttribute("fill","url(#"+e+")")}else b.setAttribute("fill","none")};
a.setElementStroke=function(b,c){b=b.getElement();if(c){b.setAttribute("stroke",c.getColor());c=c.getWidth();goog.isString(c)&&c.indexOf("px")!=-1?b.setAttribute("stroke-width",parseFloat(c)/this.getPixelScaleX()):b.setAttribute("stroke-width",c)}else b.setAttribute("stroke","none")};a.setElementTransform=function(b,c,d,e,f,g){b.getElement().setAttribute("transform","translate("+c+","+d+") rotate("+e+" "+f+" "+g+")")};
a.createDom=function(){var b=this.createSvgElement_("svg",{width:this.width,height:this.height,overflow:"hidden"}),c=this.createSvgElement_("g");this.defsElement_=this.createSvgElement_("defs");this.canvasElement=new goog.graphics.SvgGroupElement(c,this);b.appendChild(this.defsElement_);b.appendChild(c);this.setElementInternal(b);this.setViewBox_()};a.setCoordOrigin=function(b,c){this.coordLeft=b;this.coordTop=c;this.setViewBox_()};
a.setCoordSize=function(){goog.graphics.SvgGraphics.superClass_.setCoordSize.apply(this,arguments);this.setViewBox_()};a.getViewBox_=function(){return this.coordLeft+" "+this.coordTop+" "+(this.coordWidth?this.coordWidth+" "+this.coordHeight:"")};a.setViewBox_=function(){if(this.coordWidth||this.coordLeft||this.coordTop){this.getElement().setAttribute("preserveAspectRatio","none");this.useManualViewbox_?this.updateManualViewBox_():this.getElement().setAttribute("viewBox",this.getViewBox_())}};
a.updateManualViewBox_=function(){if(this.isInDocument()&&(this.coordWidth||this.coordLeft||!this.coordTop)){var b=this.getPixelSize();if(b.width==0)this.getElement().style.visibility="hidden";else{this.getElement().style.visibility="";var c=-this.coordLeft,d=-this.coordTop,e=b.width/this.coordWidth;b=b.height/this.coordHeight;this.canvasElement.getElement().setAttribute("transform","scale("+e+" "+b+") translate("+c+" "+d+")")}}};a.setSize=function(){};
a.getPixelSize=function(){if(!goog.userAgent.GECKO)return goog.style.getSize(this.getElement());var b=this.width,c=this.height,d=goog.isString(b)&&b.indexOf("%")!=-1,e=goog.isString(c)&&c.indexOf("%")!=-1;if(!this.isInDocument()&&(d||e))return null;var f,g;if(d){f=this.getElement().parentNode;g=goog.style.getSize(f);b=parseFloat(b)*g.width/100}if(e){f=f||this.getElement().parentNode;g=g||goog.style.getSize(f);c=parseFloat(c)*g.height/100}return new goog.math.Size(b,c)};
a.clear=function(){this.canvasElement.clear();goog.dom.removeChildren(this.defsElement_);this.defs_={}};a.drawEllipse=function(b,c,d,e,f,g,h){b=this.createSvgElement_("ellipse",{cx:b,cy:c,rx:d,ry:e});f=new goog.graphics.SvgEllipseElement(b,this,f,g);this.append_(f,h);return f};a.drawRect=function(b,c,d,e,f,g,h){b=this.createSvgElement_("rect",{x:b,y:c,width:d,height:e});f=new goog.graphics.SvgRectElement(b,this,f,g);this.append_(f,h);return f};
a.drawImage=function(b,c,d,e,f,g){b=this.createSvgElement_("image",{x:b,y:c,width:d,height:e,"image-rendering":"optimizeQuality",preserveAspectRatio:"none"});b.setAttributeNS("http://www.w3.org/1999/xlink","href",f);f=new goog.graphics.SvgImageElement(b,this);this.append_(f,g);return f};
a.drawTextOnLine=function(b,c,d,e,f,g,h,i,j,k){var l=Math.round(goog.math.angle(c,d,e,f));e=e-c;f=f-d;f=Math.round(Math.sqrt(e*e+f*f));var m=h.size;e={"font-family":h.family,"font-size":m};var n=Math.round(m*0.85);m=Math.round(d-m/2+n);n=c;if(g=="center"){n+=Math.round(f/2);e["text-anchor"]="middle"}else if(g=="right"){n+=f;e["text-anchor"]="end"}e.x=n;e.y=m;if(h.bold)e["font-weight"]="bold";if(h.italic)e["font-style"]="italic";if(l!=0)e.transform="rotate("+l+" "+c+" "+d+")";c=this.createSvgElement_("text",
e);c.appendChild(this.dom_.getDocument().createTextNode(b));if(i==null&&goog.userAgent.GECKO&&goog.userAgent.MAC){b="black";if(j instanceof goog.graphics.SolidFill)b=j.getColor();i=new goog.graphics.Stroke(1,b)}j=new goog.graphics.SvgTextElement(c,this,i,j);this.append_(j,k);return j};a.drawPath=function(b,c,d,e){b=this.createSvgElement_("path",{d:goog.graphics.SvgGraphics.getSvgPath(b)});c=new goog.graphics.SvgPathElement(b,this,c,d);this.append_(c,e);return c};
goog.graphics.SvgGraphics.getSvgPath=function(b){var c=[];b.forEachSegment(function(d,e){switch(d){case goog.graphics.Path.Segment.MOVETO:c.push("M");Array.prototype.push.apply(c,e);break;case goog.graphics.Path.Segment.LINETO:c.push("L");Array.prototype.push.apply(c,e);break;case goog.graphics.Path.Segment.CURVETO:c.push("C");Array.prototype.push.apply(c,e);break;case goog.graphics.Path.Segment.ARCTO:d=e[3];c.push("A",e[0],e[1],0,Math.abs(d)>180?1:0,d>0?1:0,e[4],e[5]);break;case goog.graphics.Path.Segment.CLOSE:c.push("Z");
break}});return c.join(" ")};a=goog.graphics.SvgGraphics.prototype;a.createGroup=function(b){var c=this.createSvgElement_("g");(b||this.canvasElement).getElement().appendChild(c);return new goog.graphics.SvgGroupElement(c,this)};a.getTextWidth=function(){};a.addDef_=function(b,c){if(b in this.defs_)return this.defs_[b];var d=goog.graphics.SvgGraphics.DEF_ID_PREFIX_+goog.graphics.SvgGraphics.nextDefId_++;c.setAttribute("id",d);this.defs_[b]=d;this.defsElement_.appendChild(c);return d};
a.getDef_=function(b){return b in this.defs_?this.defs_[b]:null};a.enterDocument=function(){var b=this.getPixelSize();goog.graphics.SvgGraphics.superClass_.enterDocument.call(this);b||this.dispatchEvent(goog.events.EventType.RESIZE);if(this.useManualViewbox_){b=this.width;var c=this.height;typeof b=="string"&&b.indexOf("%")!=-1&&typeof c=="string"&&c.indexOf("%")!=-1&&this.handler_.listen(goog.graphics.SvgGraphics.getResizeCheckTimer_(),goog.Timer.TICK,this.updateManualViewBox_);this.updateManualViewBox_()}};
a.exitDocument=function(){goog.graphics.SvgGraphics.superClass_.exitDocument.call(this);this.useManualViewbox_&&this.handler_.unlisten(goog.graphics.SvgGraphics.getResizeCheckTimer_(),goog.Timer.TICK,this.updateManualViewBox_)};a.disposeInternal=function(){delete this.defs_;delete this.defsElement_;delete this.canvasElement;goog.graphics.SvgGraphics.superClass_.disposeInternal.call(this)};
goog.graphics.SvgGraphics.getResizeCheckTimer_=function(){if(!goog.graphics.SvgGraphics.resizeCheckTimer_){goog.graphics.SvgGraphics.resizeCheckTimer_=new goog.Timer(400);goog.graphics.SvgGraphics.resizeCheckTimer_.start()}return goog.graphics.SvgGraphics.resizeCheckTimer_};goog.graphics.SvgGraphics.prototype.isDomClonable=function(){return true};goog.graphics.vmlGetElement_=function(){return this.element_=this.getGraphics().getVmlElement(this.id_)||this.element_};goog.graphics.VmlGroupElement=function(b,c){this.id_=b.id;goog.graphics.GroupElement.call(this,b,c)};goog.inherits(goog.graphics.VmlGroupElement,goog.graphics.GroupElement);goog.graphics.VmlGroupElement.prototype.getElement=goog.graphics.vmlGetElement_;goog.graphics.VmlGroupElement.prototype.clear=function(){goog.dom.removeChildren(this.getElement())};
goog.graphics.VmlGroupElement.prototype.isRootElement_=function(){return this.getGraphics().getCanvasElement()==this};goog.graphics.VmlGroupElement.prototype.setSize=function(b,c){var d=this.getElement(),e=d.style;e.width=goog.graphics.VmlGraphics.toSizePx(b);e.height=goog.graphics.VmlGraphics.toSizePx(c);d.coordsize=goog.graphics.VmlGraphics.toSizeCoord(b)+" "+goog.graphics.VmlGraphics.toSizeCoord(c);if(!this.isRootElement_())d.coordorigin="0 0"};
goog.graphics.VmlEllipseElement=function(b,c,d,e,f,g,h,i){this.id_=b.id;goog.graphics.EllipseElement.call(this,b,c,h,i);this.cx=d;this.cy=e;this.rx=f;this.ry=g};goog.inherits(goog.graphics.VmlEllipseElement,goog.graphics.EllipseElement);goog.graphics.VmlEllipseElement.prototype.getElement=goog.graphics.vmlGetElement_;
goog.graphics.VmlEllipseElement.prototype.setCenter=function(b,c){this.cx=b;this.cy=c;goog.graphics.VmlGraphics.setPositionAndSize(this.getElement(),b-this.rx,c-this.ry,this.rx*2,this.ry*2)};goog.graphics.VmlEllipseElement.prototype.setRadius=function(b,c){this.rx=b;this.ry=c;goog.graphics.VmlGraphics.setPositionAndSize(this.getElement(),this.cx-b,this.cy-c,b*2,c*2)};goog.graphics.VmlRectElement=function(b,c,d,e){this.id_=b.id;goog.graphics.RectElement.call(this,b,c,d,e)};
goog.inherits(goog.graphics.VmlRectElement,goog.graphics.RectElement);goog.graphics.VmlRectElement.prototype.getElement=goog.graphics.vmlGetElement_;goog.graphics.VmlRectElement.prototype.setPosition=function(b,c){var d=this.getElement().style;d.left=goog.graphics.VmlGraphics.toPosPx(b);d.top=goog.graphics.VmlGraphics.toPosPx(c)};goog.graphics.VmlRectElement.prototype.setSize=function(b,c){var d=this.getElement().style;d.width=goog.graphics.VmlGraphics.toSizePx(b);d.height=goog.graphics.VmlGraphics.toSizePx(c)};
goog.graphics.VmlPathElement=function(b,c,d,e){this.id_=b.id;goog.graphics.PathElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.VmlPathElement,goog.graphics.PathElement);goog.graphics.VmlPathElement.prototype.getElement=goog.graphics.vmlGetElement_;goog.graphics.VmlPathElement.prototype.setPath=function(b){goog.graphics.VmlGraphics.setAttribute(this.getElement(),"path",goog.graphics.VmlGraphics.getVmlPath(b))};
goog.graphics.VmlTextElement=function(b,c,d,e){this.id_=b.id;goog.graphics.TextElement.call(this,b,c,d,e)};goog.inherits(goog.graphics.VmlTextElement,goog.graphics.TextElement);goog.graphics.VmlTextElement.prototype.getElement=goog.graphics.vmlGetElement_;goog.graphics.VmlTextElement.prototype.setText=function(b){goog.graphics.VmlGraphics.setAttribute(this.getElement().childNodes[1],"string",b)};goog.graphics.VmlImageElement=function(b,c){this.id_=b.id;goog.graphics.ImageElement.call(this,b,c)};
goog.inherits(goog.graphics.VmlImageElement,goog.graphics.ImageElement);goog.graphics.VmlImageElement.prototype.getElement=goog.graphics.vmlGetElement_;goog.graphics.VmlImageElement.prototype.setPosition=function(b,c){var d=this.getElement().style;d.left=goog.graphics.VmlGraphics.toPosPx(b);d.top=goog.graphics.VmlGraphics.toPosPx(c)};goog.graphics.VmlImageElement.prototype.setSize=function(b,c){var d=this.getElement().style;d.width=goog.graphics.VmlGraphics.toPosPx(b);d.height=goog.graphics.VmlGraphics.toPosPx(c)};
goog.graphics.VmlImageElement.prototype.setSource=function(b){goog.graphics.VmlGraphics.setAttribute(this.getElement(),"src",b)};goog.graphics.VmlGraphics=function(b,c,d,e,f){goog.graphics.AbstractGraphics.call(this,b,c,d,e,f);this.handler_=new goog.events.EventHandler(this)};goog.inherits(goog.graphics.VmlGraphics,goog.graphics.AbstractGraphics);goog.graphics.VmlGraphics.VML_PREFIX_="g_vml_";goog.graphics.VmlGraphics.VML_NS_="urn:schemas-microsoft-com:vml";goog.graphics.VmlGraphics.VML_IMPORT_="#default#VML";goog.graphics.VmlGraphics.IE8_MODE_=document.documentMode&&document.documentMode>=8;
goog.graphics.VmlGraphics.COORD_MULTIPLIER=100;goog.graphics.VmlGraphics.toCssSize=function(b){return goog.isString(b)&&goog.string.endsWith(b,"%")?b:parseFloat(b.toString())+"px"};goog.graphics.VmlGraphics.toPosCoord=function(b){return Math.round((parseFloat(b.toString())-0.5)*goog.graphics.VmlGraphics.COORD_MULTIPLIER)};goog.graphics.VmlGraphics.toPosPx=function(b){return goog.graphics.VmlGraphics.toPosCoord(b)+"px"};
goog.graphics.VmlGraphics.toSizeCoord=function(b){return Math.round(parseFloat(b.toString())*goog.graphics.VmlGraphics.COORD_MULTIPLIER)};goog.graphics.VmlGraphics.toSizePx=function(b){return goog.graphics.VmlGraphics.toSizeCoord(b)+"px"};goog.graphics.VmlGraphics.setAttribute=function(b,c,d){if(goog.graphics.VmlGraphics.IE8_MODE_)b[c]=d;else b.setAttribute(c,d)};a=goog.graphics.VmlGraphics.prototype;
a.createVmlElement=function(b){b=this.dom_.createElement(goog.graphics.VmlGraphics.VML_PREFIX_+":"+b);b.id=goog.string.createUniqueString();return b};a.getVmlElement=function(b){return this.dom_.getElement(b)};a.updateGraphics_=function(){if(goog.graphics.VmlGraphics.IE8_MODE_&&this.isInDocument())this.getElement().innerHTML=this.getElement().innerHTML};a.append_=function(b,c){(c||this.canvasElement).getElement().appendChild(b.getElement());this.updateGraphics_()};
a.setElementFill=function(b,c){b=b.getElement();this.removeFill(b);if(c instanceof goog.graphics.SolidFill)if(c.getColor()=="transparent")b.filled=false;else if(c.getOpacity()!=1){b.filled=true;var d=this.createVmlElement("fill");d.opacity=Math.round(c.getOpacity()*100)+"%";d.color=c.getColor();b.appendChild(d)}else{b.filled=true;b.fillcolor=c.getColor()}else if(c instanceof goog.graphics.LinearGradient){b.filled=true;d=this.createVmlElement("fill");d.color=c.getColor1();d.color2=c.getColor2();c=
goog.math.angle(c.getX1(),c.getY1(),c.getX2(),c.getY2());c=Math.round(goog.math.standardAngle(270-c));d.angle=c;d.type="gradient";b.appendChild(d)}else b.filled=false;this.updateGraphics_()};
a.setElementStroke=function(b,c){b=b.getElement();if(c){b.stroked=true;var d=c.getWidth();if(goog.isString(d)&&d.indexOf("px")==-1)d=parseFloat(d);else d*=this.getPixelScaleX();var e=b.getElementsByTagName("stroke")[0];if(d<1){e=e||this.createVmlElement("stroke");e.opacity=d;e.weight="1px";e.color=c.getColor();b.appendChild(e)}else{e&&b.removeChild(e);b.strokecolor=c.getColor();b.strokeweight=d+"px"}}else b.stroked=false;this.updateGraphics_()};
a.setElementTransform=function(b,c,d,e,f,g){b=b.getElement();b.style.left=goog.graphics.VmlGraphics.toPosPx(c);b.style.top=goog.graphics.VmlGraphics.toPosPx(d);if(e||b.rotation){b.rotation=e;b.coordsize=goog.graphics.VmlGraphics.toSizeCoord(f*2)+" "+goog.graphics.VmlGraphics.toSizeCoord(g*2)}};a.removeFill=function(b){b.fillcolor="";for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];d.tagName=="fill"&&b.removeChild(d)}};
goog.graphics.VmlGraphics.setPositionAndSize=function(b,c,d,e,f){var g=b.style;g.position="absolute";g.left=goog.graphics.VmlGraphics.toPosPx(c);g.top=goog.graphics.VmlGraphics.toPosPx(d);g.width=goog.graphics.VmlGraphics.toSizePx(e);g.height=goog.graphics.VmlGraphics.toSizePx(f);if(b.tagName=="shape")b.coordsize=goog.graphics.VmlGraphics.toSizeCoord(e)+" "+goog.graphics.VmlGraphics.toSizeCoord(f)};
goog.graphics.VmlGraphics.prototype.createFullSizeElement_=function(b){b=this.createVmlElement(b);var c=this.getCoordSize();goog.graphics.VmlGraphics.setPositionAndSize(b,0,0,c.width,c.height);return b};try{eval("document.namespaces")}catch(ex$$10){}a=goog.graphics.VmlGraphics.prototype;
a.createDom=function(){var b=this.dom_.getDocument();if(!b.namespaces[goog.graphics.VmlGraphics.VML_PREFIX_]){goog.graphics.VmlGraphics.IE8_MODE_?b.namespaces.add(goog.graphics.VmlGraphics.VML_PREFIX_,goog.graphics.VmlGraphics.VML_NS_,goog.graphics.VmlGraphics.VML_IMPORT_):b.namespaces.add(goog.graphics.VmlGraphics.VML_PREFIX_,goog.graphics.VmlGraphics.VML_NS_);b.createStyleSheet().cssText=goog.graphics.VmlGraphics.VML_PREFIX_+"\\:*{behavior:url(#default#VML)}"}b=this.width;var c=this.height,d=this.dom_.createDom("div",
{style:"overflow:hidden;position:relative;width:"+goog.graphics.VmlGraphics.toCssSize(b)+";height:"+goog.graphics.VmlGraphics.toCssSize(c)});this.setElementInternal(d);var e=this.createVmlElement("group"),f=e.style;f.position="absolute";f.left=f.top=0;f.width=this.width;f.height=this.height;e.coordsize=this.coordWidth?goog.graphics.VmlGraphics.toSizeCoord(this.coordWidth)+" "+goog.graphics.VmlGraphics.toSizeCoord(this.coordHeight):goog.graphics.VmlGraphics.toSizeCoord(b)+" "+goog.graphics.VmlGraphics.toSizeCoord(c);
e.coordorigin=goog.isDef(this.coordLeft)?goog.graphics.VmlGraphics.toSizeCoord(this.coordLeft)+" "+goog.graphics.VmlGraphics.toSizeCoord(this.coordTop):"0 0";d.appendChild(e);this.canvasElement=new goog.graphics.VmlGroupElement(e,this);goog.events.listen(d,goog.events.EventType.RESIZE,goog.bind(this.handleContainerResize_,this))};
a.handleContainerResize_=function(){var b=goog.style.getSize(this.getElement()),c=this.canvasElement.getElement().style;if(b.width){c.width=b.width+"px";c.height=b.height+"px"}else{for(b=this.getElement();b&&b.currentStyle&&b.currentStyle.display!="none";)b=b.parentNode;b&&b.currentStyle&&this.handler_.listen(b,"propertychange",this.handleContainerResize_)}this.dispatchEvent(goog.events.EventType.RESIZE)};
a.handlePropertyChange_=function(b){var c=b.getBrowserEvent().propertyName;if(c=="display"||c=="className"){this.handler_.unlisten(b.target,"propertychange",this.handlePropertyChange_);this.handleContainerResize_()}};a.setCoordOrigin=function(b,c){this.coordLeft=b;this.coordTop=c;this.canvasElement.getElement().coordorigin=goog.graphics.VmlGraphics.toSizeCoord(this.coordLeft)+" "+goog.graphics.VmlGraphics.toSizeCoord(this.coordTop)};
a.setCoordSize=function(b,c){goog.graphics.VmlGraphics.superClass_.setCoordSize.apply(this,arguments);this.canvasElement.getElement().coordsize=goog.graphics.VmlGraphics.toSizeCoord(b)+" "+goog.graphics.VmlGraphics.toSizeCoord(c)};a.setSize=function(){};a.getPixelSize=function(){var b=this.getElement();return new goog.math.Size(b.style.pixelWidth||b.offsetWidth||1,b.style.pixelHeight||b.offsetHeight||1)};a.clear=function(){this.canvasElement.clear()};
a.drawEllipse=function(b,c,d,e,f,g,h){var i=this.createVmlElement("oval");goog.graphics.VmlGraphics.setPositionAndSize(i,b-d,c-e,d*2,e*2);b=new goog.graphics.VmlEllipseElement(i,this,b,c,d,e,f,g);this.append_(b,h);return b};a.drawRect=function(b,c,d,e,f,g,h){var i=this.createVmlElement("rect");goog.graphics.VmlGraphics.setPositionAndSize(i,b,c,d,e);b=new goog.graphics.VmlRectElement(i,this,f,g);this.append_(b,h);return b};
a.drawImage=function(b,c,d,e,f,g){var h=this.createVmlElement("image");goog.graphics.VmlGraphics.setPositionAndSize(h,b,c,d,e);goog.graphics.VmlGraphics.setAttribute(h,"src",f);b=new goog.graphics.VmlImageElement(h,this);this.append_(b,g);return b};
a.drawTextOnLine=function(b,c,d,e,f,g,h,i,j,k){var l=this.createFullSizeElement_("shape"),m=this.createVmlElement("path");c="M"+goog.graphics.VmlGraphics.toPosCoord(c)+","+goog.graphics.VmlGraphics.toPosCoord(d)+"L"+goog.graphics.VmlGraphics.toPosCoord(e)+","+goog.graphics.VmlGraphics.toPosCoord(f)+"E";goog.graphics.VmlGraphics.setAttribute(m,"v",c);goog.graphics.VmlGraphics.setAttribute(m,"textpathok","true");c=this.createVmlElement("textpath");c.setAttribute("on","true");d=c.style;d.fontSize=h.size*
this.getPixelScaleX();d.fontFamily=h.family;if(g!=null)d["v-text-align"]=g;if(h.bold)d.fontWeight="bold";if(h.italic)d.fontStyle="italic";goog.graphics.VmlGraphics.setAttribute(c,"string",b);l.appendChild(m);l.appendChild(c);b=new goog.graphics.VmlTextElement(l,this,i,j);this.append_(b,k);return b};
a.drawPath=function(b,c,d,e){var f=this.createFullSizeElement_("shape");goog.graphics.VmlGraphics.setAttribute(f,"path",goog.graphics.VmlGraphics.getVmlPath(b));b=new goog.graphics.VmlPathElement(f,this,c,d);this.append_(b,e);return b};
goog.graphics.VmlGraphics.getVmlPath=function(b){var c=[];b.forEachSegment(function(d,e){switch(d){case goog.graphics.Path.Segment.MOVETO:c.push("m");Array.prototype.push.apply(c,goog.array.map(e,goog.graphics.VmlGraphics.toSizeCoord));break;case goog.graphics.Path.Segment.LINETO:c.push("l");Array.prototype.push.apply(c,goog.array.map(e,goog.graphics.VmlGraphics.toSizeCoord));break;case goog.graphics.Path.Segment.CURVETO:c.push("c");Array.prototype.push.apply(c,goog.array.map(e,goog.graphics.VmlGraphics.toSizeCoord));
break;case goog.graphics.Path.Segment.CLOSE:c.push("x");break;case goog.graphics.Path.Segment.ARCTO:var f=e[2]+e[3];d=goog.graphics.VmlGraphics.toSizeCoord(e[4]-goog.math.angleDx(f,e[0]));f=goog.graphics.VmlGraphics.toSizeCoord(e[5]-goog.math.angleDy(f,e[1]));var g=goog.graphics.VmlGraphics.toSizeCoord(e[0]),h=goog.graphics.VmlGraphics.toSizeCoord(e[1]),i=Math.round(e[2]*-65536);e=Math.round(e[3]*-65536);c.push("ae",d,f,g,h,i,e);break}});return c.join(" ")};
goog.graphics.VmlGraphics.prototype.createGroup=function(b){var c=this.createFullSizeElement_("group");(b||this.canvasElement).getElement().appendChild(c);return new goog.graphics.VmlGroupElement(c,this)};goog.graphics.VmlGraphics.prototype.getTextWidth=function(){return 0};goog.graphics.VmlGraphics.prototype.enterDocument=function(){goog.graphics.VmlGraphics.superClass_.enterDocument.call(this);this.handleContainerResize_();this.updateGraphics_()};
goog.graphics.VmlGraphics.prototype.disposeInternal=function(){this.canvasElement=null;goog.graphics.VmlGraphics.superClass_.disposeInternal.call(this)};goog.graphics.createGraphics=function(b,c,d,e,f){b=goog.userAgent.IE?new goog.graphics.VmlGraphics(b,c,d,e,f):goog.userAgent.WEBKIT&&(!goog.userAgent.isVersion("420")||goog.userAgent.MOBILE)?new goog.graphics.CanvasGraphics(b,c,d,e,f):new goog.graphics.SvgGraphics(b,c,d,e,f);b.createDom();return b};
goog.graphics.createSimpleGraphics=function(b,c,d,e,f){if(goog.userAgent.MAC&&goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9a")){b=new goog.graphics.CanvasGraphics(b,c,d,e,f);b.createDom();return b}return goog.graphics.createGraphics(b,c,d,e,f)};
goog.graphics.isBrowserSupported=function(){if(goog.userAgent.IE)return goog.userAgent.isVersion("5.5");if(goog.userAgent.GECKO)return goog.userAgent.isVersion("1.8");if(goog.userAgent.OPERA)return goog.userAgent.isVersion("9.0");if(goog.userAgent.WEBKIT)return goog.userAgent.isVersion("412");return false};goog.fx={};goog.fx.Dragger=function(b,c,d){this.target=b;this.handle=c||b;this.limits=d||new goog.math.Rect(NaN,NaN,NaN,NaN);this.document_=goog.dom.getOwnerDocument(b);this.eventHandler_=new goog.events.EventHandler(this);goog.events.listen(this.handle,goog.events.EventType.MOUSEDOWN,this.startDrag,false,this)};goog.inherits(goog.fx.Dragger,goog.events.EventTarget);goog.fx.Dragger.HAS_SET_CAPTURE_=goog.userAgent.IE||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.3");
goog.fx.Dragger.EventType={START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"};a=goog.fx.Dragger.prototype;a.screenX=0;a.screenY=0;a.startX=0;a.startY=0;a.deltaX=0;a.deltaY=0;a.enabled_=true;a.dragging_=false;a.hysteresisDistanceSquared_=0;a.mouseDownTime_=0;a.ieDragStartCancellingOn_=false;a.getHandler=function(){return this.eventHandler_};a.setLimits=function(b){this.limits=b||new goog.math.Rect(NaN,NaN,NaN,NaN)};a.setHysteresis=function(b){this.hysteresisDistanceSquared_=Math.pow(b,2)};
a.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)};a.setScrollTarget=function(b){this.scrollTarget_=b};a.setCancelIeDragStart=function(b){this.ieDragStartCancellingOn_=b};a.getEnabled=function(){return this.enabled_};a.setEnabled=function(b){this.enabled_=b};
a.disposeInternal=function(){goog.fx.Dragger.superClass_.disposeInternal.call(this);goog.events.unlisten(this.handle,goog.events.EventType.MOUSEDOWN,this.startDrag,false,this);this.eventHandler_.dispose();delete this.target;delete this.handle;delete this.eventHandler_};
a.startDrag=function(b){if(this.enabled_&&!this.dragging_&&(b.type!=goog.events.EventType.MOUSEDOWN||b.isButton(goog.events.BrowserEvent.MouseButton.LEFT))){if(this.hysteresisDistanceSquared_==0){this.initializeDrag_(b);if(this.dragging_)b.preventDefault();else return}else b.preventDefault();this.setupDragHandlers();this.screenX=this.startX=b.screenX;this.screenY=this.startY=b.screenY;this.deltaX=this.target.offsetLeft;this.deltaY=this.target.offsetTop;this.pageScroll=goog.dom.getDomHelper(this.document_).getDocumentScroll();
this.mouseDownTime_=goog.now()}};
a.setupDragHandlers=function(){var b=this.document_,c=b.documentElement,d=!goog.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(b,goog.events.EventType.MOUSEMOVE,this.mouseMoved_,d);this.eventHandler_.listen(b,goog.events.EventType.MOUSEUP,this.endDrag,d);if(goog.fx.Dragger.HAS_SET_CAPTURE_){c.setCapture(false);this.eventHandler_.listen(c,goog.events.EventType.LOSECAPTURE,this.endDrag)}else this.eventHandler_.listen(goog.dom.getWindow(b),goog.events.EventType.BLUR,this.endDrag);goog.userAgent.IE&&
this.ieDragStartCancellingOn_&&this.eventHandler_.listen(b,goog.events.EventType.DRAGSTART,goog.events.Event.preventDefault);this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,goog.events.EventType.SCROLL,this.onScroll_,d)};a.initializeDrag_=function(b){if(this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.START,this,b.clientX,b.clientY,b))!==false)this.dragging_=true};
a.endDrag=function(b,c){this.eventHandler_.removeAll();goog.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture();if(this.dragging_){this.dragging_=false;var d=this.limitX(this.deltaX),e=this.limitY(this.deltaY);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.END,this,b.clientX,b.clientY,b,d,e,c))}};a.endDragCancel=function(b){this.endDrag(b,true)};
a.mouseMoved_=function(b){if(this.enabled_){var c=b.screenX-this.screenX,d=b.screenY-this.screenY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.dragging_){var e=this.startX-this.screenX,f=this.startY-this.screenY;if(e*e+f*f>this.hysteresisDistanceSquared_){this.initializeDrag_(b);if(!this.dragging_){this.endDrag(b);return}}}d=this.calculatePosition_(c,d);c=d.x;d=d.y;if(this.dragging_)if(this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.BEFOREDRAG,this,b.clientX,b.clientY,
b,c,d))!==false){this.doDrag(b,c,d,false);b.preventDefault()}}};a.calculatePosition_=function(b,c){var d=goog.dom.getDomHelper(this.document_).getDocumentScroll();b+=d.x-this.pageScroll.x;c+=d.y-this.pageScroll.y;this.pageScroll=d;this.deltaX+=b;this.deltaY+=c;b=this.limitX(this.deltaX);c=this.limitY(this.deltaY);return new goog.math.Coordinate(b,c)};
a.onScroll_=function(b){var c=this.calculatePosition_(0,0);b.clientX=this.pageScroll.x-this.screenX;b.clientY=this.pageScroll.x-this.screenY;this.doDrag(b,c.x,c.y,true)};a.doDrag=function(b,c,d){this.defaultAction(c,d);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.DRAG,this,b.clientX,b.clientY,b,c,d))};a.limitX=function(b){var c=this.limits,d=!isNaN(c.left)?c.left:null;c=!isNaN(c.width)?c.width:0;return Math.min(d!=null?d+c:Infinity,Math.max(d!=null?d:-Infinity,b))};
a.limitY=function(b){var c=this.limits,d=!isNaN(c.top)?c.top:null;c=!isNaN(c.height)?c.height:0;return Math.min(d!=null?d+c:Infinity,Math.max(d!=null?d:-Infinity,b))};a.defaultAction=function(b,c){this.target.style.left=b+"px";this.target.style.top=c+"px"};goog.fx.DragEvent=function(b,c,d,e,f,g,h,i){goog.events.Event.call(this,b);this.clientX=d;this.clientY=e;this.browserEvent=f;this.left=goog.isDef(g)?g:c.deltaX;this.top=goog.isDef(h)?h:c.deltaY;this.dragger=c;this.dragCanceled=!!i};
goog.inherits(goog.fx.DragEvent,goog.events.Event);goog.editor={};goog.editor.defines={};goog.editor.defines.USE_CONTENTEDITABLE_IN_FIREFOX_3=false;goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=false;goog.userAgent.product.ASSUME_CAMINO=false;goog.userAgent.product.ASSUME_IPHONE=false;goog.userAgent.product.ASSUME_IPAD=false;goog.userAgent.product.ASSUME_ANDROID=false;goog.userAgent.product.ASSUME_CHROME=false;goog.userAgent.product.ASSUME_SAFARI=false;
goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_CAMINO||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;
goog.userAgent.product.init_=function(){goog.userAgent.product.detectedFirefox_=false;goog.userAgent.product.detectedCamino_=false;goog.userAgent.product.detectedIphone_=false;goog.userAgent.product.detectedIpad_=false;goog.userAgent.product.detectedAndroid_=false;goog.userAgent.product.detectedChrome_=false;goog.userAgent.product.detectedSafari_=false;var b=goog.userAgent.getUserAgentString();if(b)if(b.indexOf("Firefox")!=-1)goog.userAgent.product.detectedFirefox_=true;else if(b.indexOf("Camino")!=
-1)goog.userAgent.product.detectedCamino_=true;else if(b.indexOf("iPhone")!=-1||b.indexOf("iPod")!=-1)goog.userAgent.product.detectedIphone_=true;else if(b.indexOf("iPad")!=-1)goog.userAgent.product.detectedIpad_=true;else if(b.indexOf("Android")!=-1)goog.userAgent.product.detectedAndroid_=true;else if(b.indexOf("Chrome")!=-1)goog.userAgent.product.detectedChrome_=true;else if(b.indexOf("Safari")!=-1)goog.userAgent.product.detectedSafari_=true};goog.userAgent.product.PRODUCT_KNOWN_||goog.userAgent.product.init_();
goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.userAgent.product.detectedFirefox_;goog.userAgent.product.CAMINO=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CAMINO:goog.userAgent.product.detectedCamino_;goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.detectedIphone_;
goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.userAgent.product.detectedIpad_;goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.userAgent.product.detectedAndroid_;goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.userAgent.product.detectedChrome_;
goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.detectedSafari_;goog.userAgent.product.determineVersion_=function(){var b="",c,d;if(goog.userAgent.product.FIREFOX)c=/Firefox\/([0-9.]+)/;else if(goog.userAgent.product.IE||goog.userAgent.product.OPERA)return goog.userAgent.VERSION;else if(goog.userAgent.product.CHROME)c=/Chrome\/([0-9.]+)/;else if(goog.userAgent.product.SAFARI)c=/Safari\/([0-9.]+)/;else if(goog.userAgent.product.IPHONE||goog.userAgent.product.IPAD){c=/Version\/(\S+).*Mobile\/(\S+)/;d=true}else if(goog.userAgent.product.ANDROID)c=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;
else if(goog.userAgent.product.CAMINO)c=/Camino\/([0-9.]+)/;if(c)b=(b=c.exec(goog.userAgent.getUserAgentString()))?d?b[1]+"."+b[2]:b[2]||b[1]:"";return b};goog.userAgent.product.VERSION=goog.userAgent.product.determineVersion_();goog.userAgent.product.isVersion=function(b){return goog.string.compareVersions(goog.userAgent.product.VERSION,b)>=0};goog.editor.BrowserFeature={HAS_IE_RANGES:goog.userAgent.IE,HAS_W3C_RANGES:goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA,HAS_CONTENT_EDITABLE:goog.userAgent.IE||goog.userAgent.WEBKIT||goog.userAgent.OPERA||goog.editor.defines.USE_CONTENTEDITABLE_IN_FIREFOX_3&&goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9"),USE_MUTATION_EVENTS:goog.userAgent.GECKO,HAS_DOM_SUBTREE_MODIFIED_EVENT:goog.userAgent.WEBKIT||goog.editor.defines.USE_CONTENTEDITABLE_IN_FIREFOX_3&&goog.userAgent.GECKO&&
goog.userAgent.isVersion("1.9"),HAS_DOCUMENT_INDEPENDENT_NODES:goog.userAgent.GECKO,PUTS_CURSOR_BEFORE_FIRST_BLOCK_ELEMENT_ON_FOCUS:goog.userAgent.GECKO,CLEARS_SELECTION_WHEN_FOCUS_LEAVES:goog.userAgent.IE||goog.userAgent.WEBKIT||goog.userAgent.OPERA,HAS_UNSELECTABLE_STYLE:goog.userAgent.GECKO||goog.userAgent.WEBKIT,FORMAT_BLOCK_WORKS_FOR_BLOCKQUOTES:goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA,CREATES_MULTIPLE_BLOCKQUOTES:goog.userAgent.WEBKIT||goog.userAgent.OPERA,WRAPS_BLOCKQUOTE_IN_DIVS:goog.userAgent.OPERA,
PREFERS_READY_STATE_CHANGE_EVENT:goog.userAgent.IE,TAB_FIRES_KEYPRESS:!goog.userAgent.IE,NEEDS_99_WIDTH_IN_STANDARDS_MODE:goog.userAgent.IE,USE_DOCUMENT_FOR_KEY_EVENTS:goog.userAgent.GECKO&&!goog.editor.defines.USE_CONTENTEDITABLE_IN_FIREFOX_3,SHOWS_CUSTOM_ATTRS_IN_INNER_HTML:goog.userAgent.IE,COLLAPSES_EMPTY_NODES:goog.userAgent.GECKO||goog.userAgent.WEBKIT||goog.userAgent.OPERA,CONVERT_TO_B_AND_I_TAGS:goog.userAgent.GECKO||goog.userAgent.OPERA,TABS_THROUGH_IMAGES:goog.userAgent.IE,UNESCAPES_URLS_WITHOUT_ASKING:goog.userAgent.IE&&
!goog.userAgent.isVersion("7.0"),HAS_STYLE_WITH_CSS:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.8")||goog.userAgent.WEBKIT||goog.userAgent.OPERA,FOLLOWS_EDITABLE_LINKS:goog.userAgent.WEBKIT,HAS_ACTIVE_ELEMENT:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9"),HAS_SET_CAPTURE:goog.userAgent.IE,EATS_EMPTY_BACKGROUND_COLOR:goog.userAgent.GECKO||goog.userAgent.WEBKIT,SUPPORTS_FOCUSIN:goog.userAgent.IE||goog.userAgent.OPERA,SELECTS_IMAGES_ON_CLICK:goog.userAgent.IE||
goog.userAgent.OPERA,MOVES_STYLE_TO_HEAD:goog.userAgent.WEBKIT,COLLAPSES_SELECTION_ONMOUSEDOWN:goog.userAgent.OPERA,CARET_INSIDE_SELECTION:goog.userAgent.OPERA,FOCUSES_EDITABLE_BODY_ON_HTML_CLICK:goog.userAgent.IE||goog.userAgent.GECKO||goog.userAgent.WEBKIT,USES_KEYDOWN:goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("525"),ADDS_NBSPS_IN_REMOVE_FORMAT:goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("531"),GETS_STUCK_IN_LINKS:goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("528"),
NORMALIZE_CORRUPTS_EMPTY_TEXT_NODES:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9")||goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("531"),NORMALIZE_CORRUPTS_ALL_TEXT_NODES:goog.userAgent.IE,NESTS_SUBSCRIPT_SUPERSCRIPT:goog.userAgent.IE||goog.userAgent.GECKO||goog.userAgent.OPERA,CAN_SELECT_EMPTY_ELEMENT:!goog.userAgent.IE&&!goog.userAgent.WEBKIT,FORGETS_FORMATTING_WHEN_LISTIFYING:goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("526"),
LEAVES_P_WHEN_REMOVING_LISTS:goog.userAgent.IE||goog.userAgent.OPERA,CAN_LISTIFY_BR:!goog.userAgent.IE&&!goog.userAgent.OPERA,DOESNT_OVERRIDE_FONT_SIZE_IN_STYLE_ATTR:!goog.userAgent.WEBKIT,SUPPORTS_HTML5_FILE_DRAGGING:goog.userAgent.product.CHROME&&goog.userAgent.product.isVersion("4")};goog.async={};goog.async.Delay=function(b,c,d){this.listener_=b;this.interval_=c||0;this.handler_=d;this.callback_=goog.bind(this.doAction_,this)};goog.inherits(goog.async.Delay,goog.Disposable);goog.Delay=goog.async.Delay;a=goog.async.Delay.prototype;a.id_=0;a.disposeInternal=function(){goog.async.Delay.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};a.start=function(b){this.stop();this.id_=goog.Timer.callOnce(this.callback_,goog.isDef(b)?b:this.interval_)};
a.stop=function(){this.isActive()&&goog.Timer.clear(this.id_);this.id_=0};a.fire=function(){this.stop();this.doAction_()};a.fireIfActive=function(){this.isActive()&&this.fire()};a.isActive=function(){return this.id_!=0};a.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};goog.functions={};goog.functions.constant=function(b){return function(){return b}};goog.functions.FALSE=goog.functions.constant(false);goog.functions.TRUE=goog.functions.constant(true);goog.functions.identity=function(b){return b};goog.functions.error=function(b){return function(){throw Error(b);}};goog.functions.lock=function(b){return function(){return b.call(this)}};
goog.functions.compose=function(){var b=arguments,c=b.length;return function(){var d;if(c)d=b[c-1].apply(this,arguments);for(var e=c-2;e>=0;e--)d=b[e].call(this,d);return d}};goog.functions.sequence=function(){var b=arguments,c=b.length;return function(){for(var d,e=0;e<c;e++)d=b[e].apply(this,arguments);return d}};goog.functions.and=function(){var b=arguments,c=b.length;return function(){for(var d=0;d<c;d++)if(!b[d].apply(this,arguments))return false;return true}};
goog.functions.or=function(){var b=arguments,c=b.length;return function(){for(var d=0;d<c;d++)if(b[d].apply(this,arguments))return true;return false}};goog.functions.create=function(b){var c=function(){};c.prototype=b.prototype;c=new c;b.apply(c,Array.prototype.slice.call(arguments,1));return c};goog.reflect={};goog.reflect.object=function(b,c){return c};jchemhub.controller.Plugin=function(){goog.events.EventTarget.call(this);this.enabled_=this.activeOnUneditableEditor()};goog.inherits(jchemhub.controller.Plugin,goog.events.EventTarget);a=jchemhub.controller.Plugin.prototype;a.activeOnUneditableEditor=goog.functions.FALSE;a.registerEditorObject=function(b){this.editorObject=b};a.enable=function(b){if(this.editorObject==b)this.enabled_=true;else this.logger.severe("Trying to enable an unregistered field with this plugin.")};
a.disable=function(b){if(this.editorObject==b)this.enabled_=false;else this.logger.severe("Trying to disable an unregistered field with this plugin.")};a.logger=goog.debug.Logger.getLogger("jchemhub.controller.Plugin");a.isEnabled=function(b){return this.editorObject==b?this.enabled_:false};a.disposeInternal=function(){this.editorObject&&this.unregisterEditorObject(this.editorObject);jchemhub.controller.Plugin.superClass_.disposeInternal.call(this)};
a.unregisterEditorObject=function(){if(this.editorObject){this.disable(this.editorObject);this.editorObject=null}};a.autoDispose_=true;a.setAutoDispose=function(b){this.autoDispose_=b};a.isAutoDispose=function(){return this.autoDispose_};jchemhub.controller.Plugin.Op={KEYDOWN:1,KEYPRESS:2,KEYUP:3,SELECTION:4,SHORTCUT:5,EXEC_COMMAND:6,QUERY_COMMAND:7,MOUSEDOWN:8,MOUSEUP:9,MOUSEOVER:10,MOUSEOUT:11,ATOM_MOUSEOVER:12,ATOM_MOUSEOUT:13,BOND_MOUSEOVER:14,BOND_MOUSEOUT:15,BOND_MOUSEDOWN:16};
jchemhub.controller.Plugin.prototype.activeOnUneditableEditors=goog.functions.FALSE;
jchemhub.controller.Plugin.OPCODE=goog.object.transpose(goog.reflect.object(jchemhub.controller.Plugin,{handleKeyDown:jchemhub.controller.Plugin.Op.KEYDOWN,handleKeyPress:jchemhub.controller.Plugin.Op.KEYPRESS,handleKeyUp:jchemhub.controller.Plugin.Op.KEYUP,handleSelectionChange:jchemhub.controller.Plugin.Op.SELECTION,handleKeyboardShortcut:jchemhub.controller.Plugin.Op.SHORTCUT,execCommand:jchemhub.controller.Plugin.Op.EXEC_COMMAND,queryCommandValue:jchemhub.controller.Plugin.Op.QUERY_COMMAND,handleMouseDown:jchemhub.controller.Plugin.Op.MOUSEDOWN,
handleMouseUp:jchemhub.controller.Plugin.Op.MOUSEUP,handleMouseOver:jchemhub.controller.Plugin.Op.MOUSEOVER,handleMouseOut:jchemhub.controller.Plugin.Op.MOUSEOUT,handleAtomMouseOver:jchemhub.controller.Plugin.Op.ATOM_MOUSEOVER,handleAtomMouseOut:jchemhub.controller.Plugin.Op.ATOM_MOUSEOUT,handleBondMouseOver:jchemhub.controller.Plugin.Op.BOND_MOUSEOVER,handleBondMouseOut:jchemhub.controller.Plugin.Op.BOND_MOUSEOUT,handleBondMouseDown:jchemhub.controller.Plugin.Op.BOND_MOUSEDOWN}));
jchemhub.controller.Plugin.prototype.execCommand=function(b){var c=this.isSilentCommand(b);if(!c){goog.userAgent.GECKO&&this.editorObject.stopChangeEvents(true,true);this.editorObject.dispatchBeforeChange()}try{var d=this.execCommandInternal.apply(this,arguments)}finally{if(!c){this.editorObject.dispatchChange();this.editorObject.dispatchSelectionChangeEvent()}}return d};jchemhub.controller.Plugin.prototype.isSilentCommand=goog.functions.FALSE;
jchemhub.controller.Plugin.prototype.isSupportedCommand=function(){return false};goog.exportSymbol("goog.debug.Console",goog.debug.Console);
jchemhub.controller.ReactionEditor=function(b,c){goog.events.EventTarget.call(this);this.originalElement=b;this.id=b.id;this.editableDomHelper=goog.dom.getDomHelper(b);this.plugins_={};this.indexedPlugins_={};for(var d in jchemhub.controller.Plugin.OPCODE)this.indexedPlugins_[d]=[];this.config=new goog.structs.Map(jchemhub.controller.ReactionEditor.defaultConfig);c&&this.config.addAll(c);this.graphics=goog.graphics.createGraphics(b.clientWidth,b.clientHeight);this.graphics.render(this.originalElement);
this.reactionController=new jchemhub.controller.ReactionController(this);this.reactionRenderer=new jchemhub.view.ReactionRenderer(this.reactionController,this.graphics);this.moleculeRenderer=new jchemhub.view.MoleculeRenderer(this,this.graphics);this.isEverModified_=this.isModified_=false;this.eventRegister=new goog.events.EventHandler(this);this.wrappers_=[];this.handleEditorLoad();this.loadState_=jchemhub.controller.ReactionEditor.LoadState_.EDITABLE;this.isEverModified_=this.isModified_=false};
goog.inherits(jchemhub.controller.ReactionEditor,goog.events.EventTarget);jchemhub.controller.ReactionEditor.MUTATION_EVENTS_GECKO=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];jchemhub.controller.ReactionEditor.setActiveEditorId=function(b){jchemhub.controller.ReactionEditor.activeEditorId_=b};jchemhub.controller.ReactionEditor.prototype.getEditableDomHelper=function(){return this.editableDomHelper};
jchemhub.controller.ReactionEditor.getActiveEditorId=function(){return jchemhub.controller.ReactionEditor.activeEditorId_};a=jchemhub.controller.ReactionEditor.prototype;a.clear=function(){this.graphics.clear();this.model=null;var b=new goog.graphics.SolidFill(this.config.get("background").color);this.graphics.drawRect(0,0,this.graphics.getSize().width,this.graphics.getSize().height,null,b)};a.getScaleFactor=function(){return this.reactionRenderer.scale_factor};
a.setScaleFactor=function(b){this.reactionRenderer.scale_factor=b};a.setModel=function(b){this.clear();this.model=b;this.render()};a.render=function(){this.model instanceof jchemhub.model.Reaction&&this.reactionRenderer.render(this.model);this.model instanceof jchemhub.model.Molecule&&this.moleculeRenderer.render(this.model)};a.getModel=function(){return this.model};a.dispatchBeforeChange=function(){this.logger.info("dispatchBeforeChange");this.dispatchEvent(jchemhub.controller.ReactionEditor.EventType.BEFORECHANGE)};
a.invokeShortCircuitingOp_=function(b){for(var c=this.indexedPlugins_[b],d=goog.array.slice(arguments,1),e=0;e<c.length;++e){var f=c[e];if((f.isEnabled(this)||jchemhub.controller.Plugin.IRREPRESSIBLE_OPS[b])&&f[jchemhub.controller.Plugin.OPCODE[b]].apply(f,d))return true}return false};
a.handleKeyboardShortcut_=function(b){if(!b.altKey){var c=goog.userAgent.MAC?b.metaKey:b.ctrlKey;if(c||jchemhub.controller.ReactionEditor.POTENTIAL_SHORTCUT_KEYCODES_[b.keyCode]){var d=b.charCode||b.keyCode;if(d!=17){d=String.fromCharCode(d).toLowerCase();this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.SHORTCUT,b,d,c)&&b.preventDefault()}}}};a.handleChange=function(){this.changeTimerGecko_&&this.changeTimerGecko_.stop();this.isEverModified_=this.isModified_=true};a.handleKeyDown_=function(b){this.handleKeyboardShortcut_(b)};
a.handleKeyPress_=function(b){this.gotGeneratingKey_=true;this.dispatchBeforeChange();this.handleKeyboardShortcut_(b)};a.handleKeyUp_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.KEYUP,b);this.isEventStopped(jchemhub.controller.ReactionEditor.EventType.SELECTIONCHANGE)||this.selectionChangeTimer_.start()};a.handleMouseDown_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.MOUSEDOWN,b)};
a.handleMouseUp_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.MOUSEUP,b)};a.handleAtomMouseOver_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.ATOM_MOUSEOVER,b)};a.handleAtomMouseOut_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.ATOM_MOUSEOUT,b)};a.handleBondMouseOver_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.BOND_MOUSEOVER,b)};
a.handleBondMouseOut_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.BOND_MOUSEOUT,b)};a.handleBondMouseDown_=function(b){this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.BOND_MOUSEDOWN,b)};
a.queryCommandValueInternal_=function(b,c){for(var d=this.indexedPlugins_[jchemhub.controller.Plugin.Op.QUERY_COMMAND],e=0;e<d.length;++e){var f=d[e];if(f.isEnabled(this)&&f.isSupportedCommand(b)&&(c||f.activeOnUneditableEditors()))return f.queryCommandValue(b)}return c?null:false};a.queryCommandValue=function(b){var c=this.isLoaded();if(goog.isString(b))return this.queryCommandValueInternal_(b,c);else{for(var d={},e=0;e<b.length;e++)d[b[e]]=this.queryCommandValueInternal_(b[e],c);return d}};
a.dispatchChange=function(){this.handleChange()};a.dispatchSelectionChangeEvent=function(b){this.dispatchCommandValueChange();this.dispatchEvent({type:jchemhub.controller.ReactionEditor.EventType.SELECTIONCHANGE,originalType:b&&b.type});this.invokeShortCircuitingOp_(jchemhub.controller.Plugin.Op.SELECTION,b)};a.dispatchCommandValueChange=function(b){b?this.dispatchEvent({type:jchemhub.controller.ReactionEditor.EventType.COMMAND_VALUE_CHANGE,commands:b}):this.dispatchEvent(jchemhub.controller.ReactionEditor.EventType.COMMAND_VALUE_CHANGE)};
a.execCommand=function(b){for(var c=arguments,d,e=this.indexedPlugins_[jchemhub.controller.Plugin.Op.EXEC_COMMAND],f=0;f<e.length;++f){var g=e[f];if(g.isEnabled(this)&&g.isSupportedCommand(b)){d=g.execCommand.apply(g,c);break}}return d};
a.registerPlugin=function(b){var c=b.getTrogClassId();this.plugins_[c]&&this.logger.severe("Cannot register the same class of plugin twice ["+c+"]");this.plugins_[c]=b;for(var d in jchemhub.controller.Plugin.OPCODE)b[jchemhub.controller.Plugin.OPCODE[d]]&&this.indexedPlugins_[d].push(b);b.registerEditorObject(this);this.isLoaded()&&b.enable(this)};
a.unregisterPlugin=function(b){var c=b.getTrogClassId();this.plugins_[c]||this.logger.severe("Cannot unregister a plugin that isn't registered.");delete this.plugins_[c];for(var d in jchemhub.controller.Plugin.OPCODE)b[jchemhub.controller.Plugin.OPCODE[d]]&&goog.array.remove(this.indexedPlugins_[d],b);b.unregisterEditorObject(this)};a.isLoaded=function(){return this.loadState_==jchemhub.controller.ReactionEditor.LoadState_.EDITABLE};
jchemhub.controller.ReactionEditor.LoadState_={UNEDITABLE:0,LOADING:1,EDITABLE:2};jchemhub.controller.ReactionEditor.prototype.logger=goog.debug.Logger.getLogger("jchemhub.controller.ReactionEditor");jchemhub.controller.ReactionEditor.EventType={COMMAND_VALUE_CHANGE:"cvc",LOAD:"load",UNLOAD:"unload",BEFORECHANGE:"beforechange",CHANGE:"change",DELAYEDCHANGE:"delayedchange",BEFOREFOCUS:"beforefocus",FOCUS:"focus",BLUR:"blur",BEFORETAB:"beforetab",SELECTIONCHANGE:"selectionchange"};a=jchemhub.controller.ReactionEditor.prototype;
a.disposeInternal=function(){if(this.isLoading()||this.isLoaded())this.logger.warning("Disposing an editor that is in use.");this.getOriginalElement()&&this.execCommand(jchemhub.controller.Command.CLEAR);this.tearDownEditorObject_();this.clearListeners_();this.originalDomHelper=null;if(this.eventRegister){this.eventRegister.dispose();this.eventRegister=null}this.removeAllWrappers();jchemhub.controller.ReactionEditor.getActiveEditorId()==this.id&&jchemhub.controller.ReactionEditor.setActiveEditorId(null);
for(var b in this.plugins_){var c=this.plugins_[b];c.isAutoDispose()&&c.dispose()}delete this.plugins_;jchemhub.controller.ReactionEditor.superClass_.disposeInternal.call(this)};a.getPluginByClassId=function(b){return this.plugins_[b]};a.tearDownEditorObject_=function(){for(var b in this.plugins_){var c=this.plugins_[b];c.activeOnUneditableEditors()||c.disable(this)}this.loadState_=jchemhub.controller.ReactionEditor.LoadState_.UNEDITABLE};a.isLoaded=function(){return this.loadState_==jchemhub.controller.ReactionEditor.LoadState_.EDITABLE};
a.isLoading=function(){return this.loadState_==jchemhub.controller.ReactionEditor.LoadState_.LOADING};a.getOriginalElement=function(){return this.originalElement};a.clearListeners_=function(){this.eventRegister&&this.eventRegister.removeAll()};a.removeAllWrappers=function(){for(var b;b=this.wrappers_.pop();)b.dispose()};a.handleEditorLoad=function(){jchemhub.controller.ReactionEditor.getActiveEditorId();this.setupChangeListeners_();this.dispatchLoadEvent_();for(var b in this.plugins_)this.plugins_[b].enable(this)};
a.dispatchLoadEvent_=function(){this.installStyles();this.logger.info("Dispatching load "+this.id);this.dispatchEvent(jchemhub.controller.ReactionEditor.EventType.LOAD)};a.addListener=function(b,c,d,e){var f=this.getOriginalElement();if(f&&goog.editor.BrowserFeature.USE_DOCUMENT_FOR_KEY_EVENTS)f=f.ownerDocument;this.eventRegister.listen(f,b,c,d,e)};
a.setupChangeListeners_=function(){this.addListener(goog.events.EventType.BLUR,this.dispatchBlur,goog.editor.BrowserFeature.USE_MUTATION_EVENTS);if(goog.editor.BrowserFeature.USE_MUTATION_EVENTS)this.setupMutationEventHandlersGecko();else{this.addListener(["beforecut","beforepaste","drop","dragend"],this.dispatchBeforeChange);this.addListener(["cut","paste"],this.dispatchChange);this.addListener("drop",this.handleDrop_)}this.addListener(goog.userAgent.WEBKIT?"dragend":"dragdrop",this.handleDrop_);
this.addListener(goog.events.EventType.KEYDOWN,this.handleKeyDown_);this.addListener(goog.events.EventType.KEYPRESS,this.handleKeyPress_);this.addListener(goog.events.EventType.KEYUP,this.handleKeyUp_);var b=goog.bind(this.dispatchSelectionChangeEvent,this);this.selectionChangeTimer_=new goog.async.Delay(b,jchemhub.controller.ReactionEditor.SELECTION_CHANGE_FREQUENCY_);this.addListener(goog.events.EventType.MOUSEDOWN,this.handleMouseDown_);this.addListener(goog.events.EventType.MOUSEUP,this.handleMouseUp_);
this.addEventListener(jchemhub.controller.AtomController.EventType.MOUSEOUT,this.handleAtomMouseOut_);this.addEventListener(jchemhub.controller.AtomController.EventType.MOUSEOVER,this.handleAtomMouseOver_);this.addEventListener(jchemhub.controller.BondController.EventType.MOUSEOUT,this.handleBondMouseOut_);this.addEventListener(jchemhub.controller.BondController.EventType.MOUSEOVER,this.handleBondMouseOver_);this.addEventListener(jchemhub.controller.BondController.EventType.MOUSEDOWN,this.handleBondMouseDown_)};
a.setupMutationEventHandlersGecko=function(){if(goog.editor.BrowserFeature.HAS_DOM_SUBTREE_MODIFIED_EVENT)this.eventRegister.listen(this.getElement(),"DOMSubtreeModified",this.handleMutationEventGecko_);else{var b=this.getEditableDomHelper().getDocument();this.eventRegister.listen(b,jchemhub.controller.ReactionEditor.MUTATION_EVENTS_GECKO,this.handleMutationEventGecko_,true);this.eventRegister.listen(b,"DOMAttrModified",goog.bind(this.handleDomAttrChange,this,this.handleMutationEventGecko_),true)}};
a.installStyles=function(){this.cssStyles&&this.shouldLoadAsynchronously()&&goog.style.installStyles(this.cssStyles,this.getElement())};jchemhub.controller.ReactionEditor.SELECTION_CHANGE_FREQUENCY_=250;jchemhub.controller.ReactionEditor.defaultConfig={background:{color:"#F0FFF0"},margin:20};goog.string.StringBuffer=function(b){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"";b!=null&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.set=function(b){this.clear();this.append(b)};
if(goog.userAgent.jscript.HAS_JSCRIPT){goog.string.StringBuffer.prototype.bufferLength_=0;goog.string.StringBuffer.prototype.append=function(b,c){if(c==null)this.buffer_[this.bufferLength_++]=b;else{this.buffer_.push.apply(this.buffer_,arguments);this.bufferLength_=this.buffer_.length}return this}}else goog.string.StringBuffer.prototype.append=function(b,c){this.buffer_+=b;if(c!=null)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};
goog.string.StringBuffer.prototype.clear=function(){if(goog.userAgent.jscript.HAS_JSCRIPT)this.bufferLength_=this.buffer_.length=0;else this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.toString().length};goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var b=this.buffer_.join("");this.clear();b&&this.append(b);return b}else return this.buffer_};goog.ui.ControlContent=goog.typedef;goog.dom.a11y={};goog.dom.a11y.State={ACTIVEDESCENDANT:"activedescendant",AUTOCOMPLETE:"autocomplete",CHECKED:"checked",DISABLED:"disabled",EXPANDED:"expanded",HASPOPUP:"haspopup",LABELLEDBY:"labelledby",LEVEL:"level",PRESSED:"pressed",SELECTED:"selected",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};
goog.dom.a11y.Role={BUTTON:"button",CHECKBOX:"checkbox",COMBOBOX:"combobox",DIALOG:"dialog",LINK:"link",LISTBOX:"listbox",MAIN:"main",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",OPTION:"option",GROUP:"group",SLIDER:"slider",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TOOLBAR:"toolbar"};
goog.dom.a11y.setRole=function(b,c){if(goog.userAgent.GECKO||goog.dom.a11y.noBrowserCheck_){b.setAttribute("role",c);b.roleName=c}};goog.dom.a11y.getRole=function(b){return b.roleName||""};goog.dom.a11y.setState=function(b,c,d){if(goog.userAgent.GECKO||goog.dom.a11y.noBrowserCheck_)b.setAttribute("aria-"+c,d)};goog.dom.a11y.getState=function(b,c){return b.getAttribute("aria-"+c)||""};goog.dom.a11y.getNoBrowserCheck=function(){return!!goog.dom.a11y.noBrowserCheck_};
goog.dom.a11y.setNoBrowserCheck=function(b){goog.dom.a11y.noBrowserCheck_=b};goog.dom.a11y.getActiveDescendant=function(b){var c=goog.dom.a11y.getState(b,goog.dom.a11y.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(b).getElementById(c)};goog.dom.a11y.setActiveDescendant=function(b,c){goog.dom.a11y.setState(b,goog.dom.a11y.State.ACTIVEDESCENDANT,c?c.id:"")};goog.events.KeyCodes={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,
NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};
goog.events.KeyCodes.isTextModifyingKeyEvent=function(b){if(b.altKey&&!b.ctrlKey||b.metaKey||b.keyCode>=goog.events.KeyCodes.F1&&b.keyCode<=goog.events.KeyCodes.F12)return false;switch(b.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.END:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.PRINT_SCREEN:return false;
default:return true}};goog.events.KeyCodes.firesKeyPressEvent=function(b,c,d,e,f){if(!goog.userAgent.IE&&!(goog.userAgent.WEBKIT&&goog.userAgent.isVersion("525")))return true;if(goog.userAgent.MAC&&f)return goog.events.KeyCodes.isCharacterKey(b);if(f&&!e)return false;if(goog.userAgent.IE&&!d&&(c==goog.events.KeyCodes.CTRL||c==goog.events.KeyCodes.ALT))return false;if(goog.userAgent.IE&&e&&c==b)return false;switch(b){case goog.events.KeyCodes.ENTER:return true;case goog.events.KeyCodes.ESC:return!goog.userAgent.WEBKIT}return goog.events.KeyCodes.isCharacterKey(b)};
goog.events.KeyCodes.isCharacterKey=function(b){if(b>=goog.events.KeyCodes.ZERO&&b<=goog.events.KeyCodes.NINE)return true;if(b>=goog.events.KeyCodes.NUM_ZERO&&b<=goog.events.KeyCodes.NUM_MULTIPLY)return true;if(b>=goog.events.KeyCodes.A&&b<=goog.events.KeyCodes.Z)return true;switch(b){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return true;
default:return false}};goog.events.KeyHandler=function(b){goog.events.EventTarget.call(this);b&&this.attach(b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);a=goog.events.KeyHandler.prototype;a.element_=null;a.keyPressKey_=null;a.keyDownKey_=null;a.keyUpKey_=null;a.lastKey_=-1;a.keyCode_=-1;goog.events.KeyHandler.EventType={KEY:"key"};
goog.events.KeyHandler.safariKey_={"3":goog.events.KeyCodes.ENTER,"12":goog.events.KeyCodes.NUMLOCK,"63232":goog.events.KeyCodes.UP,"63233":goog.events.KeyCodes.DOWN,"63234":goog.events.KeyCodes.LEFT,"63235":goog.events.KeyCodes.RIGHT,"63236":goog.events.KeyCodes.F1,"63237":goog.events.KeyCodes.F2,"63238":goog.events.KeyCodes.F3,"63239":goog.events.KeyCodes.F4,"63240":goog.events.KeyCodes.F5,"63241":goog.events.KeyCodes.F6,"63242":goog.events.KeyCodes.F7,"63243":goog.events.KeyCodes.F8,"63244":goog.events.KeyCodes.F9,
"63245":goog.events.KeyCodes.F10,"63246":goog.events.KeyCodes.F11,"63247":goog.events.KeyCodes.F12,"63248":goog.events.KeyCodes.PRINT_SCREEN,"63272":goog.events.KeyCodes.DELETE,"63273":goog.events.KeyCodes.HOME,"63275":goog.events.KeyCodes.END,"63276":goog.events.KeyCodes.PAGE_UP,"63277":goog.events.KeyCodes.PAGE_DOWN,"63289":goog.events.KeyCodes.NUMLOCK,"63302":goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,
"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.mozKeyCodeToKeyCodeMap_={61:187,59:186};goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("525");a=goog.events.KeyHandler.prototype;
a.handleKeyDown_=function(b){if(goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(b.keyCode,this.lastKey_,b.shiftKey,b.ctrlKey,b.altKey))this.handleEvent(b);else this.keyCode_=goog.userAgent.GECKO&&b.keyCode in goog.events.KeyHandler.mozKeyCodeToKeyCodeMap_?goog.events.KeyHandler.mozKeyCodeToKeyCodeMap_[b.keyCode]:b.keyCode};a.handleKeyup_=function(){this.keyCode_=this.lastKey_=-1};
a.handleEvent=function(b){var c=b.getBrowserEvent(),d,e;if(goog.userAgent.IE&&b.type==goog.events.EventType.KEYPRESS){d=this.keyCode_;e=d!=goog.events.KeyCodes.ENTER&&d!=goog.events.KeyCodes.ESC?c.keyCode:0}else if(goog.userAgent.WEBKIT&&b.type==goog.events.EventType.KEYPRESS){d=this.keyCode_;e=c.charCode>=0&&c.charCode<63232&&goog.events.KeyCodes.isCharacterKey(d)?c.charCode:0}else if(goog.userAgent.OPERA){d=this.keyCode_;e=goog.events.KeyCodes.isCharacterKey(d)?c.keyCode:0}else{d=c.keyCode||this.keyCode_;
e=c.charCode||0;if(goog.userAgent.MAC&&e==goog.events.KeyCodes.QUESTION_MARK&&!d)d=goog.events.KeyCodes.SLASH}var f=d,g=c.keyIdentifier;if(d)if(d>=63232&&d in goog.events.KeyHandler.safariKey_)f=goog.events.KeyHandler.safariKey_[d];else{if(d==25&&b.shiftKey)f=9}else if(g&&g in goog.events.KeyHandler.keyIdentifier_)f=goog.events.KeyHandler.keyIdentifier_[g];b=f==this.lastKey_;this.lastKey_=f;c=new goog.events.KeyEvent(f,e,b,c);try{this.dispatchEvent(c)}finally{c.dispose()}};a.getElement=function(){return this.element_};
a.attach=function(b){this.keyUpKey_&&this.detach();this.element_=b;this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this);this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,false,this);this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,false,this)};
a.detach=function(){if(this.keyPressKey_){goog.events.unlistenByKey(this.keyPressKey_);goog.events.unlistenByKey(this.keyDownKey_);goog.events.unlistenByKey(this.keyUpKey_);this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null}this.element_=null;this.lastKey_=-1};a.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this);this.detach()};
goog.events.KeyEvent=function(b,c,d,e){goog.events.BrowserEvent.call(this,e);this.type=goog.events.KeyHandler.EventType.KEY;this.keyCode=b;this.charCode=c;this.repeat=d};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);goog.ui.ControlRenderer=function(){};goog.addSingletonGetter(goog.ui.ControlRenderer);goog.ui.ControlRenderer.getCustomRenderer=function(b,c){b=new b;b.getCssClass=function(){return c};return b};goog.ui.ControlRenderer.CSS_CLASS="goog-control";goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[];a=goog.ui.ControlRenderer.prototype;a.getAriaRole=function(){};a.createDom=function(b){return b.getDomHelper().createDom("div",this.getClassNames(b).join(" "),b.getContent())};a.getContentElement=function(b){return b};
a.enableClassName=function(b,c,d){if(b=b.getElement?b.getElement():b)if(goog.userAgent.IE&&!goog.userAgent.isVersion("7")){var e=this.getAppliedCombinedClassNames_(goog.dom.classes.get(b),c);e.push(c);goog.partial(d?goog.dom.classes.add:goog.dom.classes.remove,b).apply(null,e)}else goog.dom.classes.enable(b,c,d)};a.enableExtraClassName=function(b,c,d){this.enableClassName(b,c,d)};a.canDecorate=function(){return true};
a.decorate=function(b,c){c.id&&b.setId(c.id);var d=this.getContentElement(c);d&&d.firstChild?b.setContentInternal(d.firstChild.nextSibling?goog.array.clone(d.childNodes):d.firstChild):b.setContentInternal(null);var e=0,f=this.getCssClass(),g=this.getStructuralCssClass(),h=false,i=false;d=false;var j=goog.dom.classes.get(c);goog.array.forEach(j,function(l){if(!h&&l==f){h=true;if(g==f)i=true}else if(!i&&l==g)i=true;else e|=this.getStateFromClass(l)},this);b.setStateInternal(e);if(!h){j.push(f);if(g==
f)i=true}i||j.push(g);(b=b.getExtraClassNames())&&j.push.apply(j,b);if(goog.userAgent.IE&&!goog.userAgent.isVersion("7")){var k=this.getAppliedCombinedClassNames_(j);if(k.length>0){j.push.apply(j,k);d=true}}if(!h||!i||b||d)goog.dom.classes.set(c,j.join(" "));return c};a.initializeDom=function(b){b.isRightToLeft()&&this.setRightToLeft(b.getElement(),true);b.isEnabled()&&this.setFocusable(b,b.isVisible())};
a.setAriaRole=function(b){if(goog.userAgent.GECKO){var c=this.getAriaRole();c&&goog.dom.a11y.setRole(b,c)}};a.setAllowTextSelection=function(b,c){goog.style.setUnselectable(b,!c,!goog.userAgent.IE&&!goog.userAgent.OPERA)};a.setRightToLeft=function(b,c){this.enableClassName(b,this.getStructuralCssClass()+"-rtl",c)};a.isFocusable=function(b){var c;if(b.isSupportedState(goog.ui.Component.State.FOCUSED)&&(c=b.getKeyEventTarget()))return goog.dom.isFocusableTabIndex(c);return false};
a.setFocusable=function(b,c){var d;if(b.isSupportedState(goog.ui.Component.State.FOCUSED)&&(d=b.getKeyEventTarget())){if(!c&&b.isFocused()){try{d.blur()}catch(e){}b.isFocused()&&b.handleBlur(null)}goog.dom.isFocusableTabIndex(d)!=c&&goog.dom.setFocusableTabIndex(d,c)}};a.setVisible=function(b,c){goog.style.showElement(b,c)};a.setState=function(b,c,d){var e=b.getElement();if(e){var f=this.getClassForState(c);f&&this.enableClassName(b,f,d);this.updateAriaState(e,c,d)}};
a.updateAriaState=function(b,c,d){if(goog.userAgent.GECKO){if(!goog.ui.ControlRenderer.ARIA_STATE_MAP_)goog.ui.ControlRenderer.ARIA_STATE_MAP_=goog.object.create(goog.ui.Component.State.DISABLED,goog.dom.a11y.State.DISABLED,goog.ui.Component.State.ACTIVE,goog.dom.a11y.State.PRESSED,goog.ui.Component.State.SELECTED,goog.dom.a11y.State.SELECTED,goog.ui.Component.State.CHECKED,goog.dom.a11y.State.CHECKED,goog.ui.Component.State.OPENED,goog.dom.a11y.State.EXPANDED);(c=goog.ui.ControlRenderer.ARIA_STATE_MAP_[c])&&
goog.dom.a11y.setState(b,c,d)}};a.setContent=function(b,c){var d=this.getContentElement(b);if(d){goog.dom.removeChildren(d);if(c)if(goog.isString(c))goog.dom.setTextContent(d,c);else{b=function(e){if(e){var f=goog.dom.getOwnerDocument(d);d.appendChild(goog.isString(e)?f.createTextNode(e):e)}};if(goog.isArray(c))goog.array.forEach(c,b);else goog.isArrayLike(c)&&!("nodeType"in c)?goog.array.forEach(goog.array.clone(c),b):b(c)}}};a.getKeyEventTarget=function(b){return b.getElement()};a.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS};
a.getIe6ClassCombinations=function(){return[]};a.getStructuralCssClass=function(){return this.getCssClass()};a.getClassNames=function(b){var c=this.getCssClass(),d=[c],e=this.getStructuralCssClass();e!=c&&d.push(e);c=this.getClassNamesForState(b.getState());d.push.apply(d,c);(b=b.getExtraClassNames())&&d.push.apply(d,b);goog.userAgent.IE&&!goog.userAgent.isVersion("7")&&d.push.apply(d,this.getAppliedCombinedClassNames_(d));return d};
a.getAppliedCombinedClassNames_=function(b,c){var d=[];if(c)b=b.concat([c]);goog.array.forEach(this.getIe6ClassCombinations(),function(e){if(goog.array.every(e,goog.partial(goog.array.contains,b))&&(!c||goog.array.contains(e,c)))d.push(e.join("_"))});return d};a.getClassNamesForState=function(b){for(var c=[];b;){var d=b&-b;c.push(this.getClassForState(d));b&=~d}return c};a.getClassForState=function(b){this.classByState_||this.createClassByStateMap_();return this.classByState_[b]};
a.getStateFromClass=function(b){this.stateByClass_||this.createStateByClassMap_();b=parseInt(this.stateByClass_[b],10);return isNaN(b)?0:b};
a.createClassByStateMap_=function(){var b=this.getStructuralCssClass();this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,b+"-disabled",goog.ui.Component.State.HOVER,b+"-hover",goog.ui.Component.State.ACTIVE,b+"-active",goog.ui.Component.State.SELECTED,b+"-selected",goog.ui.Component.State.CHECKED,b+"-checked",goog.ui.Component.State.FOCUSED,b+"-focused",goog.ui.Component.State.OPENED,b+"-open")};
a.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();this.stateByClass_=goog.object.transpose(this.classByState_)};goog.ui.registry={};goog.ui.registry.getDefaultRenderer=function(b){for(var c;b;){c=goog.getUid(b);if(c=goog.ui.registry.defaultRenderers_[c])break;b=b.superClass_?b.superClass_.constructor:null}if(c)return goog.isFunction(c.getInstance)?c.getInstance():new c;return null};
goog.ui.registry.setDefaultRenderer=function(b,c){if(!goog.isFunction(b))throw Error("Invalid component class "+b);if(!goog.isFunction(c))throw Error("Invalid renderer class "+c);b=goog.getUid(b);goog.ui.registry.defaultRenderers_[b]=c};goog.ui.registry.getDecoratorByClassName=function(b){return b in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[b]():null};
goog.ui.registry.setDecoratorByClassName=function(b,c){if(!b)throw Error("Invalid class name "+b);if(!goog.isFunction(c))throw Error("Invalid decorator function "+c);goog.ui.registry.decoratorFunctions_[b]=c};goog.ui.registry.getDecorator=function(b){for(var c=goog.dom.classes.get(b),d=0,e=c.length;d<e;d++)if(b=goog.ui.registry.getDecoratorByClassName(c[d]))return b;return null};goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={}};
goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={};goog.ui.decorate=function(b){var c=goog.ui.registry.getDecorator(b);c&&c.decorate(b);return c};goog.ui.Control=function(b,c,d){goog.ui.Component.call(this,d);this.renderer_=c||goog.ui.registry.getDefaultRenderer(this.constructor);this.setContentInternal(b)};goog.inherits(goog.ui.Control,goog.ui.Component);goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName;goog.ui.Control.getDecorator=goog.ui.registry.getDecorator;goog.ui.Control.decorate=goog.ui.decorate;a=goog.ui.Control.prototype;a.content_=null;a.state_=0;
a.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED;a.autoStates_=goog.ui.Component.State.ALL;a.statesWithTransitionEvents_=0;a.visible_=true;a.extraClassNames_=null;a.handleMouseEvents_=true;a.allowTextSelection_=false;a.isHandleMouseEvents=function(){return this.handleMouseEvents_};
a.setHandleMouseEvents=function(b){this.isInDocument()&&b!=this.handleMouseEvents_&&this.enableMouseEventHandling_(b);this.handleMouseEvents_=b};a.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};a.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)};a.getRenderer=function(){return this.renderer_};
a.setRenderer=function(b){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null);this.renderer_=b};a.getExtraClassNames=function(){return this.extraClassNames_};a.addClassName=function(b){if(b){if(this.extraClassNames_)goog.array.contains(this.extraClassNames_,b)||this.extraClassNames_.push(b);else this.extraClassNames_=[b];this.renderer_.enableExtraClassName(this,b,true)}};
a.removeClassName=function(b){if(b&&this.extraClassNames_){goog.array.remove(this.extraClassNames_,b);if(this.extraClassNames_.length==0)this.extraClassNames_=null;this.renderer_.enableExtraClassName(this,b,false)}};a.enableClassName=function(b,c){c?this.addClassName(b):this.removeClassName(b)};
a.createDom=function(){var b=this.renderer_.createDom(this);this.setElementInternal(b);this.renderer_.setAriaRole(b);this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(b,false);this.isVisible()||this.renderer_.setVisible(b,false)};a.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};a.canDecorate=function(b){return this.renderer_.canDecorate(b)};
a.decorateInternal=function(b){b=this.renderer_.decorate(this,b);this.setElementInternal(b);this.renderer_.setAriaRole(b);this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(b,false);this.visible_=b.style.display!="none"};
a.enterDocument=function(){goog.ui.Control.superClass_.enterDocument.call(this);this.renderer_.initializeDom(this);if(this.supportedStates_&~goog.ui.Component.State.DISABLED){this.isHandleMouseEvents()&&this.enableMouseEventHandling_(true);if(this.isSupportedState(goog.ui.Component.State.FOCUSED)){var b=this.getKeyEventTarget();if(b){var c=this.getKeyHandler();c.attach(b);this.getHandler().listen(c,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(b,goog.events.EventType.FOCUS,this.handleFocus).listen(b,
goog.events.EventType.BLUR,this.handleBlur)}}}};
a.enableMouseEventHandling_=function(b){var c=this.getHandler(),d=this.getElement();if(b){c.listen(d,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(d,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(d,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(d,goog.events.EventType.MOUSEOUT,this.handleMouseOut);goog.userAgent.IE&&c.listen(d,goog.events.EventType.DBLCLICK,this.handleDblClick)}else{c.unlisten(d,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(d,
goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(d,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(d,goog.events.EventType.MOUSEOUT,this.handleMouseOut);goog.userAgent.IE&&c.unlisten(d,goog.events.EventType.DBLCLICK,this.handleDblClick)}};a.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,false)};
a.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this);if(this.keyHandler_){this.keyHandler_.dispose();delete this.keyHandler_}delete this.renderer_;this.extraClassNames_=this.content_=null};a.getContent=function(){return this.content_};a.setContent=function(b){this.renderer_.setContent(this.getElement(),b);this.setContentInternal(b)};a.setContentInternal=function(b){this.content_=b};
a.getCaption=function(){var b=this.getContent();if(!b||goog.isString(b))return b;return(b=goog.isArray(b)?goog.array.map(b,goog.dom.getTextContent).join(""):goog.dom.getTextContent(b))&&goog.string.trim(b)};a.setCaption=function(b){this.setContent(b)};a.setRightToLeft=function(b){goog.ui.Control.superClass_.setRightToLeft.call(this,b);var c=this.getElement();c&&this.renderer_.setRightToLeft(c,b)};a.isAllowTextSelection=function(){return this.allowTextSelection_};
a.setAllowTextSelection=function(b){this.allowTextSelection_=b;var c=this.getElement();c&&this.renderer_.setAllowTextSelection(c,b)};a.isVisible=function(){return this.visible_};a.setVisible=function(b,c){if(c||this.visible_!=b&&this.dispatchEvent(b?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){(c=this.getElement())&&this.renderer_.setVisible(c,b);this.isEnabled()&&this.renderer_.setFocusable(this,b);this.visible_=b;return true}return false};a.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)};
a.isParentDisabled_=function(){var b=this.getParent();return!!b&&typeof b.isEnabled=="function"&&!b.isEnabled()};a.setEnabled=function(b){if(!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!b)){if(!b){this.setActive(false);this.setHighlighted(false)}this.isVisible()&&this.renderer_.setFocusable(this,b);this.setState(goog.ui.Component.State.DISABLED,!b)}};a.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)};
a.setHighlighted=function(b){this.isTransitionAllowed(goog.ui.Component.State.HOVER,b)&&this.setState(goog.ui.Component.State.HOVER,b)};a.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)};a.setActive=function(b){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,b)&&this.setState(goog.ui.Component.State.ACTIVE,b)};a.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)};
a.setSelected=function(b){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,b)&&this.setState(goog.ui.Component.State.SELECTED,b)};a.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)};a.setChecked=function(b){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,b)&&this.setState(goog.ui.Component.State.CHECKED,b)};a.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)};
a.setFocused=function(b){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,b)&&this.setState(goog.ui.Component.State.FOCUSED,b)};a.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)};a.setOpen=function(b){this.isTransitionAllowed(goog.ui.Component.State.OPENED,b)&&this.setState(goog.ui.Component.State.OPENED,b)};a.getState=function(){return this.state_};a.hasState=function(b){return!!(this.state_&b)};
a.setState=function(b,c){if(this.isSupportedState(b)&&c!=this.hasState(b)){this.renderer_.setState(this,b,c);this.state_=c?this.state_|b:this.state_&~b}};a.setStateInternal=function(b){this.state_=b};a.isSupportedState=function(b){return!!(this.supportedStates_&b)};
a.setSupportedState=function(b,c){if(this.isInDocument()&&this.hasState(b)&&!c)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!c&&this.hasState(b)&&this.setState(b,false);this.supportedStates_=c?this.supportedStates_|b:this.supportedStates_&~b};a.isAutoState=function(b){return!!(this.autoStates_&b)&&this.isSupportedState(b)};a.setAutoStates=function(b,c){this.autoStates_=c?this.autoStates_|b:this.autoStates_&~b};
a.isDispatchTransitionEvents=function(b){return!!(this.statesWithTransitionEvents_&b)&&this.isSupportedState(b)};a.setDispatchTransitionEvents=function(b,c){this.statesWithTransitionEvents_=c?this.statesWithTransitionEvents_|b:this.statesWithTransitionEvents_&~b};a.isTransitionAllowed=function(b,c){return this.isSupportedState(b)&&this.hasState(b)!=c&&(!(this.statesWithTransitionEvents_&b)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(b,c)))&&!this.isDisposed()};
a.handleMouseOver=function(b){b.relatedTarget&&!goog.dom.contains(this.getElement(),b.relatedTarget)&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(true)};
a.handleMouseOut=function(b){if(b.relatedTarget&&!goog.dom.contains(this.getElement(),b.relatedTarget)&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(false);this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(false)}};
a.handleMouseDown=function(b){if(this.isEnabled()){this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(true);if(b.isButton(goog.events.BrowserEvent.MouseButton.LEFT)){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(true);this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()}}!this.isAllowTextSelection()&&b.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&b.preventDefault()};
a.handleMouseUp=function(b){if(this.isEnabled()){this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(true);this.isActive()&&this.performActionInternal(b)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(false)}};a.handleDblClick=function(b){this.isEnabled()&&this.performActionInternal(b)};
a.performActionInternal=function(b){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked());this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(true);this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var c=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);if(b)for(var d=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],e,f=0;e=d[f];f++)c[e]=b[e];return this.dispatchEvent(c)};
a.handleFocus=function(){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(true)};a.handleBlur=function(){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(false);this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(false)};a.handleKeyEvent=function(b){if(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(b)){b.preventDefault();b.stopPropagation();return true}return false};
a.handleKeyEventInternal=function(b){return b.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(b)};goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer);goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)});goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer);goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator";goog.ui.MenuSeparatorRenderer.prototype.createDom=function(b){return b.getDomHelper().createDom("div",this.getCssClass())};
goog.ui.MenuSeparatorRenderer.prototype.decorate=function(b,c){if(c.tagName=="HR"){var d=c;c=this.createDom(b);goog.dom.insertSiblingBefore(c,d);goog.dom.removeNode(d)}else goog.dom.classes.add(c,this.getCssClass());return c};goog.ui.MenuSeparatorRenderer.prototype.setContent=function(){};goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS};goog.ui.Separator=function(b,c){goog.ui.Control.call(this,null,b||goog.ui.MenuSeparatorRenderer.getInstance(),c);this.setSupportedState(goog.ui.Component.State.DISABLED,false);this.setSupportedState(goog.ui.Component.State.HOVER,false);this.setSupportedState(goog.ui.Component.State.ACTIVE,false);this.setSupportedState(goog.ui.Component.State.FOCUSED,false);this.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.Separator,goog.ui.Control);
goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);goog.dom.a11y.setRole(this.getElement(),"separator")};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.ContainerRenderer=function(){};goog.addSingletonGetter(goog.ui.ContainerRenderer);goog.ui.ContainerRenderer.getCustomRenderer=function(b,c){b=new b;b.getCssClass=function(){return c};return b};goog.ui.ContainerRenderer.CSS_CLASS="goog-container";a=goog.ui.ContainerRenderer.prototype;a.getAriaRole=function(){};a.hasTabIndex=function(b){if(b){var c=b.getAttributeNode("tabindex");if(c&&c.specified){b=b.tabIndex;return goog.isNumber(b)&&b>=0}}return false};
a.enableTabIndex=function(b,c){if(b)b.tabIndex=c?0:-1};a.createDom=function(b){return b.getDomHelper().createDom("div",this.getClassNames(b).join(" "))};a.getContentElement=function(b){return b};a.canDecorate=function(b){return b.tagName=="DIV"};
a.decorate=function(b,c){c.id&&b.setId(c.id);var d=this.getCssClass(),e=false,f=goog.dom.classes.get(c);f&&goog.array.forEach(f,function(g){if(g==d)e=true;else g&&this.setStateFromClassName(b,g,d)},this);e||goog.dom.classes.add(c,d);this.decorateChildren(b,c);return c};a.setStateFromClassName=function(b,c,d){if(c==d+"-disabled")b.setEnabled(false);else if(c==d+"-horizontal")b.setOrientation(goog.ui.Container.Orientation.HORIZONTAL);else c==d+"-vertical"&&b.setOrientation(goog.ui.Container.Orientation.VERTICAL)};
a.decorateChildren=function(b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(d.nodeType==goog.dom.NodeType.ELEMENT){var f=this.getDecoratorForChild(d);if(f){f.setElementInternal(d);b.isEnabled()||f.setEnabled(false);b.addChild(f);f.decorate(d)}}else if(!d.nodeValue||goog.string.trim(d.nodeValue)=="")c.removeChild(d);d=e}};a.getDecoratorForChild=function(b){return goog.ui.registry.getDecorator(b)};
a.initializeDom=function(b){b=b.getElement();goog.style.setUnselectable(b,true,goog.userAgent.GECKO);if(goog.userAgent.IE)b.hideFocus=true;var c=this.getAriaRole();c&&goog.dom.a11y.setRole(b,c)};a.getKeyEventTarget=function(b){return b.getElement()};a.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS};
a.getClassNames=function(b){var c=this.getCssClass(),d=b.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;d=[c,d?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};a.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL};goog.ui.Container=function(b,c,d){goog.ui.Component.call(this,d);this.renderer_=c||goog.ui.ContainerRenderer.getInstance();this.orientation_=b||this.renderer_.getDefaultOrientation()};goog.inherits(goog.ui.Container,goog.ui.Component);goog.ui.Container.EventType={AFTER_SHOW:"aftershow"};goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"};a=goog.ui.Container.prototype;a.keyEventTarget_=null;a.keyHandler_=null;a.renderer_=null;a.orientation_=null;a.visible_=true;a.enabled_=true;
a.focusable_=true;a.highlightedIndex_=-1;a.openItem_=null;a.mouseButtonPressed_=false;a.allowFocusableChildren_=false;a.childElementIdMap_=null;a.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
a.setKeyEventTarget=function(b){if(this.focusable_){var c=this.getKeyEventTarget(),d=this.isInDocument();this.keyEventTarget_=b;var e=this.getKeyEventTarget();if(d){this.keyEventTarget_=c;this.enableFocusHandling_(false);this.keyEventTarget_=b;this.getKeyHandler().attach(e);this.enableFocusHandling_(true)}}else throw Error("Can't set key event target for container that doesn't support keyboard focus!");};a.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))};
a.getRenderer=function(){return this.renderer_};a.setRenderer=function(b){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=b};a.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};a.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};a.canDecorate=function(b){return this.renderer_.canDecorate(b)};
a.decorateInternal=function(b){this.setElementInternal(this.renderer_.decorate(this,b));if(b.style.display=="none")this.visible_=false};
a.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this);this.forEachChild(function(c){c.isInDocument()&&this.registerChildId_(c)},this);var b=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,true);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,
goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(b,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(b),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(b,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT],this.handleChildMouseEvents);this.isFocusable()&&this.enableFocusHandling_(true)};
a.enableFocusHandling_=function(b){var c=this.getHandler(),d=this.getKeyEventTarget();b?c.listen(d,goog.events.EventType.FOCUS,this.handleFocus).listen(d,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):c.unlisten(d,goog.events.EventType.FOCUS,this.handleFocus).unlisten(d,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)};
a.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(false);this.mouseButtonPressed_=false;goog.ui.Container.superClass_.exitDocument.call(this)};a.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this);if(this.keyHandler_){this.keyHandler_.dispose();this.keyHandler_=null}this.renderer_=this.openItem_=this.childElementIdMap_=null};a.handleEnterItem=function(){return true};
a.handleHighlightItem=function(b){var c=this.indexOfChild(b.target);if(c>-1&&c!=this.highlightedIndex_){var d=this.getHighlighted();d&&d.setHighlighted(false);this.highlightedIndex_=c;d=this.getHighlighted();this.isMouseButtonPressed()&&d.setActive(true);if(this.openItem_&&d!=this.openItem_)d.isSupportedState(goog.ui.Component.State.OPENED)?d.setOpen(true):this.openItem_.setOpen(false)}goog.dom.a11y.setState(this.getElement(),goog.dom.a11y.State.ACTIVEDESCENDANT,b.target.getElement().id)};
a.handleUnHighlightItem=function(b){if(b.target==this.getHighlighted())this.highlightedIndex_=-1;goog.dom.a11y.setState(this.getElement(),goog.dom.a11y.State.ACTIVEDESCENDANT,"")};a.handleOpenItem=function(b){if((b=b.target)&&b!=this.openItem_&&b.getParent()==this){this.openItem_&&this.openItem_.setOpen(false);this.openItem_=b}};a.handleCloseItem=function(b){if(b.target==this.openItem_)this.openItem_=null};
a.handleMouseDown=function(b){this.enabled_&&this.setMouseButtonPressed(true);var c=this.getKeyEventTarget();this.renderer_.hasTabIndex(c)?c.focus():b.preventDefault()};a.handleDocumentMouseUp=function(){this.setMouseButtonPressed(false)};
a.handleChildMouseEvents=function(b){var c=this.getOwnerControl(b.target);if(c)switch(b.type){case goog.events.EventType.MOUSEDOWN:c.handleMouseDown(b);break;case goog.events.EventType.MOUSEUP:c.handleMouseUp(b);break;case goog.events.EventType.MOUSEOVER:c.handleMouseOver(b);break;case goog.events.EventType.MOUSEOUT:c.handleMouseOut(b);break}};
a.getOwnerControl=function(b){if(this.childElementIdMap_)for(var c=this.getElement();b&&b.parentNode&&b!=c;){var d=b.id;if(d in this.childElementIdMap_)return this.childElementIdMap_[d];b=b.parentNode}return null};a.handleFocus=function(){};a.handleBlur=function(){this.setHighlightedIndex(-1);this.setMouseButtonPressed(false);this.openItem_&&this.openItem_.setOpen(false)};
a.handleKeyEvent=function(b){if(this.isEnabled()&&this.isVisible()&&this.getChildCount()!=0&&this.handleKeyEventInternal(b)){b.preventDefault();b.stopPropagation();return true}return false};
a.handleKeyEventInternal=function(b){var c=this.getHighlighted();if(c&&typeof c.handleKeyEvent=="function"&&c.handleKeyEvent(b))return true;if(this.openItem_&&this.openItem_!=c&&typeof this.openItem_.handleKeyEvent=="function"&&this.openItem_.handleKeyEvent(b))return true;switch(b.keyCode){case goog.events.KeyCodes.ESC:if(this.isFocusable())this.getKeyEventTarget().blur();else return false;break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();
break;case goog.events.KeyCodes.UP:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightPrevious();else return false;break;case goog.events.KeyCodes.LEFT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return false;break;case goog.events.KeyCodes.DOWN:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightNext();else return false;break;case goog.events.KeyCodes.RIGHT:if(this.orientation_==
goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return false;break;default:return false}return true};a.registerChildId_=function(b){var c=b.getElement();c=c.id||(c.id=b.getId());if(!this.childElementIdMap_)this.childElementIdMap_={};this.childElementIdMap_[c]=b};a.addChild=function(b,c){goog.ui.Container.superClass_.addChild.call(this,b,c)};
a.addChildAt=function(b,c,d){b.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,true);b.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,true);if(this.isFocusable()||!this.isFocusableChildrenAllowed())b.setSupportedState(goog.ui.Component.State.FOCUSED,false);b.setHandleMouseEvents(false);goog.ui.Container.superClass_.addChildAt.call(this,b,c,d);d&&this.isInDocument()&&this.registerChildId_(b);c<=this.highlightedIndex_&&this.highlightedIndex_++};
a.removeChild=function(b,c){var d=this.indexOfChild(b);if(d!=-1)if(d==this.highlightedIndex_)b.setHighlighted(false);else d<this.highlightedIndex_&&this.highlightedIndex_--;(d=b.getElement())&&d.id&&goog.object.remove(this.childElementIdMap_,d.id);b=goog.ui.Container.superClass_.removeChild.call(this,b,c);b.setHandleMouseEvents(true);return b};a.getOrientation=function(){return this.orientation_};
a.setOrientation=function(b){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=b};a.isVisible=function(){return this.visible_};
a.setVisible=function(b,c){if(c||this.visible_!=b&&this.dispatchEvent(b?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=b;var d=this.getElement();if(d){goog.style.showElement(d,b);this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_);this.visible_&&!c&&this.dispatchEvent(goog.ui.Container.EventType.AFTER_SHOW)}return true}return false};a.isEnabled=function(){return this.enabled_};
a.setEnabled=function(b){if(this.enabled_!=b&&this.dispatchEvent(b?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)){if(b){this.enabled_=true;this.forEachChild(function(c){if(c.wasDisabled)delete c.wasDisabled;else c.setEnabled(true)})}else{this.forEachChild(function(c){if(c.isEnabled())c.setEnabled(false);else c.wasDisabled=true});this.enabled_=false;this.setMouseButtonPressed(false)}this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),b&&this.visible_)}};
a.isFocusable=function(){return this.focusable_};a.setFocusable=function(b){b!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(b);this.focusable_=b;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),b)};a.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_};a.setFocusableChildrenAllowed=function(b){this.allowFocusableChildren_=b};a.getHighlightedIndex=function(){return this.highlightedIndex_};
a.setHighlightedIndex=function(b){if(b=this.getChildAt(b))b.setHighlighted(true);else this.highlightedIndex_>-1&&this.getHighlighted().setHighlighted(false)};a.setHighlighted=function(b){this.setHighlightedIndex(this.indexOfChild(b))};a.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};a.highlightFirst=function(){this.highlightHelper(function(b,c){return(b+1)%c},this.getChildCount()-1)};a.highlightLast=function(){this.highlightHelper(function(b,c){b--;return b<0?c-1:b},0)};
a.highlightNext=function(){this.highlightHelper(function(b,c){return(b+1)%c},this.highlightedIndex_)};a.highlightPrevious=function(){this.highlightHelper(function(b,c){b--;return b<0?c-1:b},this.highlightedIndex_)};a.highlightHelper=function(b,c){c=c<0?this.indexOfChild(this.openItem_):c;var d=this.getChildCount();c=b.call(this,c,d);for(var e=0;e<=d;){var f=this.getChildAt(c);if(f&&this.canHighlightItem(f)){this.setHighlightedIndexFromKeyEvent(c);return true}e++;c=b.call(this,c,d)}return false};
a.canHighlightItem=function(b){return b.isVisible()&&b.isEnabled()&&b.isSupportedState(goog.ui.Component.State.HOVER)};a.setHighlightedIndexFromKeyEvent=function(b){this.setHighlightedIndex(b)};a.isMouseButtonPressed=function(){return this.mouseButtonPressed_};a.setMouseButtonPressed=function(b){this.mouseButtonPressed_=b};goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this);this.classNameCache_=[]};goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuItemRenderer);goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem";goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2};a=goog.ui.MenuItemRenderer.prototype;
a.getCompositeCssClass_=function(b){var c=this.classNameCache_[b];if(!c){switch(b){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:c=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:c=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:c=this.getStructuralCssClass()+"-content";break}this.classNameCache_[b]=c}return c};a.getAriaRole=function(){return goog.dom.a11y.Role.MENU_ITEM};
a.createDom=function(b){var c=b.getDomHelper().createDom("div",this.getClassNames(b).join(" "),this.createContent(b.getContent(),b.getDomHelper()));this.setEnableCheckBoxStructure(b,c,b.isSupportedState(goog.ui.Component.State.SELECTED)||b.isSupportedState(goog.ui.Component.State.CHECKED));return c};a.getContentElement=function(b){return b&&b.firstChild};
a.decorate=function(b,c){this.hasContentStructure(c)||c.appendChild(this.createContent(c.childNodes,b.getDomHelper()));if(goog.dom.classes.has(c,"goog-option")){b.setCheckable(true);this.setCheckable(b,c,true)}return goog.ui.MenuItemRenderer.superClass_.decorate.call(this,b,c)};
a.setContent=function(b,c){var d=this.getContentElement(b),e=this.hasCheckBoxStructure(b)?d.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,b,c);if(e&&!this.hasCheckBoxStructure(b))d.insertBefore(e,d.firstChild||null)};a.hasContentStructure=function(b){b=goog.dom.getFirstElementChild(b);var c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!b&&b.className.indexOf(c)!=-1};
a.createContent=function(b,c){var d=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return c.createDom("div",d,b)};a.setSelectable=function(b,c,d){if(c){goog.dom.a11y.setRole(c,d?goog.dom.a11y.Role.MENU_ITEM_RADIO:this.getAriaRole());this.setEnableCheckBoxStructure(b,c,d)}};a.setCheckable=function(b,c,d){if(c){goog.dom.a11y.setRole(c,d?goog.dom.a11y.Role.MENU_ITEM_CHECKBOX:this.getAriaRole());this.setEnableCheckBoxStructure(b,c,d)}};
a.hasCheckBoxStructure=function(b){if(b=this.getContentElement(b)){b=b.firstChild;var c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!b&&!!b.className&&b.className.indexOf(c)!=-1}return false};
a.setEnableCheckBoxStructure=function(b,c,d){if(d!=this.hasCheckBoxStructure(c)){goog.dom.classes.enable(c,"goog-option",d);c=this.getContentElement(c);if(d){d=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);c.insertBefore(b.getDomHelper().createDom("div",d),c.firstChild||null)}else c.removeChild(c.firstChild)}};
a.getClassForState=function(b){switch(b){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,b)}};
a.getStateFromClass=function(b){var c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(b){case "goog-option-selected":return goog.ui.Component.State.CHECKED;case c:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,b)}};a.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS};goog.ui.MenuItem=function(b,c,d,e){goog.ui.Control.call(this,b,e||goog.ui.MenuItemRenderer.getInstance(),d);this.setValue(c)};goog.inherits(goog.ui.MenuItem,goog.ui.Control);goog.ui.MenuItem.prototype.getValue=function(){var b=this.getModel();return b!=null?b:this.getCaption()};goog.ui.MenuItem.prototype.setValue=function(b){this.setModel(b)};
goog.ui.MenuItem.prototype.setSelectable=function(b){this.setSupportedState(goog.ui.Component.State.SELECTED,b);this.isChecked()&&!b&&this.setChecked(false);var c=this.getElement();c&&this.renderer_.setSelectable(this,c,b)};goog.ui.MenuItem.prototype.setCheckable=function(b){this.setSupportedState(goog.ui.Component.State.CHECKED,b);var c=this.getElement();c&&this.renderer_.setCheckable(this,c,b)};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)});goog.ui.Option=function(b,c,d){goog.ui.MenuItem.call(this,b,c,d);this.setSelectable(true)};goog.inherits(goog.ui.Option,goog.ui.MenuItem);goog.ui.Option.prototype.performActionInternal=function(){return this.dispatchEvent(goog.ui.Component.EventType.ACTION)};goog.ui.registry.setDecoratorByClassName("goog-option",function(){return new goog.ui.Option(null)});goog.ui.INLINE_BLOCK_CLASSNAME="goog-inline-block";goog.ui.ToolbarSeparatorRenderer=function(){goog.ui.MenuSeparatorRenderer.call(this)};goog.inherits(goog.ui.ToolbarSeparatorRenderer,goog.ui.MenuSeparatorRenderer);goog.addSingletonGetter(goog.ui.ToolbarSeparatorRenderer);goog.ui.ToolbarSeparatorRenderer.CSS_CLASS="goog-toolbar-separator";goog.ui.ToolbarSeparatorRenderer.prototype.createDom=function(b){return b.getDomHelper().createDom("div",this.getCssClass()+" "+goog.ui.INLINE_BLOCK_CLASSNAME,"\u00a0")};
goog.ui.ToolbarSeparatorRenderer.prototype.decorate=function(b,c){c=goog.ui.ToolbarSeparatorRenderer.superClass_.decorate.call(this,b,c);goog.dom.classes.add(c,goog.ui.INLINE_BLOCK_CLASSNAME);return c};goog.ui.ToolbarSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.ToolbarSeparatorRenderer.CSS_CLASS};goog.ui.ToolbarRenderer=function(){goog.ui.ContainerRenderer.call(this)};goog.inherits(goog.ui.ToolbarRenderer,goog.ui.ContainerRenderer);goog.addSingletonGetter(goog.ui.ToolbarRenderer);goog.ui.ToolbarRenderer.CSS_CLASS="goog-toolbar";goog.ui.ToolbarRenderer.prototype.getAriaRole=function(){return goog.dom.a11y.Role.TOOLBAR};
goog.ui.ToolbarRenderer.prototype.getDecoratorForChild=function(b){return b.tagName=="HR"?new goog.ui.Separator(goog.ui.ToolbarSeparatorRenderer.getInstance()):goog.ui.ToolbarRenderer.superClass_.getDecoratorForChild.call(this,b)};goog.ui.ToolbarRenderer.prototype.getCssClass=function(){return goog.ui.ToolbarRenderer.CSS_CLASS};goog.ui.ToolbarRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.HORIZONTAL};goog.ui.Toolbar=function(b,c,d){goog.ui.Container.call(this,c,b||goog.ui.ToolbarRenderer.getInstance(),d)};goog.inherits(goog.ui.Toolbar,goog.ui.Container);goog.ui.ButtonRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.ButtonRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.ButtonRenderer);goog.ui.ButtonRenderer.CSS_CLASS="goog-button";a=goog.ui.ButtonRenderer.prototype;a.getAriaRole=function(){return goog.dom.a11y.Role.BUTTON};
a.updateAriaState=function(b,c,d){if(goog.userAgent.GECKO)c==goog.ui.Component.State.CHECKED?goog.dom.a11y.setState(b,goog.dom.a11y.State.PRESSED,d):goog.ui.ButtonRenderer.superClass_.updateAriaState.call(this,b,c,d)};a.createDom=function(b){var c=goog.ui.ButtonRenderer.superClass_.createDom.call(this,b),d=b.getTooltip();d&&this.setTooltip(c,d);(d=b.getValue())&&this.setValue(c,d);b.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(c,goog.ui.Component.State.CHECKED,false);return c};
a.decorate=function(b,c){c=goog.ui.ButtonRenderer.superClass_.decorate.call(this,b,c);b.setValueInternal(this.getValue(c));b.setTooltipInternal(this.getTooltip(c));b.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(c,goog.ui.Component.State.CHECKED,false);return c};a.getValue=goog.nullFunction;a.setValue=goog.nullFunction;a.getTooltip=function(b){return b.title};a.setTooltip=function(b,c){if(b)b.title=c||""};
a.setCollapsed=function(b,c){var d=b.isRightToLeft(),e=this.getStructuralCssClass()+"-collapse-left",f=this.getStructuralCssClass()+"-collapse-right";b.enableClassName(d?f:e,!!(c&goog.ui.Button.Side.START));b.enableClassName(d?e:f,!!(c&goog.ui.Button.Side.END))};a.getCssClass=function(){return goog.ui.ButtonRenderer.CSS_CLASS};goog.ui.NativeButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)};goog.inherits(goog.ui.NativeButtonRenderer,goog.ui.ButtonRenderer);goog.addSingletonGetter(goog.ui.NativeButtonRenderer);a=goog.ui.NativeButtonRenderer.prototype;a.getAriaRole=function(){};a.createDom=function(b){this.setUpNativeButton_(b);return b.getDomHelper().createDom("button",{"class":this.getClassNames(b).join(" "),disabled:!b.isEnabled(),title:b.getTooltip()||"",value:b.getValue()||""},b.getCaption()||"")};
a.canDecorate=function(b){return b.tagName=="BUTTON"||b.tagName=="INPUT"&&(b.type=="button"||b.type=="submit"||b.type=="reset")};a.decorate=function(b,c){this.setUpNativeButton_(b);c.disabled&&goog.dom.classes.add(c,this.getClassForState(goog.ui.Component.State.DISABLED));return goog.ui.NativeButtonRenderer.superClass_.decorate.call(this,b,c)};a.initializeDom=function(b){b.getHandler().listen(b.getElement(),goog.events.EventType.CLICK,b.performActionInternal)};a.setAllowTextSelection=goog.nullFunction;
a.setRightToLeft=goog.nullFunction;a.isFocusable=function(b){return b.isEnabled()};a.setFocusable=goog.nullFunction;a.setState=function(b,c,d){goog.ui.NativeButtonRenderer.superClass_.setState.call(this,b,c,d);if((b=b.getElement())&&c==goog.ui.Component.State.DISABLED)b.disabled=d};a.getValue=function(b){return b.value};a.setValue=function(b,c){if(b)b.value=c};a.updateAriaState=goog.nullFunction;
a.setUpNativeButton_=function(b){b.setHandleMouseEvents(false);b.setAutoStates(goog.ui.Component.State.ALL,false);b.setSupportedState(goog.ui.Component.State.FOCUSED,false)};goog.ui.Button=function(b,c,d){goog.ui.Control.call(this,b,c||goog.ui.NativeButtonRenderer.getInstance(),d)};goog.inherits(goog.ui.Button,goog.ui.Control);goog.ui.Button.Side={NONE:0,START:1,END:2,BOTH:3};a=goog.ui.Button.prototype;a.getValue=function(){return this.value_};a.setValue=function(b){this.value_=b;this.getRenderer().setValue(this.getElement(),b)};a.setValueInternal=function(b){this.value_=b};a.getTooltip=function(){return this.tooltip_};
a.setTooltip=function(b){this.tooltip_=b;this.getRenderer().setTooltip(this.getElement(),b)};a.setTooltipInternal=function(b){this.tooltip_=b};a.setCollapsed=function(b){this.getRenderer().setCollapsed(this,b)};a.disposeInternal=function(){goog.ui.Button.superClass_.disposeInternal.call(this);delete this.value_;delete this.tooltip_};
a.enterDocument=function(){goog.ui.Button.superClass_.enterDocument.call(this);if(this.isSupportedState(goog.ui.Component.State.FOCUSED)){var b=this.getKeyEventTarget();b&&this.getHandler().listen(b,goog.events.EventType.KEYUP,this.handleKeyEventInternal)}};
a.handleKeyEventInternal=function(b){if(b.keyCode==goog.events.KeyCodes.ENTER&&b.type==goog.events.KeyHandler.EventType.KEY||b.keyCode==goog.events.KeyCodes.SPACE&&b.type==goog.events.EventType.KEYUP)return this.performActionInternal(b);return b.keyCode==goog.events.KeyCodes.SPACE};goog.ui.registry.setDecoratorByClassName(goog.ui.ButtonRenderer.CSS_CLASS,function(){return new goog.ui.Button(null)});goog.ui.CustomButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)};goog.inherits(goog.ui.CustomButtonRenderer,goog.ui.ButtonRenderer);goog.addSingletonGetter(goog.ui.CustomButtonRenderer);goog.ui.CustomButtonRenderer.CSS_CLASS="goog-custom-button";a=goog.ui.CustomButtonRenderer.prototype;
a.createDom=function(b){var c=this.getClassNames(b);c={"class":goog.ui.INLINE_BLOCK_CLASSNAME+" "+c.join(" "),title:b.getTooltip()||""};return b.getDomHelper().createDom("div",c,this.createButton(b.getContent(),b.getDomHelper()))};a.getContentElement=function(b){return b&&b.firstChild.firstChild};
a.createButton=function(b,c){return c.createDom("div",goog.ui.INLINE_BLOCK_CLASSNAME+" "+(this.getCssClass()+"-outer-box"),c.createDom("div",goog.ui.INLINE_BLOCK_CLASSNAME+" "+(this.getCssClass()+"-inner-box"),b))};a.canDecorate=function(b){return b.tagName=="DIV"};
a.hasBoxStructure=function(b,c){if((c=b.getDomHelper().getFirstElementChild(c))&&c.className.indexOf(this.getCssClass()+"-outer-box")!=-1)if((b=b.getDomHelper().getFirstElementChild(c))&&b.className.indexOf(this.getCssClass()+"-inner-box")!=-1)return true;return false};
a.decorate=function(b,c){goog.ui.CustomButtonRenderer.trimTextNodes_(c,true);goog.ui.CustomButtonRenderer.trimTextNodes_(c,false);this.hasBoxStructure(b,c)||c.appendChild(this.createButton(c.childNodes,b.getDomHelper()));goog.dom.classes.add(c,goog.ui.INLINE_BLOCK_CLASSNAME,this.getCssClass());return goog.ui.CustomButtonRenderer.superClass_.decorate.call(this,b,c)};a.getCssClass=function(){return goog.ui.CustomButtonRenderer.CSS_CLASS};
goog.ui.CustomButtonRenderer.trimTextNodes_=function(b,c){if(b)for(var d=c?b.firstChild:b.lastChild,e;d&&d.parentNode==b;){e=c?d.nextSibling:d.previousSibling;if(d.nodeType==goog.dom.NodeType.TEXT){var f=d.nodeValue;if(goog.string.trim(f)=="")b.removeChild(d);else{d.nodeValue=c?goog.string.trimLeft(f):goog.string.trimRight(f);break}}else break;d=e}};goog.ui.ToolbarButtonRenderer=function(){goog.ui.CustomButtonRenderer.call(this)};goog.inherits(goog.ui.ToolbarButtonRenderer,goog.ui.CustomButtonRenderer);goog.addSingletonGetter(goog.ui.ToolbarButtonRenderer);goog.ui.ToolbarButtonRenderer.CSS_CLASS="goog-toolbar-button";goog.ui.ToolbarButtonRenderer.prototype.getCssClass=function(){return goog.ui.ToolbarButtonRenderer.CSS_CLASS};goog.ui.ToolbarButton=function(b,c,d){goog.ui.Button.call(this,b,c||goog.ui.ToolbarButtonRenderer.getInstance(),d)};goog.inherits(goog.ui.ToolbarButton,goog.ui.Button);goog.ui.registry.setDecoratorByClassName(goog.ui.ToolbarButtonRenderer.CSS_CLASS,function(){return new goog.ui.ToolbarButton(null)});goog.color={};
goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};goog.color.parse=function(b){var c={};b=String(b);var d=goog.color.prependPoundIfNecessary_(b);if(goog.color.isValidHexColor_(d)){c.hex=goog.color.normalizeHex(d);c.type="hex";return c}else{d=goog.color.isValidRgbColor_(b);if(d.length){c.hex=goog.color.rgbArrayToHex(d);c.type="rgb";return c}else if(goog.color.names)if(d=goog.color.names[b.toLowerCase()]){c.hex=d;c.type="named";return c}}throw Error(b+" is not a valid color string");};
goog.color.parseRgb=function(b){var c=goog.color.isValidRgbColor_(b);if(!c.length)throw Error(b+" is not a valid RGB color");return c};goog.color.hexToRgbStyle=function(b){return goog.color.rgbStyle_(goog.color.hexToRgb(b))};goog.color.hexTripletRe_=/#(.)(.)(.)/;goog.color.normalizeHex=function(b){if(!goog.color.isValidHexColor_(b))throw Error("'"+b+"' is not a valid hex color");if(b.length==4)b=b.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3");return b.toLowerCase()};
goog.color.hexToRgb=function(b){b=goog.color.normalizeHex(b);var c=parseInt(b.substr(1,2),16),d=parseInt(b.substr(3,2),16);b=parseInt(b.substr(5,2),16);return[c,d,b]};
goog.color.rgbToHex=function(b,c,d){b=Number(b);c=Number(c);d=Number(d);if(isNaN(b)||b<0||b>255||isNaN(c)||c<0||c>255||isNaN(d)||d<0||d>255)throw Error('"('+b+","+c+","+d+'") is not a valid RGB color');b=goog.color.prependZeroIfNecessary_(b.toString(16));c=goog.color.prependZeroIfNecessary_(c.toString(16));d=goog.color.prependZeroIfNecessary_(d.toString(16));return"#"+b+c+d};goog.color.rgbArrayToHex=function(b){return goog.color.rgbToHex(b[0],b[1],b[2])};
goog.color.rgbToHsl=function(b,c,d){b=b/255;c=c/255;d=d/255;var e=Math.max(b,c,d),f=Math.min(b,c,d),g=0,h=0,i=0.5*(e+f);if(e!=f){if(e==b)g=60*(c-d)/(e-f);else if(e==c)g=60*(d-b)/(e-f)+120;else if(e==d)g=60*(b-c)/(e-f)+240;h=0<i&&i<=0.5?(e-f)/(2*i):(e-f)/(2-2*i)}return[Math.round(g+360)%360,h,i]};goog.color.rgbArrayToHsl=function(b){return goog.color.rgbToHsl(b[0],b[1],b[2])};
goog.color.hueToRgb_=function(b,c,d){if(d<0)d+=1;else if(d>1)d-=1;if(6*d<1)return b+(c-b)*6*d;else if(2*d<1)return c;else if(3*d<2)return b+(c-b)*(2/3-d)*6;return b};goog.color.hslToRgb=function(b,c,d){var e=0,f=0,g=0;b=b/360;if(c==0)e=f=g=d*255;else{var h=g=0;h=d<0.5?d*(1+c):d+c-c*d;g=2*d-h;e=255*goog.color.hueToRgb_(g,h,b+1/3);f=255*goog.color.hueToRgb_(g,h,b);g=255*goog.color.hueToRgb_(g,h,b-1/3)}return[Math.round(e),Math.round(f),Math.round(g)]};
goog.color.hslArrayToRgb=function(b){return goog.color.hslToRgb(b[0],b[1],b[2])};goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i;goog.color.isValidHexColor_=function(b){return goog.color.validHexColorRe_.test(b)};goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/;goog.color.isNormalizedHexColor_=function(b){return goog.color.normalizedHexColorRe_.test(b)};goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
goog.color.isValidRgbColor_=function(b){var c=b.match(goog.color.rgbColorRe_);if(c){b=Number(c[1]);var d=Number(c[2]);c=Number(c[3]);if(b>=0&&b<=255&&d>=0&&d<=255&&c>=0&&c<=255)return[b,d,c]}return[]};goog.color.prependZeroIfNecessary_=function(b){return b.length==1?"0"+b:b};goog.color.prependPoundIfNecessary_=function(b){return b.charAt(0)=="#"?b:"#"+b};goog.color.rgbStyle_=function(b){return"rgb("+b.join(",")+")"};
goog.color.hsvToRgb=function(b,c,d){var e=0,f=0,g=0;if(c==0)g=f=e=d;else{var h=Math.floor(b/60),i=b/60-h;b=d*(1-c);var j=d*(1-c*i);c=d*(1-c*(1-i));switch(h){case 1:e=j;f=d;g=b;break;case 2:e=b;f=d;g=c;break;case 3:e=b;f=j;g=d;break;case 4:e=c;f=b;g=d;break;case 5:e=d;f=b;g=j;break;case 6:case 0:e=d;f=c;g=b;break}}return[Math.floor(e),Math.floor(f),Math.floor(g)]};
goog.color.rgbToHsv=function(b,c,d){var e=Math.max(Math.max(b,c),d),f=Math.min(Math.min(b,c),d);if(f==e)f=b=0;else{var g=e-f;f=g/e;b=b==e?(c-d)/g:c==e?2+(d-b)/g:4+(b-c)/g;b*=60;if(b<0)b+=360;if(b>360)b-=360}return[b,f,e]};goog.color.rgbArrayToHsv=function(b){return goog.color.rgbToHsv(b[0],b[1],b[2])};goog.color.hsvArrayToRgb=function(b){return goog.color.hsvToRgb(b[0],b[1],b[2])};goog.color.hexToHsl=function(b){b=goog.color.hexToRgb(b);return goog.color.rgbToHsl(b[0],b[1],b[2])};
goog.color.hslToHex=function(b,c,d){return goog.color.rgbArrayToHex(goog.color.hslToRgb(b,c,d))};goog.color.hslArrayToHex=function(b){return goog.color.rgbArrayToHex(goog.color.hslToRgb(b[0],b[1],b[2]))};goog.color.hexToHsv=function(b){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(b))};goog.color.hsvToHex=function(b,c,d){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(b,c,d))};goog.color.hsvArrayToHex=function(b){return goog.color.hsvToHex(b[0],b[1],b[2])};
goog.color.hslDistance=function(b,c){var d,e;d=b[2]<=0.5?b[1]*b[2]:b[1]*(1-b[2]);e=c[2]<=0.5?c[1]*c[2]:c[1]*(1-c[2]);return(b[2]-c[2])*(b[2]-c[2])+d*d+e*e-2*d*e*Math.cos((b[0]/360-c[0]/360)*2*Math.PI)};goog.color.blend=function(b,c,d){d=goog.math.clamp(d,0,1);return[Math.round(d*b[0]+(1-d)*c[0]),Math.round(d*b[1]+(1-d)*c[1]),Math.round(d*b[2]+(1-d)*c[2])]};goog.color.darken=function(b,c){return goog.color.blend([0,0,0],b,c)};
goog.color.lighten=function(b,c){return goog.color.blend([255,255,255],b,c)};goog.color.highContrast=function(b,c){for(var d=[],e=0;e<c.length;e++)d.push({color:c[e],diff:goog.color.yiqBrightnessDiff_(c[e],b)+goog.color.colorDiff_(c[e],b)});d.sort(function(f,g){return g.diff-f.diff});return d[0].color};goog.color.yiqBrightness_=function(b){return Math.round((b[0]*299+b[1]*587+b[2]*114)/1E3)};goog.color.yiqBrightnessDiff_=function(b,c){return Math.abs(goog.color.yiqBrightness_(b)-goog.color.yiqBrightness_(c))};
goog.color.colorDiff_=function(b,c){return Math.abs(b[0]-c[0])+Math.abs(b[1]-c[1])+Math.abs(b[2]-c[2])};goog.ui.MenuRenderer=function(){goog.ui.ContainerRenderer.call(this)};goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer);goog.addSingletonGetter(goog.ui.MenuRenderer);goog.ui.MenuRenderer.CSS_CLASS="goog-menu";a=goog.ui.MenuRenderer.prototype;a.getAriaRole=function(){return goog.dom.a11y.Role.MENU};a.canDecorate=function(b){return b.tagName=="UL"||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,b)};
a.getDecoratorForChild=function(b){return b.tagName=="HR"?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,b)};a.containsElement=function(b,c){return goog.dom.contains(b.getElement(),c)};a.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS};a.initializeDom=function(b){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,b);b=b.getElement();goog.dom.a11y.setState(b,goog.dom.a11y.State.HASPOPUP,"true")};goog.ui.MenuSeparator=function(b){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),b)};goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator);goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.Menu=function(b,c){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,c||goog.ui.MenuRenderer.getInstance(),b);this.setFocusable(false)};goog.inherits(goog.ui.Menu,goog.ui.Container);goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE};goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS;a=goog.ui.Menu.prototype;
a.allowAutoFocus_=true;a.allowHighlightDisabled_=false;a.getCssClass=function(){return this.getRenderer().getCssClass()};a.containsElement=function(b){if(this.getRenderer().containsElement(this,b))return true;for(var c=0,d=this.getChildCount();c<d;c++){var e=this.getChildAt(c);if(typeof e.containsElement=="function"&&e.containsElement(b))return true}return false};a.addItem=function(b){this.addChild(b,true)};a.addItemAt=function(b,c){this.addChildAt(b,c,true)};
a.removeItem=function(b){(b=this.removeChild(b,true))&&b.dispose()};a.removeItemAt=function(b){(b=this.removeChildAt(b,true))&&b.dispose()};a.getItemAt=function(b){return this.getChildAt(b)};a.getItemCount=function(){return this.getChildCount()};a.getItems=function(){return this.children_||[]};a.setPosition=function(b,c){var d=this.isVisible();d||goog.style.showElement(this.getElement(),true);goog.style.setPageOffset(this.getElement(),b,c);d||goog.style.showElement(this.getElement(),false)};
a.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null};a.setAllowAutoFocus=function(b){(this.allowAutoFocus_=b)&&this.setFocusable(true)};a.getAllowAutoFocus=function(){return this.allowAutoFocus_};a.setAllowHighlightDisabled=function(b){this.allowHighlightDisabled_=b};a.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_};
a.setVisible=function(b,c){(c=goog.ui.Menu.superClass_.setVisible.call(this,b,c))&&b&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus();return c};a.handleEnterItem=function(b){this.allowAutoFocus_&&this.getKeyEventTarget().focus();return goog.ui.Menu.superClass_.handleEnterItem.call(this,b)};
a.highlightNextPrefix=function(b){var c=new RegExp("^"+goog.string.regExpEscape(b),"i");return this.highlightHelper(function(d,e){var f=d<0?0:d,g=false;do{++d;if(d==e){d=0;g=true}var h=this.getChildAt(d).getCaption();if(h&&h.match(c))return d}while(!g||d!=f);return this.getHighlightedIndex()},this.getHighlightedIndex())};a.canHighlightItem=function(b){return(this.allowHighlightDisabled_||b.isEnabled())&&b.isVisible()&&b.isSupportedState(goog.ui.Component.State.HOVER)};goog.ui.MenuButtonRenderer=function(){goog.ui.CustomButtonRenderer.call(this)};goog.inherits(goog.ui.MenuButtonRenderer,goog.ui.CustomButtonRenderer);goog.addSingletonGetter(goog.ui.MenuButtonRenderer);goog.ui.MenuButtonRenderer.CSS_CLASS="goog-menu-button";goog.ui.MenuButtonRenderer.WRAPPER_PROP_="__goog_wrapper_div";
if(goog.userAgent.GECKO)goog.ui.MenuButtonRenderer.prototype.setContent=function(b,c){var d=goog.ui.MenuButtonRenderer.superClass_.getContentElement.call(this,b&&b.firstChild);d&&goog.dom.replaceNode(this.createCaption(c,goog.dom.getDomHelper(b)),d)};goog.ui.MenuButtonRenderer.prototype.getContentElement=function(b){b=goog.ui.MenuButtonRenderer.superClass_.getContentElement.call(this,b&&b.firstChild);if(goog.userAgent.GECKO&&b&&b[goog.ui.MenuButtonRenderer.WRAPPER_PROP_])b=b.firstChild;return b};
goog.ui.MenuButtonRenderer.prototype.decorate=function(b,c){var d=goog.dom.getElementsByTagNameAndClass("*",goog.ui.MenuRenderer.CSS_CLASS,c)[0];if(d){goog.style.showElement(d,false);goog.dom.appendChild(goog.dom.getOwnerDocument(d).body,d);var e=new goog.ui.Menu;e.decorate(d);b.setMenu(e)}return goog.ui.MenuButtonRenderer.superClass_.decorate.call(this,b,c)};
goog.ui.MenuButtonRenderer.prototype.createButton=function(b,c){return goog.ui.MenuButtonRenderer.superClass_.createButton.call(this,[this.createCaption(b,c),this.createDropdown(c)],c)};goog.ui.MenuButtonRenderer.prototype.createCaption=function(b,c){return goog.ui.MenuButtonRenderer.wrapCaption(b,this.getCssClass(),c)};goog.ui.MenuButtonRenderer.wrapCaption=function(b,c,d){return d.createDom("div",goog.ui.INLINE_BLOCK_CLASSNAME+" "+(c+"-caption"),b)};
goog.ui.MenuButtonRenderer.prototype.createDropdown=function(b){return b.createDom("div",goog.ui.INLINE_BLOCK_CLASSNAME+" "+(this.getCssClass()+"-dropdown"),"\u00a0")};goog.ui.MenuButtonRenderer.prototype.getCssClass=function(){return goog.ui.MenuButtonRenderer.CSS_CLASS};goog.ui.ColorMenuButtonRenderer=function(){goog.ui.MenuButtonRenderer.call(this)};goog.inherits(goog.ui.ColorMenuButtonRenderer,goog.ui.MenuButtonRenderer);goog.addSingletonGetter(goog.ui.ColorMenuButtonRenderer);goog.ui.ColorMenuButtonRenderer.CSS_CLASS="goog-color-menu-button";goog.ui.ColorMenuButtonRenderer.prototype.createCaption=function(b,c){return goog.ui.ColorMenuButtonRenderer.superClass_.createCaption.call(this,goog.ui.ColorMenuButtonRenderer.wrapCaption(b,c),c)};
goog.ui.ColorMenuButtonRenderer.wrapCaption=function(b,c){return c.createDom("div",goog.ui.ColorMenuButtonRenderer.CSS_CLASS+"-indicator",b)};goog.ui.ColorMenuButtonRenderer.prototype.setValue=function(b,c){b&&goog.ui.ColorMenuButtonRenderer.setCaptionValue(this.getContentElement(b),c)};goog.ui.ColorMenuButtonRenderer.setCaptionValue=function(b,c){if(b&&b.firstChild){var d;try{d=goog.color.parse(c).hex}catch(e){d=null}b.firstChild.style.borderBottomColor=d||(goog.userAgent.IE?"":"transparent")}};
goog.ui.ColorMenuButtonRenderer.prototype.initializeDom=function(b){this.setValue(b.getElement(),b.getValue());goog.dom.classes.add(b.getElement(),goog.ui.ColorMenuButtonRenderer.CSS_CLASS);goog.ui.ColorMenuButtonRenderer.superClass_.initializeDom.call(this,b)};goog.ui.PaletteRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.PaletteRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.PaletteRenderer);goog.ui.PaletteRenderer.cellId_=0;goog.ui.PaletteRenderer.CSS_CLASS="goog-palette";a=goog.ui.PaletteRenderer.prototype;a.createDom=function(b){var c=this.getClassNames(b);return b.getDomHelper().createDom("div",c?c.join(" "):null,this.createGrid(b.getContent(),b.getSize(),b.getDomHelper()))};
a.createGrid=function(b,c,d){for(var e=[],f=0,g=0;f<c.height;f++){for(var h=[],i=0;i<c.width;i++){var j=b&&b[g++];h.push(this.createCell(j,d))}e.push(this.createRow(h,d))}return this.createTable(e,d)};a.createTable=function(b,c){b=c.createDom("table",this.getCssClass()+"-table",c.createDom("tbody",this.getCssClass()+"-body",b));b.cellSpacing=0;b.cellPadding=0;goog.dom.a11y.setRole(b,"grid");return b};a.createRow=function(b,c){return c.createDom("tr",this.getCssClass()+"-row",b)};
a.createCell=function(b,c){b=c.createDom("td",{"class":this.getCssClass()+"-cell",id:this.getCssClass()+"-cell-"+goog.ui.PaletteRenderer.cellId_++},b);goog.dom.a11y.setRole(b,"gridcell");return b};a.canDecorate=function(){return false};a.decorate=function(){return null};
a.setContent=function(b,c){if(b){var d=goog.dom.getElementsByTagNameAndClass("tbody",this.getCssClass()+"-body",b)[0];if(d){var e=0;goog.array.forEach(d.rows,function(j){goog.array.forEach(j.cells,function(k){goog.dom.removeChildren(k);if(c){var l=c[e++];l&&goog.dom.appendChild(k,l)}})});if(e<c.length){for(var f=[],g=goog.dom.getDomHelper(b),h=d.rows[0].cells.length;e<c.length;){var i=c[e++];f.push(this.createCell(i,g));if(f.length==h){i=this.createRow(f,g);goog.dom.appendChild(d,i);f.length=0}}if(f.length>
0){for(;f.length<h;)f.push(this.createCell("",g));i=this.createRow(f,g);goog.dom.appendChild(d,i)}}}goog.style.setUnselectable(b,true,goog.userAgent.GECKO)}};a.getContainingItem=function(b,c){for(b=b.getElement();c&&c.nodeType==goog.dom.NodeType.ELEMENT&&c!=b;){if(c.tagName=="TD"&&goog.dom.classes.has(c,this.getCssClass()+"-cell"))return c.firstChild;c=c.parentNode}return null};
a.highlightCell=function(b,c,d){if(c){c=c.parentNode;goog.dom.classes.enable(c,this.getCssClass()+"-cell-hover",d);b=b.getElement().firstChild;goog.dom.a11y.setState(b,"activedescendent",c.id)}};a.selectCell=function(b,c,d){c&&goog.dom.classes.enable(c.parentNode,this.getCssClass()+"-cell-selected",d)};a.getCssClass=function(){return goog.ui.PaletteRenderer.CSS_CLASS};goog.ui.SelectionModel=function(b){goog.events.EventTarget.call(this);this.items_=[];this.addItems(b)};goog.inherits(goog.ui.SelectionModel,goog.events.EventTarget);a=goog.ui.SelectionModel.prototype;a.selectedItem_=null;a.selectionHandler_=null;a.getSelectionHandler=function(){return this.selectionHandler_};a.setSelectionHandler=function(b){this.selectionHandler_=b};a.getItemCount=function(){return this.items_.length};a.indexOfItem=function(b){return b?goog.array.indexOf(this.items_,b):-1};
a.getFirst=function(){return this.items_[0]};a.getLast=function(){return this.items_[this.items_.length-1]};a.getItemAt=function(b){return this.items_[b]||null};a.addItems=function(b){if(b){goog.array.forEach(b,function(c){this.selectItem_(c,false)},this);goog.array.extend(this.items_,b)}};a.addItem=function(b){this.addItemAt(b,this.getItemCount())};a.addItemAt=function(b,c){if(b){this.selectItem_(b,false);goog.array.insertAt(this.items_,b,c)}};
a.removeItem=function(b){if(b&&goog.array.remove(this.items_,b))if(b==this.selectedItem_){this.selectedItem_=null;this.dispatchEvent(goog.events.EventType.SELECT)}};a.removeItemAt=function(b){this.removeItem(this.getItemAt(b))};a.getSelectedItem=function(){return this.selectedItem_};a.setSelectedItem=function(b){if(b!=this.selectedItem_){this.selectItem_(this.selectedItem_,false);this.selectedItem_=b;this.selectItem_(b,true)}this.dispatchEvent(goog.events.EventType.SELECT)};a.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)};
a.setSelectedIndex=function(b){this.setSelectedItem(this.getItemAt(b))};a.clear=function(){goog.array.clear(this.items_);this.selectedItem_=null};a.disposeInternal=function(){goog.ui.SelectionModel.superClass_.disposeInternal.call(this);delete this.items_;this.selectedItem_=null};a.selectItem_=function(b,c){if(b)if(typeof this.selectionHandler_=="function")this.selectionHandler_(b,c);else typeof b.setSelected=="function"&&b.setSelected(c)};goog.ui.Palette=function(b,c,d){goog.ui.Control.call(this,b,c||goog.ui.PaletteRenderer.getInstance(),d)};goog.inherits(goog.ui.Palette,goog.ui.Control);a=goog.ui.Palette.prototype;a.size_=null;a.highlightedIndex_=-1;a.selectionModel_=null;a.disposeInternal=function(){goog.ui.Palette.superClass_.disposeInternal.call(this);if(this.selectionModel_){this.selectionModel_.dispose();this.selectionModel_=null}this.size_=null};
a.setContentInternal=function(b){goog.ui.Palette.superClass_.setContentInternal.call(this,b);this.adjustSize_();if(this.selectionModel_){this.selectionModel_.clear();this.selectionModel_.addItems(b)}else{this.selectionModel_=new goog.ui.SelectionModel(b);this.selectionModel_.setSelectionHandler(goog.bind(this.selectItem_,this));this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)}this.highlightedIndex_=-1};a.getCaption=function(){return null};
a.setCaption=function(){};a.handleMouseOver=function(b){goog.ui.Palette.superClass_.handleMouseOver.call(this,b);var c=this.getRenderer().getContainingItem(this,b.target);c&&b.relatedTarget&&goog.dom.contains(c,b.relatedTarget)||c!=this.getHighlightedItem()&&this.setHighlightedItem(c)};
a.handleMouseOut=function(b){goog.ui.Palette.superClass_.handleMouseOut.call(this,b);var c=this.getRenderer().getContainingItem(this,b.target);c&&b.relatedTarget&&goog.dom.contains(c,b.relatedTarget)||c==this.getHighlightedItem()&&this.getRenderer().highlightCell(this,c,false)};a.handleMouseDown=function(b){goog.ui.Palette.superClass_.handleMouseDown.call(this,b);if(this.isActive()){b=this.getRenderer().getContainingItem(this,b.target);b!=this.getHighlightedItem()&&this.setHighlightedItem(b)}};
a.performActionInternal=function(){var b=this.getHighlightedItem();if(b){this.setSelectedItem(b);return this.dispatchEvent(goog.ui.Component.EventType.ACTION)}return false};
a.handleKeyEvent=function(b){var c=this.getContent();c=c?c.length:0;var d=this.size_.width;if(c==0||!this.isEnabled())return false;if(b.keyCode==goog.events.KeyCodes.ENTER||b.keyCode==goog.events.KeyCodes.SPACE)return this.performActionInternal(b);if(b.keyCode==goog.events.KeyCodes.HOME){this.setHighlightedIndex(0);return true}else if(b.keyCode==goog.events.KeyCodes.END){this.setHighlightedIndex(c-1);return true}var e=this.highlightedIndex_<0?this.getSelectedIndex():this.highlightedIndex_;switch(b.keyCode){case goog.events.KeyCodes.LEFT:if(e==
-1)e=c;if(e>0){this.setHighlightedIndex(e-1);b.preventDefault();return true}break;case goog.events.KeyCodes.RIGHT:if(e<c-1){this.setHighlightedIndex(e+1);b.preventDefault();return true}break;case goog.events.KeyCodes.UP:if(e==-1)e=c+d-1;if(e>=d){this.setHighlightedIndex(e-d);b.preventDefault();return true}break;case goog.events.KeyCodes.DOWN:if(e==-1)e=-d;if(e<c-d){this.setHighlightedIndex(e+d);b.preventDefault();return true}break}return false};a.handleSelectionChange=function(){};a.getSize=function(){return this.size_};
a.setSize=function(b,c){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.size_=goog.isNumber(b)?new goog.math.Size(b,c):b;this.adjustSize_()};a.getHighlightedIndex=function(){return this.highlightedIndex_};a.getHighlightedItem=function(){var b=this.getContent();return b&&b[this.highlightedIndex_]};a.setHighlightedIndex=function(b){if(b!=this.highlightedIndex_){this.highlightIndex_(this.highlightedIndex_,false);this.highlightedIndex_=b;this.highlightIndex_(b,true)}};
a.setHighlightedItem=function(b){var c=this.getContent();this.setHighlightedIndex(c?goog.array.indexOf(c,b):-1)};a.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1};a.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null};a.setSelectedIndex=function(b){this.selectionModel_&&this.selectionModel_.setSelectedIndex(b)};a.setSelectedItem=function(b){this.selectionModel_&&this.selectionModel_.setSelectedItem(b)};
a.highlightIndex_=function(b,c){if(this.getElement()){var d=this.getContent();d&&b>=0&&b<d.length&&this.getRenderer().highlightCell(this,d[b],c)}};a.selectItem_=function(b,c){this.getElement()&&this.getRenderer().selectCell(this,b,c)};
a.adjustSize_=function(){var b=this.getContent();if(b)if(this.size_&&this.size_.width){b=Math.ceil(b.length/this.size_.width);if(!goog.isNumber(this.size_.height)||this.size_.height<b)this.size_.height=b}else{b=Math.ceil(Math.sqrt(b.length));this.size_=new goog.math.Size(b,b)}else this.size_=new goog.math.Size(0,0)};goog.ui.ColorPalette=function(b,c,d){this.colors_=b||[];goog.ui.Palette.call(this,null,c||goog.ui.PaletteRenderer.getInstance(),d);this.setColors(this.colors_)};goog.inherits(goog.ui.ColorPalette,goog.ui.Palette);a=goog.ui.ColorPalette.prototype;a.normalizedColors_=null;a.getColors=function(){return this.colors_};a.setColors=function(b){this.colors_=b;this.normalizedColors_=null;this.setContent(this.createColorNodes_())};
a.getSelectedColor=function(){var b=this.getSelectedItem();if(b){b=goog.style.getStyle(b,"background-color");return goog.ui.ColorPalette.parseColor_(b)}else return null};a.setSelectedColor=function(b){b=goog.ui.ColorPalette.parseColor_(b);if(!this.normalizedColors_)this.normalizedColors_=goog.array.map(this.colors_,function(c){return goog.ui.ColorPalette.parseColor_(c)});this.setSelectedIndex(b?goog.array.indexOf(this.normalizedColors_,b):-1)};
a.createColorNodes_=function(){return goog.array.map(this.colors_,function(b){var c=this.getDomHelper().createDom("div",{"class":this.getRenderer().getCssClass()+"-colorswatch",style:"background-color:"+b});c.title=b.charAt(0)=="#"?"RGB ("+goog.color.hexToRgb(b).join(", ")+")":b;return c},this)};goog.ui.ColorPalette.parseColor_=function(b){if(b)try{return goog.color.parse(b).hex}catch(c){}return null};goog.positioning={};goog.positioning.Corner={TOP_LEFT:0,TOP_RIGHT:2,BOTTOM_LEFT:1,BOTTOM_RIGHT:3,TOP_START:4,TOP_END:6,BOTTOM_START:5,BOTTOM_END:7};goog.positioning.CornerBit={BOTTOM:1,RIGHT:2,FLIP_RTL:4};goog.positioning.Overflow={IGNORE:0,ADJUST_X:1,FAIL_X:2,ADJUST_Y:4,FAIL_Y:8,RESIZE_WIDTH:16,RESIZE_HEIGHT:32};goog.positioning.OverflowStatus={NONE:0,ADJUSTED_X:1,ADJUSTED_Y:2,WIDTH_ADJUSTED:4,HEIGHT_ADJUSTED:8,FAILED_LEFT:16,FAILED_RIGHT:32,FAILED_TOP:64,FAILED_BOTTOM:128,FAILED_OUTSIDE_VIEWPORT:256};
goog.positioning.OverflowStatus.FAILED=goog.positioning.OverflowStatus.FAILED_LEFT|goog.positioning.OverflowStatus.FAILED_RIGHT|goog.positioning.OverflowStatus.FAILED_TOP|goog.positioning.OverflowStatus.FAILED_BOTTOM|goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT;goog.positioning.OverflowStatus.FAILED_HORIZONTAL=goog.positioning.OverflowStatus.FAILED_LEFT|goog.positioning.OverflowStatus.FAILED_RIGHT;
goog.positioning.OverflowStatus.FAILED_VERTICAL=goog.positioning.OverflowStatus.FAILED_TOP|goog.positioning.OverflowStatus.FAILED_BOTTOM;
goog.positioning.positionAtAnchor=function(b,c,d,e,f,g,h,i){var j,k=d.offsetParent;if(k){var l=k.tagName==goog.dom.TagName.HTML||k.tagName==goog.dom.TagName.BODY;if(!l||goog.style.getComputedPosition(k)!="static"){j=goog.style.getPageOffset(k);l||(j=goog.math.Coordinate.difference(j,new goog.math.Coordinate(k.scrollLeft,k.scrollTop)))}}k=goog.positioning.getVisiblePart_(b);goog.style.translateRectForAnotherFrame(k,goog.dom.getDomHelper(b),goog.dom.getDomHelper(d));b=goog.positioning.getEffectiveCorner(b,
c);c=new goog.math.Coordinate(b&goog.positioning.CornerBit.RIGHT?k.left+k.width:k.left,b&goog.positioning.CornerBit.BOTTOM?k.top+k.height:k.top);if(j)c=goog.math.Coordinate.difference(c,j);if(f){c.x+=(b&goog.positioning.CornerBit.RIGHT?-1:1)*f.x;c.y+=(b&goog.positioning.CornerBit.BOTTOM?-1:1)*f.y}var m;if(h)if((m=goog.style.getVisibleRectForElement(d))&&j){m.top=Math.max(0,m.top-j.y);m.right-=j.x;m.bottom-=j.y;m.left=Math.max(0,m.left-j.x)}return goog.positioning.positionAtCoordinate(c,d,e,g,m,h,
i)};goog.positioning.getVisiblePart_=function(b){var c=goog.style.getBounds(b);(b=goog.style.getVisibleRectForElement(b))&&c.intersection(goog.math.Rect.createFromBox(b));return c};
goog.positioning.positionAtCoordinate=function(b,c,d,e,f,g,h){b=b.clone();var i=goog.positioning.OverflowStatus.NONE;d=goog.positioning.getEffectiveCorner(c,d);var j=goog.style.getSize(c);h=h?h.clone():j;if(e||d!=goog.positioning.Corner.TOP_LEFT){if(d&goog.positioning.CornerBit.RIGHT)b.x-=h.width+(e?e.right:0);else if(e)b.x+=e.left;if(d&goog.positioning.CornerBit.BOTTOM)b.y-=h.height+(e?e.bottom:0);else if(e)b.y+=e.top}if(g){i=f?goog.positioning.adjustForViewport(b,h,f,g):goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT;
if(i&goog.positioning.OverflowStatus.FAILED)return i}goog.style.setPosition(c,b);goog.math.Size.equals(j,h)||goog.style.setSize(c,h);return i};
goog.positioning.adjustForViewport=function(b,c,d,e){var f=goog.positioning.OverflowStatus.NONE;if(b.x<d.left&&e&goog.positioning.Overflow.ADJUST_X){b.x=d.left;f|=goog.positioning.OverflowStatus.ADJUSTED_X}if(b.x<d.left&&b.x+c.width>d.right&&e&goog.positioning.Overflow.RESIZE_WIDTH){c.width-=b.x+c.width-d.right;f|=goog.positioning.OverflowStatus.WIDTH_ADJUSTED}if(b.x+c.width>d.right&&e&goog.positioning.Overflow.ADJUST_X){b.x=Math.max(d.right-c.width,d.left);f|=goog.positioning.OverflowStatus.ADJUSTED_X}if(e&
goog.positioning.Overflow.FAIL_X)f|=(b.x<d.left?goog.positioning.OverflowStatus.FAILED_LEFT:0)|(b.x+c.width>d.right?goog.positioning.OverflowStatus.FAILED_RIGHT:0);if(b.y<d.top&&e&goog.positioning.Overflow.ADJUST_Y){b.y=d.top;f|=goog.positioning.OverflowStatus.ADJUSTED_Y}if(b.y>=d.top&&b.y+c.height>d.bottom&&e&goog.positioning.Overflow.RESIZE_HEIGHT){c.height-=b.y+c.height-d.bottom;f|=goog.positioning.OverflowStatus.HEIGHT_ADJUSTED}if(b.y+c.height>d.bottom&&e&goog.positioning.Overflow.ADJUST_Y){b.y=
Math.max(d.bottom-c.height,d.top);f|=goog.positioning.OverflowStatus.ADJUSTED_Y}if(e&goog.positioning.Overflow.FAIL_Y)f|=(b.y<d.top?goog.positioning.OverflowStatus.FAILED_TOP:0)|(b.y+c.height>d.bottom?goog.positioning.OverflowStatus.FAILED_BOTTOM:0);return f};goog.positioning.getEffectiveCorner=function(b,c){return(c&goog.positioning.CornerBit.FLIP_RTL&&goog.style.isRightToLeft(b)?c^goog.positioning.CornerBit.RIGHT:c)&~goog.positioning.CornerBit.FLIP_RTL};
goog.positioning.flipCornerHorizontal=function(b){return b^goog.positioning.CornerBit.RIGHT};goog.positioning.flipCornerVertical=function(b){return b^goog.positioning.CornerBit.BOTTOM};goog.positioning.flipCorner=function(b){return b^goog.positioning.CornerBit.BOTTOM^goog.positioning.CornerBit.RIGHT};goog.positioning.AbstractPosition=function(){};goog.positioning.AbstractPosition.prototype.reposition=function(){};goog.positioning.AnchoredPosition=function(b,c){this.element=b;this.corner=c};goog.inherits(goog.positioning.AnchoredPosition,goog.positioning.AbstractPosition);goog.positioning.AnchoredPosition.prototype.reposition=function(b,c,d){goog.positioning.positionAtAnchor(this.element,this.corner,b,c,undefined,d)};goog.positioning.AnchoredViewportPosition=function(b,c,d){goog.positioning.AnchoredPosition.call(this,b,c);this.adjust_=d};goog.inherits(goog.positioning.AnchoredViewportPosition,goog.positioning.AnchoredPosition);
goog.positioning.AnchoredViewportPosition.prototype.reposition=function(b,c,d,e){var f=goog.positioning.positionAtAnchor(this.element,this.corner,b,c,null,d,goog.positioning.Overflow.FAIL_X|goog.positioning.Overflow.FAIL_Y,e);if(f&goog.positioning.OverflowStatus.FAILED){var g=this.corner,h=c;if(f&goog.positioning.OverflowStatus.FAILED_HORIZONTAL){g=goog.positioning.flipCornerHorizontal(g);h=goog.positioning.flipCornerHorizontal(h)}if(f&goog.positioning.OverflowStatus.FAILED_VERTICAL){g=goog.positioning.flipCornerVertical(g);
h=goog.positioning.flipCornerVertical(h)}f=goog.positioning.positionAtAnchor(this.element,g,b,h,null,d,goog.positioning.Overflow.FAIL_X|goog.positioning.Overflow.FAIL_Y,e);if(f&goog.positioning.OverflowStatus.FAILED)this.adjust_?goog.positioning.positionAtAnchor(this.element,this.corner,b,c,null,d,goog.positioning.Overflow.ADJUST_X|goog.positioning.Overflow.ADJUST_Y,e):goog.positioning.positionAtAnchor(this.element,this.corner,b,c,null,d,goog.positioning.Overflow.IGNORE,e)}};goog.positioning.MenuAnchoredPosition=function(b,c,d,e){goog.positioning.AnchoredViewportPosition.call(this,b,c,d);this.resize_=e};goog.inherits(goog.positioning.MenuAnchoredPosition,goog.positioning.AnchoredViewportPosition);
goog.positioning.MenuAnchoredPosition.prototype.reposition=function(b,c,d,e){this.resize_?goog.positioning.positionAtAnchor(this.element,this.corner,b,c,null,d,goog.positioning.Overflow.ADJUST_X|goog.positioning.Overflow.RESIZE_HEIGHT,e):goog.positioning.MenuAnchoredPosition.superClass_.reposition.call(this,b,c,d,e)};goog.ui.MenuButton=function(b,c,d,e){goog.ui.Button.call(this,b,d||goog.ui.MenuButtonRenderer.getInstance(),e);this.setSupportedState(goog.ui.Component.State.OPENED,true);c&&this.setMenu(c);this.timer_=new goog.Timer(500)};goog.inherits(goog.ui.MenuButton,goog.ui.Button);a=goog.ui.MenuButton.prototype;a.alignToStart_=true;a.scrollOnOverflow_=false;a.isFocusablePopupMenu_=false;
a.enterDocument=function(){goog.ui.MenuButton.superClass_.enterDocument.call(this);this.menu_&&this.attachMenuEventListeners_(this.menu_,true);goog.dom.a11y.setState(this.getElement(),goog.dom.a11y.State.HASPOPUP,"true")};a.exitDocument=function(){goog.ui.MenuButton.superClass_.exitDocument.call(this);if(this.menu_){this.setOpen(false);this.menu_.exitDocument();this.attachMenuEventListeners_(this.menu_,false);var b=this.menu_.getElement();b&&goog.dom.removeNode(b)}};
a.disposeInternal=function(){goog.ui.MenuButton.superClass_.disposeInternal.call(this);if(this.menu_){this.menu_.dispose();delete this.menu_}this.timer_.dispose()};a.handleMouseDown=function(b){goog.ui.MenuButton.superClass_.handleMouseDown.call(this,b);if(this.isActive()){this.setOpen(!this.isOpen());this.menu_&&this.menu_.setMouseButtonPressed(this.isOpen())}};a.handleMouseUp=function(b){goog.ui.MenuButton.superClass_.handleMouseUp.call(this,b);this.menu_&&!this.isActive()&&this.menu_.setMouseButtonPressed(false)};
a.performActionInternal=function(){this.setActive(false);return true};a.handleDocumentMouseDown=function(b){this.menu_&&this.menu_.isVisible()&&!this.containsElement(b.target)&&this.setOpen(false)};a.containsElement=function(b){return b&&goog.dom.contains(this.getElement(),b)||this.menu_&&this.menu_.containsElement(b)||false};
a.handleKeyEventInternal=function(b){if(b.type!=(b.keyCode==goog.events.KeyCodes.SPACE?goog.events.EventType.KEYUP:goog.events.KeyHandler.EventType.KEY))return false;if(this.menu_&&this.menu_.isVisible()){var c=this.menu_.handleKeyEvent(b);if(b.keyCode==goog.events.KeyCodes.ESC){this.setOpen(false);return true}return c}if(b.keyCode==goog.events.KeyCodes.DOWN||b.keyCode==goog.events.KeyCodes.UP||b.keyCode==goog.events.KeyCodes.SPACE){this.setOpen(true);return true}return false};
a.handleMenuAction=function(){this.setOpen(false)};a.handleMenuBlur=function(){this.isActive()||this.setOpen(false)};a.handleBlur=function(b){this.isFocusablePopupMenu()||this.setOpen(false);goog.ui.MenuButton.superClass_.handleBlur.call(this,b)};a.getMenu=function(){this.menu_||this.setMenu(new goog.ui.Menu(this.getDomHelper()));return this.menu_||null};
a.setMenu=function(b){var c=this.menu_;if(b!=c){if(c){this.setOpen(false);this.isInDocument()&&this.attachMenuEventListeners_(c,false);delete this.menu_}if(b){this.menu_=b;b.setParent(this);b.setVisible(false);b.setAllowAutoFocus(this.isFocusablePopupMenu());this.isInDocument()&&this.attachMenuEventListeners_(b,true)}}return c};a.addItem=function(b){this.getMenu().addChild(b,true)};a.addItemAt=function(b,c){this.getMenu().addChildAt(b,c,true)};
a.removeItem=function(b){(b=this.getMenu().removeChild(b,true))&&b.dispose()};a.removeItemAt=function(b){(b=this.getMenu().removeChildAt(b,true))&&b.dispose()};a.getItemAt=function(b){return this.menu_?this.menu_.getChildAt(b):null};a.getItemCount=function(){return this.menu_?this.menu_.getChildCount():0};a.setVisible=function(b,c){(b=goog.ui.MenuButton.superClass_.setVisible.call(this,b,c))&&!this.isVisible()&&this.setOpen(false);return b};
a.setEnabled=function(b){goog.ui.MenuButton.superClass_.setEnabled.call(this,b);this.isEnabled()||this.setOpen(false)};a.isAlignMenuToStart=function(){return this.alignToStart_};a.setAlignMenuToStart=function(b){this.alignToStart_=b};a.setScrollOnOverflow=function(b){this.scrollOnOverflow_=b};a.isScrollOnOverflow=function(){return this.scrollOnOverflow_};a.isFocusablePopupMenu=function(){return this.isFocusablePopupMenu_};a.setFocusablePopupMenu=function(b){this.isFocusablePopupMenu_=b};
a.showMenu=function(){this.setOpen(true)};a.hideMenu=function(){this.setOpen(false)};
a.setOpen=function(b){goog.ui.MenuButton.superClass_.setOpen.call(this,b);if(this.menu_&&this.hasState(goog.ui.Component.State.OPENED)==b){if(b){this.menu_.isInDocument()||this.menu_.render();this.viewportBox_=goog.style.getVisibleRectForElement(this.getElement());this.buttonRect_=goog.style.getBounds(this.getElement());this.positionMenu();this.menu_.setHighlightedIndex(-1)}else{this.setActive(false);this.menu_.setMouseButtonPressed(false);if(goog.isDefAndNotNull(this.originalSize_)){this.originalSize_=
undefined;var c=this.menu_.getElement();c&&goog.style.setSize(c,"","")}}this.menu_.setVisible(b);this.attachPopupListeners_(b)}};
a.positionMenu=function(){var b=this.isAlignMenuToStart()?goog.positioning.Corner.BOTTOM_START:goog.positioning.Corner.BOTTOM_END;b=new goog.positioning.MenuAnchoredPosition(this.getElement(),b,!this.scrollOnOverflow_,this.scrollOnOverflow_);var c=this.menu_.getElement();if(!this.menu_.isVisible()){c.style.visibility="hidden";goog.style.showElement(c,true)}if(!this.originalSize_&&this.scrollOnOverflow_)this.originalSize_=goog.style.getSize(c);var d=this.isAlignMenuToStart()?goog.positioning.Corner.TOP_START:
goog.positioning.Corner.TOP_END;b.reposition(c,d,null,this.originalSize_);if(!this.menu_.isVisible()){goog.style.showElement(c,false);c.style.visibility="visible"}};a.onTick_=function(){var b=goog.style.getBounds(this.getElement()),c=goog.style.getVisibleRectForElement(this.getElement());if(!goog.math.Rect.equals(this.buttonRect_,b)||!goog.math.Box.equals(this.viewportBox_,c)){this.buttonRect_=b;this.viewportBox_=c;this.positionMenu()}};
a.attachMenuEventListeners_=function(b,c){var d=this.getHandler();c=c?d.listen:d.unlisten;c.call(d,b,goog.ui.Component.EventType.ACTION,this.handleMenuAction);c.call(d,b,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem);c.call(d,b,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem)};a.handleHighlightItem=function(b){goog.dom.a11y.setState(this.getElement(),goog.dom.a11y.State.ACTIVEDESCENDANT,b.target.getElement().id)};
a.handleUnHighlightItem=function(){this.menu_.getHighlighted()||goog.dom.a11y.setState(this.getElement(),goog.dom.a11y.State.ACTIVEDESCENDANT,"")};
a.attachPopupListeners_=function(b){var c=this.getHandler(),d=b?c.listen:c.unlisten;d.call(c,this.getDomHelper().getDocument(),goog.events.EventType.MOUSEDOWN,this.handleDocumentMouseDown,true);this.isFocusablePopupMenu()&&d.call(c,this.menu_,goog.ui.Component.EventType.BLUR,this.handleMenuBlur);d.call(c,this.timer_,goog.Timer.TICK,this.onTick_);b?this.timer_.start():this.timer_.stop()};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuButtonRenderer.CSS_CLASS,function(){return new goog.ui.MenuButton(null)});goog.ui.ColorMenuButton=function(b,c,d,e){goog.ui.MenuButton.call(this,b,c,d||goog.ui.ColorMenuButtonRenderer.getInstance(),e)};goog.inherits(goog.ui.ColorMenuButton,goog.ui.MenuButton);
goog.ui.ColorMenuButton.PALETTES={GRAYSCALE:["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],SOLID:["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],PASTEL:["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000",
"#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]};goog.ui.ColorMenuButton.NO_COLOR="none";goog.ui.ColorMenuButton.newColorMenu=function(b,c){var d=new goog.ui.Menu(c);b&&goog.array.forEach(b,function(e){d.addChild(e,true)});goog.object.forEach(goog.ui.ColorMenuButton.PALETTES,function(e){e=new goog.ui.ColorPalette(e,null,c);e.setSize(8);d.addChild(e,true)});return d};a=goog.ui.ColorMenuButton.prototype;
a.getSelectedColor=function(){return this.getValue()};a.setSelectedColor=function(b){this.setValue(b)};a.setValue=function(b){for(var c=0,d;d=this.getItemAt(c);c++)typeof d.setSelectedColor=="function"&&d.setSelectedColor(b);goog.ui.ColorMenuButton.superClass_.setValue.call(this,b)};
a.handleMenuAction=function(b){if(typeof b.target.getSelectedColor=="function")this.setValue(b.target.getSelectedColor());else b.target.getValue()==goog.ui.ColorMenuButton.NO_COLOR&&this.setValue(null);goog.ui.ColorMenuButton.superClass_.handleMenuAction.call(this,b);b.stopPropagation();this.dispatchEvent(goog.ui.Component.EventType.ACTION)};
a.setOpen=function(b){if(b&&this.getItemCount()==0){this.setMenu(goog.ui.ColorMenuButton.newColorMenu(null,this.getDomHelper()));this.setValue(this.getValue())}goog.ui.ColorMenuButton.superClass_.setOpen.call(this,b)};goog.ui.registry.setDecoratorByClassName(goog.ui.ColorMenuButtonRenderer.CSS_CLASS,function(){return new goog.ui.ColorMenuButton(null)});goog.ui.ToolbarMenuButtonRenderer=function(){goog.ui.MenuButtonRenderer.call(this)};goog.inherits(goog.ui.ToolbarMenuButtonRenderer,goog.ui.MenuButtonRenderer);goog.addSingletonGetter(goog.ui.ToolbarMenuButtonRenderer);goog.ui.ToolbarMenuButtonRenderer.CSS_CLASS="goog-toolbar-menu-button";goog.ui.ToolbarMenuButtonRenderer.prototype.getCssClass=function(){return goog.ui.ToolbarMenuButtonRenderer.CSS_CLASS};goog.ui.ToolbarColorMenuButtonRenderer=function(){goog.ui.ToolbarMenuButtonRenderer.call(this)};goog.inherits(goog.ui.ToolbarColorMenuButtonRenderer,goog.ui.ToolbarMenuButtonRenderer);goog.addSingletonGetter(goog.ui.ToolbarColorMenuButtonRenderer);goog.ui.ToolbarColorMenuButtonRenderer.prototype.createCaption=function(b,c){return goog.ui.MenuButtonRenderer.wrapCaption(goog.ui.ColorMenuButtonRenderer.wrapCaption(b,c),this.getCssClass(),c)};
goog.ui.ToolbarColorMenuButtonRenderer.prototype.setValue=function(b,c){b&&goog.ui.ColorMenuButtonRenderer.setCaptionValue(this.getContentElement(b),c)};goog.ui.ToolbarColorMenuButtonRenderer.prototype.initializeDom=function(b){this.setValue(b.getElement(),b.getValue());goog.dom.classes.add(b.getElement(),"goog-toolbar-color-menu-button");goog.ui.ToolbarColorMenuButtonRenderer.superClass_.initializeDom.call(this,b)};goog.ui.ToolbarColorMenuButton=function(b,c,d,e){goog.ui.ColorMenuButton.call(this,b,c,d||goog.ui.ToolbarColorMenuButtonRenderer.getInstance(),e)};goog.inherits(goog.ui.ToolbarColorMenuButton,goog.ui.ColorMenuButton);goog.ui.registry.setDecoratorByClassName("goog-toolbar-color-menu-button",function(){return new goog.ui.ToolbarColorMenuButton(null)});goog.ui.ToolbarMenuButton=function(b,c,d,e){goog.ui.MenuButton.call(this,b,c,d||goog.ui.ToolbarMenuButtonRenderer.getInstance(),e)};goog.inherits(goog.ui.ToolbarMenuButton,goog.ui.MenuButton);goog.ui.registry.setDecoratorByClassName(goog.ui.ToolbarMenuButtonRenderer.CSS_CLASS,function(){return new goog.ui.ToolbarMenuButton(null)});goog.ui.Select=function(b,c,d,e){goog.ui.MenuButton.call(this,b,c,d,e);this.setDefaultCaption(b)};goog.inherits(goog.ui.Select,goog.ui.MenuButton);a=goog.ui.Select.prototype;a.selectionModel_=null;a.defaultCaption_=null;a.enterDocument=function(){goog.ui.Select.superClass_.enterDocument.call(this);this.updateCaption_()};a.decorateInternal=function(b){goog.ui.Select.superClass_.decorateInternal.call(this,b);(b=this.getCaption())?this.setDefaultCaption(b):this.setSelectedIndex(0)};
a.disposeInternal=function(){goog.ui.Select.superClass_.disposeInternal.call(this);if(this.selectionModel_){this.selectionModel_.dispose();this.selectionModel_=null}this.defaultCaption_=null};a.handleMenuAction=function(b){this.setSelectedItem(b.target);goog.ui.Select.superClass_.handleMenuAction.call(this,b);b.stopPropagation();this.dispatchEvent(goog.ui.Component.EventType.ACTION)};
a.handleSelectionChange=function(){var b=this.getSelectedItem();goog.ui.Select.superClass_.setValue.call(this,b&&b.getValue());this.updateCaption_()};a.setMenu=function(b){var c=goog.ui.Select.superClass_.setMenu.call(this,b);if(b!=c){this.selectionModel_&&this.selectionModel_.clear();if(b)this.selectionModel_?b.forEachChild(function(d){this.selectionModel_.addItem(d)},this):this.createSelectionModel_(b)}return c};a.getDefaultCaption=function(){return this.defaultCaption_};
a.setDefaultCaption=function(b){this.defaultCaption_=b;this.updateCaption_()};a.addItem=function(b){goog.ui.Select.superClass_.addItem.call(this,b);this.selectionModel_?this.selectionModel_.addItem(b):this.createSelectionModel_(this.getMenu())};a.addItemAt=function(b,c){goog.ui.Select.superClass_.addItemAt.call(this,b,c);this.selectionModel_?this.selectionModel_.addItemAt(b,c):this.createSelectionModel_(this.getMenu())};
a.removeItem=function(b){goog.ui.Select.superClass_.removeItem.call(this,b);this.selectionModel_&&this.selectionModel_.removeItem(b)};a.removeItemAt=function(b){goog.ui.Select.superClass_.removeItemAt.call(this,b);this.selectionModel_&&this.selectionModel_.removeItemAt(b)};a.setSelectedItem=function(b){this.selectionModel_&&this.selectionModel_.setSelectedItem(b)};a.setSelectedIndex=function(b){this.selectionModel_&&this.setSelectedItem(this.selectionModel_.getItemAt(b))};
a.setValue=function(b){if(goog.isDefAndNotNull(b)&&this.selectionModel_)for(var c=0,d;d=this.selectionModel_.getItemAt(c);c++)if(d&&typeof d.getValue=="function"&&d.getValue()==b){this.setSelectedItem(d);return}this.setSelectedItem(null)};a.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null};a.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1};a.getSelectionModel=function(){return this.selectionModel_};
a.createSelectionModel_=function(b){this.selectionModel_=new goog.ui.SelectionModel;b&&b.forEachChild(function(c){this.selectionModel_.addItem(c)},this);this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)};a.updateCaption_=function(){var b=this.getSelectedItem();this.setContent(b?b.getCaption():this.defaultCaption_)};a.setOpen=function(b){goog.ui.Select.superClass_.setOpen.call(this,b);this.isOpen()&&this.getMenu().setHighlightedIndex(this.getSelectedIndex())};
goog.ui.registry.setDecoratorByClassName("goog-select",function(){return new goog.ui.Select(null)});goog.ui.ToolbarSelect=function(b,c,d,e){goog.ui.Select.call(this,b,c,d||goog.ui.ToolbarMenuButtonRenderer.getInstance(),e)};goog.inherits(goog.ui.ToolbarSelect,goog.ui.Select);goog.ui.registry.setDecoratorByClassName("goog-toolbar-select",function(){return new goog.ui.ToolbarSelect(null)});jchemhub.controller.ToolbarFactory={};jchemhub.controller.ToolbarFactory.getPrimaryFont=function(b){var c=b.indexOf(",");b=(c!=-1?b.substring(0,c):b).toLowerCase();return goog.string.stripQuotes(b,"\"'")};jchemhub.controller.ToolbarFactory.addFonts=function(b,c){goog.array.forEach(c,function(d){jchemhub.controller.ToolbarFactory.addFont(b,d.caption,d.value)})};
jchemhub.controller.ToolbarFactory.addFont=function(b,c,d){var e=jchemhub.controller.ToolbarFactory.getPrimaryFont(d);c=new goog.ui.Option(c,d,b.dom_);c.setId(e);b.addItem(c);c.getContentElement().style.fontFamily=d};jchemhub.controller.ToolbarFactory.addFontSizes=function(b,c){goog.array.forEach(c,function(d){jchemhub.controller.ToolbarFactory.addFontSize(b,d.caption,d.value)})};
jchemhub.controller.ToolbarFactory.addFontSize=function(b,c,d){var e=new goog.ui.Option(c,d,b.dom_);e.setId(c);b.addItem(e);b=e.getContentElement();b.style.fontSize=jchemhub.controller.ToolbarFactory.getPxFromLegacySize(d)+"px";b.firstChild.style.height="1.1em"};jchemhub.controller.ToolbarFactory.getPxFromLegacySize=function(b){return jchemhub.controller.ToolbarFactory.LEGACY_SIZE_TO_PX_MAP_[b]||10};
jchemhub.controller.ToolbarFactory.getLegacySizeFromPx=function(b){return goog.array.lastIndexOf(jchemhub.controller.ToolbarFactory.LEGACY_SIZE_TO_PX_MAP_,b)};jchemhub.controller.ToolbarFactory.LEGACY_SIZE_TO_PX_MAP_=[10,10,13,16,18,24,32,48];jchemhub.controller.ToolbarFactory.addFormatOptions=function(b,c){goog.array.forEach(c,function(d){jchemhub.controller.ToolbarFactory.addFormatOption(b,d.caption,d.command)})};
jchemhub.controller.ToolbarFactory.addFormatOption=function(b,c,d){c=new goog.ui.Option(b.dom_.createDom(goog.dom.TagName.DIV,null,c),d,b.dom_);c.setId(d);b.addItem(c)};
jchemhub.controller.ToolbarFactory.makeToolbar=function(b,c,d){var e=goog.dom.getDomHelper(c);e=new goog.ui.Toolbar(goog.ui.ToolbarRenderer.getInstance(),goog.ui.Container.Orientation.HORIZONTAL,e);d=d||goog.style.isRightToLeft(c);e.setRightToLeft(d);e.setFocusable(false);for(var f=0,g;g=b[f];f++){g.setSupportedState(goog.ui.Component.State.FOCUSED,false);g.setRightToLeft(d);e.addChild(g,true)}e.render(c);return e};
jchemhub.controller.ToolbarFactory.makeButton=function(b,c,d,e,f,g){d=new goog.ui.ToolbarButton(jchemhub.controller.ToolbarFactory.createContent_(d,e,g),f,g);d.setId(b);d.setTooltip(c);return d};jchemhub.controller.ToolbarFactory.makeToggleButton=function(b,c,d,e,f,g){b=jchemhub.controller.ToolbarFactory.makeButton(b,c,d,e,f,g);b.setSupportedState(goog.ui.Component.State.CHECKED,true);return b};
jchemhub.controller.ToolbarFactory.makeMenuButton=function(b,c,d,e,f,g){d=new goog.ui.ToolbarMenuButton(jchemhub.controller.ToolbarFactory.createContent_(d,e,g),null,f,g);d.setId(b);d.setTooltip(c);return d};jchemhub.controller.ToolbarFactory.makeSelectButton=function(b,c,d,e,f,g){f=new goog.ui.ToolbarSelect(null,null,f,g);e&&goog.array.forEach(e.split(/\s+/),f.addClassName,f);f.addClassName("goog-toolbar-select");f.setDefaultCaption(d);f.setId(b);f.setTooltip(c);return f};
jchemhub.controller.ToolbarFactory.makeColorMenuButton=function(b,c,d,e,f,g){d=new goog.ui.ToolbarColorMenuButton(jchemhub.controller.ToolbarFactory.createContent_(d,e,g),null,f,g);d.setId(b);d.setTooltip(c);return d};jchemhub.controller.ToolbarFactory.createContent_=function(b,c,d){if((!b||b=="")&&goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9a"))b=goog.string.Unicode.NBSP;return(d||goog.dom.getDomHelper()).createDom(goog.dom.TagName.DIV,c?{"class":c}:null,b)};jchemhub.controller.DefaultToolbar={};jchemhub.controller.DefaultToolbar.MSG_FONT_NORMAL=goog.getMsg("Normal");jchemhub.controller.DefaultToolbar.MSG_FONT_NORMAL_SERIF=goog.getMsg("Normal / serif");
jchemhub.controller.DefaultToolbar.FONTS_=[{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_NORMAL,value:"arial,sans-serif"},{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_NORMAL_SERIF,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}];
jchemhub.controller.DefaultToolbar.I18N_FONTS_={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},
{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]};jchemhub.controller.DefaultToolbar.locale_="en-us";jchemhub.controller.DefaultToolbar.setLocale=function(b){jchemhub.controller.DefaultToolbar.locale_=b};
jchemhub.controller.DefaultToolbar.addDefaultFonts=function(b){var c=jchemhub.controller.DefaultToolbar.locale_.replace(/_/,"-").toLowerCase(),d=[];if(c in jchemhub.controller.DefaultToolbar.I18N_FONTS_)d=jchemhub.controller.DefaultToolbar.I18N_FONTS_[c];d.length&&jchemhub.controller.ToolbarFactory.addFonts(b,d);jchemhub.controller.ToolbarFactory.addFonts(b,jchemhub.controller.DefaultToolbar.FONTS_)};jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_SMALL=goog.getMsg("Small");
jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_NORMAL=goog.getMsg("Normal");jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_LARGE=goog.getMsg("Large");jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_HUGE=goog.getMsg("Huge");
jchemhub.controller.DefaultToolbar.FONT_SIZES_=[{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_SMALL,value:1},{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_NORMAL,value:2},{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_LARGE,value:4},{caption:jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_HUGE,value:6}];jchemhub.controller.DefaultToolbar.addDefaultFontSizes=function(b){jchemhub.controller.ToolbarFactory.addFontSizes(b,jchemhub.controller.DefaultToolbar.FONT_SIZES_)};
jchemhub.controller.DefaultToolbar.MSG_FORMAT_HEADING=goog.getMsg("Heading");jchemhub.controller.DefaultToolbar.MSG_FORMAT_SUBHEADING=goog.getMsg("Subheading");jchemhub.controller.DefaultToolbar.MSG_FORMAT_MINOR_HEADING=goog.getMsg("Minor heading");jchemhub.controller.DefaultToolbar.MSG_FORMAT_NORMAL=goog.getMsg("Normal");
jchemhub.controller.DefaultToolbar.FORMAT_OPTIONS_=[{caption:jchemhub.controller.DefaultToolbar.MSG_FORMAT_HEADING,command:goog.dom.TagName.H2},{caption:jchemhub.controller.DefaultToolbar.MSG_FORMAT_SUBHEADING,command:goog.dom.TagName.H3},{caption:jchemhub.controller.DefaultToolbar.MSG_FORMAT_MINOR_HEADING,command:goog.dom.TagName.H4},{caption:jchemhub.controller.DefaultToolbar.MSG_FORMAT_NORMAL,command:goog.dom.TagName.P}];
jchemhub.controller.DefaultToolbar.addDefaultFormatOptions=function(b){jchemhub.controller.ToolbarFactory.addFormatOptions(b,jchemhub.controller.DefaultToolbar.FORMAT_OPTIONS_)};jchemhub.controller.DefaultToolbar.makeDefaultToolbar=function(b,c){var d=c||goog.style.isRightToLeft(b)?jchemhub.controller.DefaultToolbar.DEFAULT_BUTTONS_RTL:jchemhub.controller.DefaultToolbar.DEFAULT_BUTTONS;return jchemhub.controller.DefaultToolbar.makeToolbar(d,b,c)};
jchemhub.controller.DefaultToolbar.makeToolbar=function(b,c,d){for(var e=goog.dom.getDomHelper(c),f=[],g=0,h;h=b[g];g++){if(goog.isString(h))h=jchemhub.controller.DefaultToolbar.makeBuiltInToolbarButton(h,e);h&&f.push(h)}return jchemhub.controller.ToolbarFactory.makeToolbar(f,c,d)};
jchemhub.controller.DefaultToolbar.makeBuiltInToolbarButton=function(b,c){var d;if(b=jchemhub.controller.DefaultToolbar.buttons_[b]){d=b.factory||jchemhub.controller.ToolbarFactory.makeToggleButton;var e=b.command,f=b.tooltip,g=b.caption,h=b.classes;c=c||goog.dom.getDomHelper();d=d(e,f,g,h,null,c);if(b.queryable)d.queryable=true}return d};jchemhub.controller.DefaultToolbar.DEFAULT_BUTTONS=[];jchemhub.controller.DefaultToolbar.DEFAULT_BUTTONS_RTL=[];
jchemhub.controller.DefaultToolbar.rtlButtonFactory_=function(b,c,d,e,f,g){var h=jchemhub.controller.ToolbarFactory.makeToggleButton(b,c,d,e,f,g);h.updateFromValue=function(i){i=!!i;goog.dom.classes.enable(h.getParent().getElement(),"tr-rtl-mode",i);h.setChecked(i)};return h};jchemhub.controller.DefaultToolbar.undoRedoButtonFactory_=function(b,c,d,e,f,g){var h=jchemhub.controller.ToolbarFactory.makeButton(b,c,d,e,f,g);h.updateFromValue=function(i){h.setEnabled(i)};return h};
jchemhub.controller.DefaultToolbar.fontFaceFactory_=function(b,c,d,e,f,g){var h=jchemhub.controller.ToolbarFactory.makeSelectButton(b,c,d,e,f,g);jchemhub.controller.DefaultToolbar.addDefaultFonts(h);h.setDefaultCaption(jchemhub.controller.DefaultToolbar.MSG_FONT_NORMAL);goog.dom.classes.add(h.getMenu().getContentElement(),"goog-menu-noaccel");h.updateFromValue=function(i){var j=null;if(i&&i.length>0)j=h.getMenu().getChild(jchemhub.controller.ToolbarFactory.getPrimaryFont(i));i=h.getSelectedItem();
j!=i&&h.setSelectedItem(j)};return h};
jchemhub.controller.DefaultToolbar.fontSizeFactory_=function(b,c,d,e,f,g){var h=jchemhub.controller.ToolbarFactory.makeSelectButton(b,c,d,e,f,g);jchemhub.controller.DefaultToolbar.addDefaultFontSizes(h);h.setDefaultCaption(jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_NORMAL);goog.dom.classes.add(h.getMenu().getContentElement(),"goog-menu-noaccel");h.updateFromValue=function(i){if(goog.isString(i)&&goog.style.getLengthUnits(i)=="px")i=jchemhub.controller.ToolbarFactory.getLegacySizeFromPx(parseInt(i,10));
i=i>0?i:null;i!=h.getValue()&&h.setValue(i)};return h};jchemhub.controller.DefaultToolbar.colorUpdateFromValue_=function(b,c){try{if(goog.userAgent.IE){var d="000000"+c.toString(16),e=d.substr(d.length-6,6);c=(new goog.string.StringBuffer("#",e.substring(4,6),e.substring(2,4),e.substring(0,2))).toString()}c!=b.getValue()&&b.setValue(c)}catch(f){}};
jchemhub.controller.DefaultToolbar.fontColorFactory_=function(b,c,d,e,f,g){b=jchemhub.controller.ToolbarFactory.makeColorMenuButton(b,c,d,e,f,g);b.setSelectedColor("#000");b.updateFromValue=goog.partial(jchemhub.controller.DefaultToolbar.colorUpdateFromValue_,b);return b};
jchemhub.controller.DefaultToolbar.backgroundColorFactory_=function(b,c,d,e,f,g){b=jchemhub.controller.ToolbarFactory.makeColorMenuButton(b,c,d,e,f,g);b.setSelectedColor("#FFF");b.updateFromValue=goog.partial(jchemhub.controller.DefaultToolbar.colorUpdateFromValue_,b);return b};
jchemhub.controller.DefaultToolbar.formatBlockFactory_=function(b,c,d,e,f,g){var h=jchemhub.controller.ToolbarFactory.makeSelectButton(b,c,d,e,f,g);jchemhub.controller.DefaultToolbar.addDefaultFormatOptions(h);h.setDefaultCaption(jchemhub.controller.DefaultToolbar.MSG_FORMAT_NORMAL);goog.dom.classes.add(h.getMenu().getContentElement(),"goog-menu-noaccel");h.updateFromValue=function(i){i=i&&i.length>0?i:null;i!=h.getValue()&&h.setValue(i)};return h};
jchemhub.controller.DefaultToolbar.MSG_FORMAT_BLOCK_TITLE=goog.getMsg("Format");jchemhub.controller.DefaultToolbar.MSG_FORMAT_BLOCK_CAPTION=goog.getMsg("Format");jchemhub.controller.DefaultToolbar.MSG_UNDO_TITLE=goog.getMsg("Undo");jchemhub.controller.DefaultToolbar.MSG_REDO_TITLE=goog.getMsg("Redo");jchemhub.controller.DefaultToolbar.MSG_FONT_FACE_TITLE=goog.getMsg("Font");jchemhub.controller.DefaultToolbar.MSG_FONT_SIZE_TITLE=goog.getMsg("Font size");
jchemhub.controller.DefaultToolbar.MSG_FONT_COLOR_TITLE=goog.getMsg("Text color");jchemhub.controller.DefaultToolbar.MSG_BOLD_TITLE=goog.getMsg("Bold");jchemhub.controller.DefaultToolbar.MSG_ITALIC_TITLE=goog.getMsg("Italic");jchemhub.controller.DefaultToolbar.MSG_UNDERLINE_TITLE=goog.getMsg("Underline");jchemhub.controller.DefaultToolbar.MSG_BACKGROUND_COLOR_TITLE=goog.getMsg("Text background color");jchemhub.controller.DefaultToolbar.MSG_LINK_TITLE=goog.getMsg("Add or remove link");
jchemhub.controller.DefaultToolbar.MSG_ORDERED_LIST_TITLE=goog.getMsg("Numbered list");jchemhub.controller.DefaultToolbar.MSG_UNORDERED_LIST_TITLE=goog.getMsg("Bullet list");jchemhub.controller.DefaultToolbar.MSG_OUTDENT_TITLE=goog.getMsg("Decrease indent");jchemhub.controller.DefaultToolbar.MSG_INDENT_TITLE=goog.getMsg("Increase indent");jchemhub.controller.DefaultToolbar.MSG_ALIGN_LEFT_TITLE=goog.getMsg("Align left");jchemhub.controller.DefaultToolbar.MSG_ALIGN_CENTER_TITLE=goog.getMsg("Align center");
jchemhub.controller.DefaultToolbar.MSG_ALIGN_RIGHT_TITLE=goog.getMsg("Align right");jchemhub.controller.DefaultToolbar.MSG_JUSTIFY_TITLE=goog.getMsg("Justify");jchemhub.controller.DefaultToolbar.MSG_REMOVE_FORMAT_TITLE=goog.getMsg("Remove formatting");jchemhub.controller.DefaultToolbar.MSG_IMAGE_TITLE=goog.getMsg("Insert image");jchemhub.controller.DefaultToolbar.MSG_STRIKE_THROUGH_TITLE=goog.getMsg("Strikethrough");jchemhub.controller.DefaultToolbar.MSG_DIR_LTR_TITLE=goog.getMsg("Left-to-right");
jchemhub.controller.DefaultToolbar.MSG_DIR_RTL_TITLE=goog.getMsg("Right-to-left");jchemhub.controller.DefaultToolbar.MSG_BLOCKQUOTE_TITLE=goog.getMsg("Quote");jchemhub.controller.DefaultToolbar.MSG_EDIT_HTML_TITLE=goog.getMsg("Edit HTML source");jchemhub.controller.DefaultToolbar.MSG_LINK_CAPTION=goog.getMsg("Link");jchemhub.controller.DefaultToolbar.MSG_SUBSCRIPT=goog.getMsg("Subscript");jchemhub.controller.DefaultToolbar.MSG_SUPERSCRIPT=goog.getMsg("Superscript");
jchemhub.controller.DefaultToolbar.MSG_EDIT_HTML_CAPTION=goog.getMsg("Edit HTML");jchemhub.controller.DefaultToolbar.buttons_={};jchemhub.controller.DefaultToolbar.ButtonDescriptor=goog.typedef;jchemhub.controller.DefaultToolbar.BUTTONS_=[];(function(){for(var b=0,c;c=jchemhub.controller.DefaultToolbar.BUTTONS_[b];b++)jchemhub.controller.DefaultToolbar.buttons_[c.command]=c;delete jchemhub.controller.DefaultToolbar.BUTTONS_})();jchemhub.controller.ToolbarController=function(b,c){goog.events.EventTarget.call(this);this.handler_=new goog.events.EventHandler(this);this.editor_=b;this.toolbar_=c;this.queryCommands_=[];this.toolbar_.forEachChild(function(d){d.queryable&&this.queryCommands_.push(this.getComponentId(d.getId()))},this);this.toolbar_.setFocusable(false);this.handler_.listen(this.editor_,jchemhub.controller.ReactionEditor.EventType.COMMAND_VALUE_CHANGE,this.updateToolbar).listen(this.toolbar_,goog.ui.Component.EventType.ACTION,
this.handleAction)};goog.inherits(jchemhub.controller.ToolbarController,goog.events.EventTarget);a=jchemhub.controller.ToolbarController.prototype;a.getComponentId=function(b){return b};a.getCommand=function(b){return b};a.getHandler=function(){return this.handler_};a.getEditor=function(){return this.editor_};a.getToolbar=function(){return this.toolbar_};a.isVisible=function(){return this.toolbar_.isVisible()};a.setVisible=function(b){this.toolbar_.setVisible(b)};a.isEnabled=function(){return this.toolbar_.isEnabled()};
a.setEnabled=function(b){this.toolbar_.setEnabled(b)};a.blur=function(){this.toolbar_.handleBlur(null)};a.disposeInternal=function(){jchemhub.controller.ToolbarController.superClass_.disposeInternal.call(this);if(this.handler_){this.handler_.dispose();delete this.handler_}if(this.toolbar_){this.toolbar_.dispose();delete this.toolbar_}delete this.editor_;delete this.queryCommands_};
a.updateToolbar=function(b){if(this.toolbar_.isEnabled()&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE)){var c;try{c=this.editor_.queryCommandValue(b.commands||this.queryCommands_)}catch(d){c={}}this.updateToolbarFromState(c)}};a.updateToolbarFromState=function(b){for(var c in b){var d=this.toolbar_.getChild(this.getComponentId(c));if(d){var e=b[c];d.updateFromValue?d.updateFromValue(e):d.setChecked(!!e)}}};
a.handleAction=function(b){this.editor_.execCommand(this.getCommand(b.target.getId()),b.target.getValue())};jchemhub.model={};jchemhub.model.Reaction=function(){this.header="";this.reactants=[];this.products=[]};jchemhub.model.Reaction.prototype.addReactant=function(b){this.reactants.push(b)};jchemhub.model.Reaction.prototype.addProduct=function(b){this.products.push(b)};jchemhub.ring={};jchemhub.ring.Ring=function(b,c){this.atoms=b;this.bonds=c;for(var d=c=0,e=0,f=b.length;e<f;e++){c+=b[e].coord.x;d+=b[e].coord.y}this.ringCenter=new goog.math.Coordinate(c/b.length,d/b.length)};jchemhub.ring.RingFinder=function(){};jchemhub.ring.RingFinder.findRings=function(b){var c=[];graph=new jchemhub.ring.PathGraph(b);for(var d=0,e=b.countAtoms();d<e;d++)for(var f=graph.remove(b.getAtom(d)),g=0;g<f.length;g++){edge=f[g];atom_ring=edge.atoms;c.push(atom_ring)}goog.array.sort(c);f=[];d=0;for(e=c.length;d<e;d++)f.push(this.createRing(c[d],b));return f};
jchemhub.ring.RingFinder.createRing=function(b,c){for(var d=[],e=0,f=b.length-1;e<f;e++){bond=c.findBond(b[e],b[e+1]);bond!=null&&d.push(bond)}goog.array.removeAt(b,b.length-1);return new jchemhub.ring.Ring(b,d)};jchemhub.ring.PathGraph=function(b){this.edges=[];this.atoms=[];for(var c=0,d=b.countBonds();c<d;c++){bond=b.getBond(c);this.edges.push(new jchemhub.ring.PathEdge([bond.source,bond.target]))}c=0;for(d=b.countAtoms();c<d;c++)this.atoms.push(b.getAtom(c))};
jchemhub.ring.PathGraph.prototype.remove=function(b){var c=this.getEdges(b);result=[];for(var d=0,e=c.length;d<e;d++)c[d].isCycle()&&result.push(c[d]);d=0;for(e=result.length;d<e;d++){goog.array.contains(c,result[d])&&goog.array.remove(c,result[d]);goog.array.contains(this.edges,result[d])&&goog.array.remove(this.edges,result[d])}newEdges=this.spliceEdges(c);d=0;for(e=c.length;d<e;d++)goog.array.contains(this.edges,c[d])&&goog.array.remove(this.edges,c[d]);d=0;for(e=newEdges.length;d<e;d++)goog.array.contains(this.edges,
newEdges[d])||this.edges.push(newEdges[d]);goog.array.remove(this.atoms,b);return result};jchemhub.ring.PathGraph.prototype.getEdges=function(b){for(var c=[],d=0,e=this.edges.length;d<e;d++){edge=this.edges[d];if(edge.isCycle())goog.array.contains(edge.atoms,b)&&c.push(edge);else{var f=edge.atoms.length-1;if(edge.atoms[0]==b||edge.atoms[f]==b)c.push(edge)}}return c};
jchemhub.ring.PathGraph.prototype.spliceEdges=function(b){for(var c=[],d=0,e=b.length;d<e;d++)for(var f=d+1;f<e;f++){spliced=b[f].splice(b[d]);spliced!=null&&c.push(spliced)}return c};jchemhub.ring.PathEdge=function(b){this.atoms=b};jchemhub.ring.PathEdge.prototype.isCycle=function(){var b=this.atoms.length-1;return this.atoms.length>2&&this.atoms[0]==this.atoms[b]};
jchemhub.ring.PathEdge.prototype.splice=function(b){intersection=this.getIntersection(b.atoms);newAtoms=[];for(var c=0,d=this.atoms.length;c<d;c++)newAtoms.push(this.atoms[c]);this.atoms[0]==intersection&&newAtoms.reverse();if(b.atoms[0]==intersection){c=1;for(d=b.atoms.length;c<d;c++)newAtoms.push(b.atoms[c])}else for(c=b.atoms.length-2;c>=0;c--)newAtoms.push(b.atoms[c]);if(!this.isRealPath(newAtoms))return null;return new jchemhub.ring.PathEdge(newAtoms)};
jchemhub.ring.PathEdge.prototype.isRealPath=function(b){for(var c=1,d=b.length-1;c<d;c++)for(var e=1;e<d;e++)if(c!=e)if(b[c]==b[e])return false;return true};jchemhub.ring.PathEdge.prototype.getIntersection=function(b){var c=this.atoms.length-1,d=b.length-1;if(this.atoms[c]==b[0]||this.atoms[c]==b[d])return this.atoms[c];if(this.atoms[0]==b[0]||this.atoms[0]==b[d])return this.atoms[0];throw"Couldn't splice - no intersection";};jchemhub.model.Molecule=function(b){this.bonds=[];this.atoms=[];this.name=b?b:""};a=jchemhub.model.Molecule.prototype;a.addBond=function(b){this.bonds.push(b);b.source.bonds.add(b);b.target.bonds.add(b);b.molecule=this};a.getAtom=function(b){return this.atoms[b]};a.getBond=function(b){return this.bonds[b]};a.findBond=function(b,c){for(var d=0,e=this.bonds.length;d<e;d++){var f=this.bonds[d];if(b==f.source&&c==f.target||c==f.source&&b==f.target)return f}return null};
a.indexOfAtom=function(b){return goog.array.indexOf(this.atoms,b)};a.indexOfBond=function(b){return goog.array.indexOf(this.bonds,b)};a.removeAtom=function(b){var c;if(b.constructor==Number)c=this.atoms[b];else if(b.constructor==jchemhub.model.Atom)c=b;b=c.bonds.getValues();var d=this.bonds;goog.array.forEach(b,function(e){goog.array.remove(d,e)});c.bonds.clear();goog.array.remove(this.atoms,c)};
a.removeBond=function(b){var c;if(b.constructor==Number)c=this.bonds[b];else if(b.constructor==jchemhub.model.Bond)c=b;c.source.bonds.remove(c);c.target.bonds.remove(c);goog.array.remove(this.bonds,c);c.molecule=null};a.countAtoms=function(){return this.atoms.length};a.countBonds=function(){return this.bonds.length};a.addAtom=function(b){this.atoms.push(b)};a.getRings=function(){return jchemhub.ring.RingFinder.findRings(this)};jchemhub.resource={};jchemhub.resource.Covalence={C:4,Si:4,N:3,P:3,O:2,S:2,H:1};jchemhub.model.Atom=function(b,c,d,e,f,g){this.symbol=b;this.coord=new goog.math.Coordinate(c,d);this.bonds=new goog.structs.Set;this.charge=goog.isDef(e)?e:0;this.isotope=goog.isDef(g)?g:0;this.aromatic=goog.isDef(f)?f:false;this.hybridization=null};jchemhub.model.Atom.prototype.countBonds=function(){return this.bonds.getCount()};
jchemhub.model.Atom.prototype.hydrogenCount=function(){var b=jchemhub.resource.Covalence[this.symbol],c=goog.array.reduce(this.bonds.getValues(),function(e,f){return e+f.constructor.ORDER},0),d=0;if(b)d=b-c+this.charge;return d};jchemhub.model.Atom.Hybridizations={S:0,SP1:1,SP2:2,SP3:3,PLANAR3:4,SP3D1:5,SP3D2:6,SP3D3:7,SP3D4:8,SP3D5:9};jchemhub.model.Bond=function(b,c,d){this.source=b;this.target=c;if(d)this.molecule=molecule};jchemhub.model.SingleBond=function(b,c){jchemhub.model.Bond.call(this,b,c)};goog.inherits(jchemhub.model.SingleBond,jchemhub.model.Bond);jchemhub.model.SingleBond.ORDER=1;jchemhub.model.SingleBondUp=function(b,c){jchemhub.model.SingleBond.call(this,b,c)};goog.inherits(jchemhub.model.SingleBondUp,jchemhub.model.SingleBond);jchemhub.model.SingleBondUp.ORDER=1;jchemhub.model.SingleBondDown=function(b,c){jchemhub.model.SingleBond.call(this,b,c)};goog.inherits(jchemhub.model.SingleBondDown,jchemhub.model.SingleBond);jchemhub.model.SingleBondDown.ORDER=1;jchemhub.model.SingleBondUpOrDown=function(b,c){jchemhub.model.SingleBond.call(this,b,c)};goog.inherits(jchemhub.model.SingleBondUpOrDown,jchemhub.model.SingleBond);jchemhub.model.SingleBondUpOrDown.ORDER=1;jchemhub.model.DoubleBond=function(b,c){jchemhub.model.Bond.call(this,b,c)};goog.inherits(jchemhub.model.DoubleBond,jchemhub.model.Bond);jchemhub.model.DoubleBond.ORDER=2;jchemhub.model.TripleBond=function(b,c){jchemhub.model.Bond.call(this,b,c)};goog.inherits(jchemhub.model.TripleBond,jchemhub.model.Bond);jchemhub.model.TripleBond.ORDER=3;jchemhub.model.AromaticBond=function(b,c){jchemhub.model.Bond.call(this,b,c)};goog.inherits(jchemhub.model.AromaticBond,jchemhub.model.Bond);jchemhub.model.AromaticBond.ORDER=1.5;jchemhub.model.QuadrupleBond=function(b,c){jchemhub.model.Bond.call(this,b,c)};goog.inherits(jchemhub.model.QuadrupleBond,jchemhub.model.Bond);jchemhub.model.QuadrupleBond.ORDER=4;goog.json={};goog.json.isValid_=function(b){if(/^\s*$/.test(b))return false;return/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.parse=function(b){b=String(b);if(goog.json.isValid_(b))try{return eval("("+b+")")}catch(c){}throw Error("Invalid JSON string: "+b);};
goog.json.unsafeParse=function(b){return eval("("+b+")")};goog.json.serialize=function(b){return(new goog.json.Serializer).serialize(b)};goog.json.Serializer=function(){};goog.json.Serializer.prototype.serialize=function(b){var c=[];this.serialize_(b,c);return c.join("")};
goog.json.Serializer.prototype.serialize_=function(b,c){switch(typeof b){case "string":this.serializeString_(b,c);break;case "number":this.serializeNumber_(b,c);break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==null){c.push("null");break}if(goog.isArray(b)){this.serializeArray_(b,c);break}this.serializeObject_(b,c);break;case "function":break;default:throw Error("Unknown type: "+typeof b);}};
goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(b,c){c.push('"',b.replace(goog.json.Serializer.charsToReplace_,function(d){if(d in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return goog.json.Serializer.charToJsonCharCache_[d]=f+e.toString(16)}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(b,c){c.push(isFinite(b)&&!isNaN(b)?b:"null")};
goog.json.Serializer.prototype.serializeArray_=function(b,c){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);this.serialize_(b[f],c);e=","}c.push("]")};goog.json.Serializer.prototype.serializeObject_=function(b,c){c.push("{");var d="";for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];if(typeof f!="function"){c.push(d);this.serializeString_(e,c);c.push(":");this.serialize_(f,c);d=","}}c.push("}")};jchemhub.io={};jchemhub.io.json={};jchemhub.io.json.BondType={SINGLE_BOND:"SINGLE_BOND",DOUBLE_BOND:"DOUBLE_BOND",TRIPLE_BOND:"TRIPLE_BOND",QUADRUPLE_BOND:"QUADRUPLE_BOND",AROMATIC:"AROMATIC",SINGLE_OR_DOUBLE:"SINGLE_OR_DOUBLE",SINGLE_OR_AROMATIC:"SINGLE_OR_AROMATIC",DOUBLE_OR_AROMATIC:"DOUBLE_OR_AROMATIC",ANY:"ANY"};jchemhub.io.json.StereoType={NOT_STEREO:"NOT_STEREO",SINGLE_BOND_UP:"SINGLE_BOND_UP",SINGLE_BOND_UP_OR_DOWN:"SINGLE_BOND_UP_OR_DOWN",SINGLE_BOND_DOWN:"SINGLE_BOND_DOWN"};
jchemhub.io.json.getTypeCode=function(b){if(b instanceof jchemhub.model.SingleBond)return jchemhub.io.json.BondType.SINGLE_BOND;if(b instanceof jchemhub.model.DoubleBond)return jchemhub.io.json.BondType.DOUBLE_BOND;if(b instanceof jchemhub.model.TripleBond)return jchemhub.io.json.BondType.TRIPLE_BOND;throw new Error("Invalid bond type ["+b+"]");};
jchemhub.io.json.getStereoCode=function(b){if(b instanceof jchemhub.model.SingleBondUp)return jchemhub.io.json.StereoType.SINGLE_BOND_UP;if(b instanceof jchemhub.model.SingleBondDown)return jchemhub.io.json.StereoType.SINGLE_BOND_DOWN;if(b instanceof jchemhub.model.SingleBondUpOrDown)return jchemhub.io.json.StereoType.SINGLE_BOND_UP_OR_DOWN;return jchemhub.io.json.StereoType.NOT_STEREO};
jchemhub.io.json.createBond=function(b,c,d,e){switch(b){case jchemhub.io.json.BondType.SINGLE_BOND:switch(c){case jchemhub.io.json.StereoType.NOT_STEREO:return new jchemhub.model.SingleBond(d,e);case jchemhub.io.json.StereoType.SINGLE_BOND_UP:return new jchemhub.model.SingleBondUp(d,e);case jchemhub.io.json.StereoType.SINGLE_BOND_UP_OR_DOWN:return new jchemhub.model.SingleBondUpOrDown(d,e);case jchemhub.io.json.StereoType.SINGLE_BOND_DOWN:return new jchemhub.model.SingleBondDown(d,e);default:throw new Error("invalid bond type/stereo ["+
b+"]/["+c+"]");}case jchemhub.io.json.BondType.DOUBLE_BOND:return new jchemhub.model.DoubleBond(d,e);case jchemhub.io.json.BondType.TRIPLE_BOND:return new jchemhub.model.TripleBond(d,e);case jchemhub.io.json.BondType.AROMATIC:return new jchemhub.model.AromaticBond(d,e);case jchemhub.io.json.BondType.SINGLE_OR_DOUBLE:case jchemhub.io.json.BondType.SINGLE_OR_AROMATIC:case jchemhub.io.json.BondType.DOUBLE_OR_AROMATIC:case jchemhub.io.json.BondType.ANY:default:throw new Error("invalid bond type/stereo ["+
b+"]/["+c+"]");}};jchemhub.io.json.readMolecule=function(b){b=b.constructor==String?goog.json.parse(b):b;var c=new jchemhub.model.Molecule;c.name=b.name;goog.array.forEach(b.atoms,function(d){c.addAtom(new jchemhub.model.Atom(d.symbol,d.coord.x,d.coord.y,d.charge))});goog.array.forEach(b.bondindex,function(d){c.addBond(jchemhub.io.json.createBond(d.type,d.stereo,c.getAtom(d.source),c.getAtom(d.target)))});return c};jchemhub.io.json.writeMolecule=function(b){return(new goog.json.Serializer).serialize(jchemhub.io.json.moleculeToJson(b))};
jchemhub.io.json.moleculeToJson=function(b){var c=goog.array.map(b.atoms,function(e){return{symbol:e.symbol,coord:{x:e.coord.x,y:e.coord.y},charge:e.charge}}),d=goog.array.map(b.bonds,function(e){var f=jchemhub.io.json.getTypeCode(e),g=jchemhub.io.json.getStereoCode(e);return{source:b.indexOfAtom(e.source),target:b.indexOfAtom(e.target),type:f,stereo:g}});return{name:b.name,atoms:c,bondindex:d}};
jchemhub.io.json.readReaction=function(b){b=b.constructor==String?goog.json.parse(b):b;var c=new jchemhub.model.Reaction;c.header=b.header;c.reactants=goog.array.map(b.reactants,jchemhub.io.json.readMolecule);c.products=goog.array.map(b.products,jchemhub.io.json.readMolecule);return c};jchemhub.io.json.reactionToJson=function(b){var c=b.header,d=goog.array.map(b.reactants,jchemhub.io.json.moleculeToJson);b=goog.array.map(b.products,jchemhub.io.json.moleculeToJson);return{header:c,reactants:d,products:b}};
jchemhub.io.json.writeReaction=function(b){return(new goog.json.Serializer).serialize(jchemhub.io.json.reactionToJson(b))};
